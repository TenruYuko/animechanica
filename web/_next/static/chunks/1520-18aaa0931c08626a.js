"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1520],{17946:(e,t,n)=>{n.d(t,{AJ:()=>w,Bs:()=>_,D3:()=>k,EZ:()=>M,F3:()=>b,KK:()=>d,LW:()=>v,N2:()=>x,Og:()=>L,bm:()=>j,dA:()=>s,dh:()=>C,lW:()=>u,nF:()=>p,nj:()=>h,o0:()=>E,s8:()=>G,u0:()=>N,uJ:()=>g,zA:()=>f});var i=n(19749),a=n(7675),l=n(74889),r=n(46278),o=n(69554);function s(e){let t,n=(0,i.c)(2);return n[0]!==e?(t={endpoint:l.S.EXTENSIONS.GetAllExtensions.endpoint,method:l.S.EXTENSIONS.GetAllExtensions.methods[0],queryKey:[l.S.EXTENSIONS.GetAllExtensions.key,e],data:{withUpdates:e},gcTime:0,enabled:!0},n[0]=e,n[1]=t):t=n[1],(0,a.fl)(t)}function d(e){let t,n=(0,i.c)(2);return n[0]!==e?(t={endpoint:l.S.EXTENSIONS.FetchExternalExtensionData.endpoint,method:l.S.EXTENSIONS.FetchExternalExtensionData.methods[0],mutationKey:[l.S.EXTENSIONS.FetchExternalExtensionData.key,e],onSuccess:c},n[0]=e,n[1]=t):t=n[1],(0,a.qk)(t)}async function c(){}function u(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.InstallExternalExtension.endpoint,method:l.S.EXTENSIONS.InstallExternalExtension.methods[0],mutationKey:[l.S.EXTENSIONS.InstallExternalExtension.key],onSuccess:m},t[0]=e):e=t[0],(0,a.qk)(e)}async function m(){}function g(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.UninstallExternalExtension.endpoint,method:l.S.EXTENSIONS.UninstallExternalExtension.methods[0],mutationKey:[l.S.EXTENSIONS.UninstallExternalExtension.key],onSuccess:S},t[0]=e):e=t[0],(0,a.qk)(e)}async function S(){o.oR.success("Extension uninstalled successfully.")}function p(e){let t,n,r,o=(0,i.c)(7);return o[0]!==e?(t=l.S.EXTENSIONS.GetExtensionPayload.endpoint.replace("{id}",e),o[0]=e,o[1]=t):t=o[1],o[2]!==e?(n=[l.S.EXTENSIONS.GetExtensionPayload.key,e],o[2]=e,o[3]=n):n=o[3],o[4]!==t||o[5]!==n?(r={endpoint:t,method:l.S.EXTENSIONS.GetExtensionPayload.methods[0],queryKey:n,enabled:!0},o[4]=t,o[5]=n,o[6]=r):r=o[6],(0,a.fl)(r)}function f(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.UpdateExtensionCode.endpoint,method:l.S.EXTENSIONS.UpdateExtensionCode.methods[0],mutationKey:[l.S.EXTENSIONS.UpdateExtensionCode.key],onSuccess:y},t[0]=e):e=t[0],(0,a.qk)(e)}async function y(){o.oR.success("Extension updated successfully.")}function h(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.ListExtensionData.endpoint,method:l.S.EXTENSIONS.ListExtensionData.methods[0],queryKey:[l.S.EXTENSIONS.ListExtensionData.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function v(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.ListMangaProviderExtensions.endpoint,method:l.S.EXTENSIONS.ListMangaProviderExtensions.methods[0],queryKey:[l.S.EXTENSIONS.ListMangaProviderExtensions.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function N(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.ListOnlinestreamProviderExtensions.endpoint,method:l.S.EXTENSIONS.ListOnlinestreamProviderExtensions.methods[0],queryKey:[l.S.EXTENSIONS.ListOnlinestreamProviderExtensions.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function x(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.ListAnimeTorrentProviderExtensions.endpoint,method:l.S.EXTENSIONS.ListAnimeTorrentProviderExtensions.methods[0],queryKey:[l.S.EXTENSIONS.ListAnimeTorrentProviderExtensions.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function E(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.RunExtensionPlaygroundCode.endpoint,method:l.S.EXTENSIONS.RunExtensionPlaygroundCode.methods[0],mutationKey:[l.S.EXTENSIONS.RunExtensionPlaygroundCode.key],onSuccess:A},t[0]=e):e=t[0],(0,a.qk)(e)}async function A(){}function w(e){let t,n,r,o=(0,i.c)(7);return o[0]!==e?(t=l.S.EXTENSIONS.GetExtensionUserConfig.endpoint.replace("{id}",e),o[0]=e,o[1]=t):t=o[1],o[2]!==e?(n=[l.S.EXTENSIONS.GetExtensionUserConfig.key,e],o[2]=e,o[3]=n):n=o[3],o[4]!==t||o[5]!==n?(r={endpoint:t,method:l.S.EXTENSIONS.GetExtensionUserConfig.methods[0],queryKey:n,enabled:!0,gcTime:0},o[4]=t,o[5]=n,o[6]=r):r=o[6],(0,a.fl)(r)}function b(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.SaveExtensionUserConfig.endpoint,method:l.S.EXTENSIONS.SaveExtensionUserConfig.methods[0],mutationKey:[l.S.EXTENSIONS.SaveExtensionUserConfig.key],onSuccess:I},t[0]=e):e=t[0],(0,a.qk)(e)}async function I(){o.oR.success("Config saved successfully.")}function M(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.ListDevelopmentModeExtensions.endpoint,method:l.S.EXTENSIONS.ListDevelopmentModeExtensions.methods[0],queryKey:[l.S.EXTENSIONS.ListDevelopmentModeExtensions.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function C(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.EXTENSIONS.ReloadExternalExtension.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.EXTENSIONS.ReloadExternalExtension.endpoint,method:l.S.EXTENSIONS.ReloadExternalExtension.methods[0],mutationKey:e,onSuccess:async()=>{o.oR.success("Extension reloaded successfully."),s.invalidateQueries({queryKey:[l.S.EXTENSIONS.ListDevelopmentModeExtensions.key]}),s.invalidateQueries({queryKey:[l.S.EXTENSIONS.GetPluginSettings.key]})}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function G(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.GetPluginSettings.endpoint,method:l.S.EXTENSIONS.GetPluginSettings.methods[0],queryKey:[l.S.EXTENSIONS.GetPluginSettings.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function k(){let e,t,n=(0,i.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.EXTENSIONS.SetPluginSettingsPinnedTrays.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:l.S.EXTENSIONS.SetPluginSettingsPinnedTrays.endpoint,method:l.S.EXTENSIONS.SetPluginSettingsPinnedTrays.methods[0],mutationKey:e,onSuccess:async()=>{o.invalidateQueries({queryKey:[l.S.EXTENSIONS.GetPluginSettings.key]})}},n[1]=o,n[2]=t):t=n[2],(0,a.qk)(t)}function j(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.EXTENSIONS.GrantPluginPermissions.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.EXTENSIONS.GrantPluginPermissions.endpoint,method:l.S.EXTENSIONS.GrantPluginPermissions.methods[0],mutationKey:e,onSuccess:async()=>{o.oR.success("Plugin permissions granted successfully."),s.invalidateQueries({queryKey:[l.S.EXTENSIONS.GetPluginSettings.key]})}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function _(e){let t,n,r=(0,i.c)(5),o=e?"?marketplace=".concat(encodeURIComponent(e)):"",s="".concat(l.S.EXTENSIONS.GetMarketplaceExtensions.endpoint).concat(o);return r[0]!==e?(t=[l.S.EXTENSIONS.GetMarketplaceExtensions.key,e],r[0]=e,r[1]=t):t=r[1],r[2]!==s||r[3]!==t?(n={endpoint:s,method:l.S.EXTENSIONS.GetMarketplaceExtensions.methods[0],queryKey:t,enabled:!0},r[2]=s,r[3]=t,r[4]=n):n=r[4],(0,a.fl)(n)}function L(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.EXTENSIONS.GetExtensionUpdateData.endpoint,method:l.S.EXTENSIONS.GetExtensionUpdateData.methods[0],queryKey:[l.S.EXTENSIONS.GetExtensionUpdateData.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}},24780:(e,t,n)=>{n.d(t,{Ef:()=>h,Kx:()=>y,L$:()=>p,c2:()=>f,em:()=>v,yb:()=>m});var i=n(19749),a=n(17946),l=n(37817),r=n(91596),o=n(29724),s=n(21842),d=n(84621),c=n.n(d),u=n(12115);let m=(0,s.tG)("sea-manga-entry-provider",{},void 0,{getOnInit:!0}),g=(0,s.tG)("sea-manga-entry-filters",{},void 0,{getOnInit:!0}),S=(e,t)=>{var n,i,a;return(null==e||null==(i=e.settings)||null==(n=i.manga)?void 0:n.defaultMangaProvider)||(null==t||null==(a=t[0])?void 0:a.id)||null};function p(e){let t=(0,l.v1)(),n=u.useMemo(()=>null==e?void 0:e.toSorted((e,t)=>e.name.localeCompare(t.name)),[e]),[i,a]=(0,o.fp)(m),r=u.useRef(!1),s=u.useCallback(()=>{if(!n||!t||r.current)return;let e=S(t,n);if(!e||0===n.length){Object.keys(i).length>0&&a({}),r.current=!0;return}let l={...i},o=!1;Object.entries(i).forEach(t=>{let[i,a]=t;n.some(e=>e.id===a)||(l[i]=e,o=!0)}),o&&a(l),r.current=!0},[n,t,i,a]);return u.useLayoutEffect(()=>{r.current=!1},[n,t]),u.useLayoutEffect(()=>{s()},[s]),{storedProviders:i,setStoredProvider:e=>{let{mediaId:t,providerId:n}=e;t&&a(e=>({...e,[String(t)]:n}))}}}function f(e){let t=(0,l.v1)(),{data:n}=(0,a.LW)(),i=u.useMemo(()=>null==n?void 0:n.toSorted((e,t)=>e.name.localeCompare(t.name)),[n]),[r,s]=(0,o.fp)(m),d=u.useRef({}),c=u.useCallback(()=>{if(!i||!t||!e||d.current[String(e)])return;let n=S(t,i),a=String(e);if(!n||0===i.length){(null==r?void 0:r[a])&&s(e=>{let t={...e};return delete t[a],t}),d.current[a]=!0;return}(null==r?void 0:r[a])?!i.some(e=>e.id===(null==r?void 0:r[a]))&&i.length>0&&s(e=>({...e,[a]:n})):s(e=>({...e,[a]:n})),d.current[a]=!0},[e,i,t,r,s]);return u.useLayoutEffect(()=>{e&&(d.current[String(e)]=!1)},[e,i,t]),u.useLayoutEffect(()=>{c()},[c]),{selectedExtension:null==i?void 0:i.find(t=>t.id===(null==r?void 0:r[String(e)])),selectedProvider:(null==r?void 0:r[String(e)])||null,setSelectedProvider:e=>{let{mId:t,provider:n}=e;t&&s(e=>({...e,[String(t)]:n}))}}}function y(e,t,n,a){var l,s,d,c;let m,S,p,f,y,h,v,N=(0,i.c)(23);N[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.l)(g),N[0]=m):m=N[0];let[x,E]=(0,o.fp)(m),A="".concat(String(e),"$").concat(n);return N[1]!==a||N[2]!==A||N[3]!==(null==t||null==(l=t.settings)?void 0:l.supportsMultiLanguage)||N[4]!==(null==t||null==(s=t.settings)?void 0:s.supportsMultiScanlator)||N[5]!==n||N[6]!==E||N[7]!==x?(S=()=>{var e,i;if(!a)return;let l={scanlators:[],language:""};if(!n)return void E(e=>(delete e[A],e));!x[A]&&((null==t||null==(e=t.settings)?void 0:e.supportsMultiScanlator)||(null==t||null==(i=t.settings)?void 0:i.supportsMultiLanguage))&&E(e=>{e[A]=l})},N[1]=a,N[2]=A,N[3]=null==t||null==(d=t.settings)?void 0:d.supportsMultiLanguage,N[4]=null==t||null==(c=t.settings)?void 0:c.supportsMultiScanlator,N[5]=n,N[6]=E,N[7]=x,N[8]=S):S=N[8],N[9]!==a||N[10]!==t?(p=[a,t],N[9]=a,N[10]=t,N[11]=p):p=N[11],u.useLayoutEffect(S,p),N[12]!==A||N[13]!==x?(f=x[A]||{scanlators:[],language:""},N[12]=A,N[13]=x,N[14]=f):f=N[14],N[15]!==A||N[16]!==E?(y=e=>{let{mId:t,scanlators:n}=e;t&&E(e=>{e[A].scanlators=n})},h=e=>{let{mId:t,language:n}=e;t&&E(e=>{e[A].language=n})},N[15]=A,N[16]=E,N[17]=y,N[18]=h):(y=N[17],h=N[18]),N[19]!==f||N[20]!==y||N[21]!==h?(v={selectedFilters:f,setSelectedScanlator:y,setSelectedLanguage:h},N[19]=f,N[20]=y,N[21]=h,N[22]=v):v=N[22],v}function h(e,t){let n,a,l,s,d=(0,i.c)(7);d[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.l)(g),d[0]=n):n=d[0];let[c]=(0,o.fp)(n);return d[1]!==e||d[2]!==c||d[3]!==t?(l={},Object.entries(c).map(n=>{var i,a,r,o;let[s,d]=n,[c]=s.split("$"),u=t[c],m=null==e?void 0:e.find(e=>e.id===u);((null==m||null==(i=m.settings)?void 0:i.supportsMultiScanlator)||(null==m||null==(a=m.settings)?void 0:a.supportsMultiLanguage))&&(l[c]={scanlators:null!=(r=d.scanlators)?r:[],language:null!=(o=d.language)?o:""})}),d[1]=e,d[2]=c,d[3]=t,d[4]=l):l=d[4],a=l,d[5]!==a?(s={storedFilters:a},d[5]=a,d[6]=s):s=d[6],s}function v(e,t,n,i){var a,l,r;let o=n[String(e)],s=null==i?void 0:i[String(e)];if(!o)return null;let d=null==(a=t[Number(e)])?void 0:a.filter(e=>e.provider===o),u=null;if(s){if(!(u=null==d?void 0:d.find(e=>!!s.scanlators[0]&&!!s.language&&s.scanlators[0]===e.scanlator&&s.language===e.language))){let e=null!=(l=null==d?void 0:d.filter(e=>!!s.language&&s.language===e.language))?l:[];u=c()(e,"number").reverse()[0]}if(!u){let e=null!=(r=null==d?void 0:d.filter(e=>!!s.scanlators[0]&&s.scanlators[0]===e.scanlator))?r:[];u=c()(e,"number").reverse()[0]}}return u||(u={provider:o,language:"",scanlator:"",number:null==d?void 0:d.reduce((e,t)=>Math.max(e,t.number),0)}),null==u?void 0:u.number}},38900:(e,t,n)=>{n.d(t,{Kj:()=>A,Kq:()=>c,MT:()=>E,Or:()=>u,QJ:()=>d,TA:()=>x,Uy:()=>N,WA:()=>f,aw:()=>h,cE:()=>p,dk:()=>m,er:()=>g,gr:()=>s,ke:()=>v,sJ:()=>S,w4:()=>y,wF:()=>w});var i=n(19749),a=n(7675),l=n(74889),r=n(46278),o=n(69554);function s(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.MANGA.GetRawAnilistMangaCollection.endpoint,method:l.S.MANGA.GetRawAnilistMangaCollection.methods[0],queryKey:[l.S.MANGA.GetRawAnilistMangaCollection.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function d(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.MANGA.GetMangaCollection.endpoint,method:l.S.MANGA.GetMangaCollection.methods[0],queryKey:[l.S.MANGA.GetMangaCollection.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function c(e){let t,n,r,o=(0,i.c)(8);o[0]!==e?(t=l.S.MANGA.GetMangaEntry.endpoint.replace("{id}",String(e)),o[0]=e,o[1]=t):t=o[1];let s=String(e);o[2]!==s?(n=[l.S.MANGA.GetMangaEntry.key,s],o[2]=s,o[3]=n):n=o[3];let d=!!e;return o[4]!==t||o[5]!==n||o[6]!==d?(r={endpoint:t,method:l.S.MANGA.GetMangaEntry.methods[0],queryKey:n,enabled:d},o[4]=t,o[5]=n,o[6]=d,o[7]=r):r=o[7],(0,a.fl)(r)}function u(e){let t,n,r,o=(0,i.c)(8);o[0]!==e?(t=l.S.MANGA.GetMangaEntryDetails.endpoint.replace("{id}",String(e)),o[0]=e,o[1]=t):t=o[1];let s=String(e);o[2]!==s?(n=[l.S.MANGA.GetMangaEntryDetails.key,s],o[2]=s,o[3]=n):n=o[3];let d=!!e;return o[4]!==t||o[5]!==n||o[6]!==d?(r={endpoint:t,method:l.S.MANGA.GetMangaEntryDetails.methods[0],queryKey:n,enabled:d},o[4]=t,o[5]=n,o[6]=d,o[7]=r):r=o[7],(0,a.fl)(r)}function m(){let e,t,n=(0,i.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.MANGA.EmptyMangaEntryCache.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:l.S.MANGA.EmptyMangaEntryCache.endpoint,method:l.S.MANGA.EmptyMangaEntryCache.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryChapters.key]}),await o.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryPages.key]})}},n[1]=o,n[2]=t):t=n[2],(0,a.qk)(t)}function g(e){let t,n,r=(0,i.c)(7),o=String(e.mediaId);r[0]!==o||r[1]!==e.provider?(t=[l.S.MANGA.GetMangaEntryChapters.key,o,e.provider],r[0]=o,r[1]=e.provider,r[2]=t):t=r[2];let s=!!e.mediaId&&!!e.provider;return r[3]!==t||r[4]!==e||r[5]!==s?(n={endpoint:l.S.MANGA.GetMangaEntryChapters.endpoint,method:l.S.MANGA.GetMangaEntryChapters.methods[0],queryKey:t,data:e,enabled:s},r[3]=t,r[4]=e,r[5]=s,r[6]=n):n=r[6],(0,a.fl)(n)}function S(e){let t,n,r=(0,i.c)(9),o=String(e.mediaId);r[0]!==o||r[1]!==e.chapterId||r[2]!==e.doublePage||r[3]!==e.provider?(t=[l.S.MANGA.GetMangaEntryPages.key,o,e.provider,e.chapterId,e.doublePage],r[0]=o,r[1]=e.chapterId,r[2]=e.doublePage,r[3]=e.provider,r[4]=t):t=r[4];let s=!!e.mediaId&&!!e.provider&&!!e.chapterId;return r[5]!==t||r[6]!==e||r[7]!==s?(n={endpoint:l.S.MANGA.GetMangaEntryPages.endpoint,method:l.S.MANGA.GetMangaEntryPages.methods[0],queryKey:t,data:e,enabled:s},r[5]=t,r[6]=e,r[7]=s,r[8]=n):n=r[8],(0,a.fl)(n)}function p(e,t){let n,r,o=(0,i.c)(6);o[0]!==e?(n=[l.S.MANGA.AnilistListManga.key,e],o[0]=e,o[1]=n):n=o[1];let s=null==t||t;return o[2]!==n||o[3]!==s||o[4]!==e?(r={endpoint:l.S.MANGA.AnilistListManga.endpoint,method:l.S.MANGA.AnilistListManga.methods[0],queryKey:n,data:e,enabled:s},o[2]=n,o[3]=s,o[4]=e,o[5]=r):r=o[5],(0,a.fl)(r)}function f(e){let t,n,o=(0,i.c)(4),s=(0,r.jE)();return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[l.S.MANGA.UpdateMangaProgress.key],o[0]=t):t=o[0],o[1]!==e||o[2]!==s?(n={endpoint:l.S.MANGA.UpdateMangaProgress.endpoint,method:l.S.MANGA.UpdateMangaProgress.methods[0],mutationKey:t,onSuccess:async()=>{await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntry.key,String(e)]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaCollection.key]})}},o[1]=e,o[2]=s,o[3]=n):n=o[3],(0,a.qk)(n)}function y(e,t){let n,r=(0,i.c)(3),o=String(e);return r[0]!==t||r[1]!==o?(n={endpoint:l.S.MANGA.MangaManualSearch.endpoint,method:l.S.MANGA.MangaManualSearch.methods[0],mutationKey:[l.S.MANGA.MangaManualSearch.key,o,t],gcTime:0},r[0]=t,r[1]=o,r[2]=n):n=r[2],(0,a.qk)(n)}function h(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.MANGA.MangaManualMapping.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.MANGA.MangaManualMapping.endpoint,method:l.S.MANGA.MangaManualMapping.methods[0],mutationKey:e,onSuccess:async()=>{o.oR.success("Mapping added"),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryChapters.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryPages.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaMapping.key]})}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function v(e){let t,n,r=(0,i.c)(7),o=String(e.mediaId);r[0]!==o||r[1]!==e.provider?(t=[l.S.MANGA.GetMangaMapping.key,o,e.provider],r[0]=o,r[1]=e.provider,r[2]=t):t=r[2];let s=!!e.provider&&!!e.mediaId;return r[3]!==t||r[4]!==e||r[5]!==s?(n={endpoint:l.S.MANGA.GetMangaMapping.endpoint,method:l.S.MANGA.GetMangaMapping.methods[0],queryKey:t,data:e,enabled:s},r[3]=t,r[4]=e,r[5]=s,r[6]=n):n=r[6],(0,a.fl)(n)}function N(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.MANGA.RemoveMangaMapping.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.MANGA.RemoveMangaMapping.endpoint,method:l.S.MANGA.RemoveMangaMapping.methods[0],mutationKey:e,onSuccess:async()=>{o.oR.info("Mapping removed"),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryChapters.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryPages.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaMapping.key]})}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function x(e){let t,n,r,o=(0,i.c)(7);o[0]!==e?(t=l.S.MANGA.GetMangaEntryDownloadedChapters.endpoint.replace("{id}",String(e)),o[0]=e,o[1]=t):t=o[1];let s=String(e);return o[2]!==s?(n=[l.S.MANGA.GetMangaEntryDownloadedChapters.key,s],o[2]=s,o[3]=n):n=o[3],o[4]!==t||o[5]!==n?(r={endpoint:t,method:l.S.MANGA.GetMangaEntryDownloadedChapters.methods[0],queryKey:n},o[4]=t,o[5]=n,o[6]=r):r=o[6],(0,a.fl)(r)}function E(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.MANGA.GetMangaLatestChapterNumbersMap.endpoint,method:l.S.MANGA.GetMangaLatestChapterNumbersMap.methods[0],queryKey:[l.S.MANGA.GetMangaLatestChapterNumbersMap.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function A(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.MANGA.RefetchMangaChapterContainers.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.MANGA.RefetchMangaChapterContainers.endpoint,method:l.S.MANGA.RefetchMangaChapterContainers.methods[0],mutationKey:e,onSuccess:async()=>{await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaLatestChapterNumbersMap.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryChapters.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntryPages.key]}),o.oR.success("Sources refreshed")}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function w(e){let t,n=(0,i.c)(2),r=String(e.mediaId);return n[0]!==r?(t={endpoint:l.S.MANGA.GetLocalMangaFiles.endpoint,method:l.S.MANGA.GetLocalMangaFiles.methods[0],mutationKey:[l.S.MANGA.GetLocalMangaFiles.key,r],gcTime:0},n[0]=r,n[1]=t):t=n[1],(0,a.qk)(t)}},42094:(e,t,n)=>{n.d(t,{O5:()=>u,XF:()=>g,ZK:()=>h,Z_:()=>c,gW:()=>f,h7:()=>p,iF:()=>d,pu:()=>y,qN:()=>S,u:()=>s,yg:()=>m});var i=n(19749),a=n(7675),l=n(74889),r=n(46278),o=n(69554);function s(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.ANILIST.GetAnimeCollection.endpoint,method:l.S.ANILIST.GetAnimeCollection.methods[0],queryKey:[l.S.ANILIST.GetAnimeCollection.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function d(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.ANILIST.GetRawAnimeCollection.endpoint,method:l.S.ANILIST.GetRawAnimeCollection.methods[0],queryKey:[l.S.ANILIST.GetRawAnimeCollection.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function c(){let e,t,n=(0,i.c)(3),s=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[l.S.ANILIST.GetAnimeCollection.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:l.S.ANILIST.GetAnimeCollection.endpoint,method:l.S.ANILIST.GetAnimeCollection.methods[1],mutationKey:e,onSuccess:async()=>{o.oR.success("AniList is up-to-date"),await s.invalidateQueries({queryKey:[l.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await s.invalidateQueries({queryKey:[l.S.ANILIST.GetAnimeCollection.key]}),await s.invalidateQueries({queryKey:[l.S.ANILIST.GetRawAnimeCollection.key]}),await s.invalidateQueries({queryKey:[l.S.ANIME_ENTRIES.GetMissingEpisodes.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaCollection.key]}),await s.invalidateQueries({queryKey:[l.S.ANIME_ENTRIES.GetAnimeEntry.key]}),await s.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntry.key]})}},n[1]=s,n[2]=t):t=n[2],(0,a.qk)(t)}function u(e,t){let n,s,d,c=(0,i.c)(9),u=(0,r.jE)(),m=String(e);return c[0]!==m?(n=[l.S.ANILIST.EditAnilistListEntry.key,m],c[0]=m,c[1]=n):n=c[1],c[2]!==e||c[3]!==u||c[4]!==t?(s=async()=>{o.oR.success("Entry updated"),"anime"===t?(await u.invalidateQueries({queryKey:[l.S.ANIME_ENTRIES.GetAnimeEntry.key,String(e)]}),await u.invalidateQueries({queryKey:[l.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await u.invalidateQueries({queryKey:[l.S.ANILIST.GetAnimeCollection.key]}),await u.invalidateQueries({queryKey:[l.S.ANILIST.GetRawAnimeCollection.key]})):"manga"===t&&(await u.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntry.key,String(e)]}),await u.invalidateQueries({queryKey:[l.S.MANGA.GetAnilistMangaCollection.key]}),await u.invalidateQueries({queryKey:[l.S.MANGA.GetMangaCollection.key]}))},c[2]=e,c[3]=u,c[4]=t,c[5]=s):s=c[5],c[6]!==n||c[7]!==s?(d={endpoint:l.S.ANILIST.EditAnilistListEntry.endpoint,method:l.S.ANILIST.EditAnilistListEntry.methods[0],mutationKey:n,onSuccess:s},c[6]=n,c[7]=s,c[8]=d):d=c[8],(0,a.qk)(d)}function m(e){let t,n,r,o=(0,i.c)(8);o[0]!==e?(t=l.S.ANILIST.GetAnilistAnimeDetails.endpoint.replace("{id}",String(e)),o[0]=e,o[1]=t):t=o[1];let s=String(e);o[2]!==s?(n=[l.S.ANILIST.GetAnilistAnimeDetails.key,s],o[2]=s,o[3]=n):n=o[3];let d=!!e;return o[4]!==t||o[5]!==n||o[6]!==d?(r={endpoint:t,method:l.S.ANILIST.GetAnilistAnimeDetails.methods[0],queryKey:n,enabled:d},o[4]=t,o[5]=n,o[6]=d,o[7]=r):r=o[7],(0,a.fl)(r)}function g(e,t,n){let s,d,c=(0,i.c)(6),u=(0,r.jE)();return c[0]===Symbol.for("react.memo_cache_sentinel")?(s=[l.S.ANILIST.DeleteAnilistListEntry.key],c[0]=s):s=c[0],c[1]!==e||c[2]!==n||c[3]!==u||c[4]!==t?(d={endpoint:l.S.ANILIST.DeleteAnilistListEntry.endpoint,method:l.S.ANILIST.DeleteAnilistListEntry.methods[0],mutationKey:s,onSuccess:async()=>{o.oR.success("Entry deleted"),"anime"===t?(await u.invalidateQueries({queryKey:[l.S.ANIME_ENTRIES.GetAnimeEntry.key,String(e)]}),await u.invalidateQueries({queryKey:[l.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await u.invalidateQueries({queryKey:[l.S.ANILIST.GetAnimeCollection.key]}),await u.invalidateQueries({queryKey:[l.S.ANILIST.GetRawAnimeCollection.key]})):"manga"===t&&(await u.invalidateQueries({queryKey:[l.S.MANGA.GetMangaEntry.key,String(e)]}),await u.invalidateQueries({queryKey:[l.S.MANGA.GetAnilistMangaCollection.key]}),await u.invalidateQueries({queryKey:[l.S.MANGA.GetMangaCollection.key]})),n()}},c[1]=e,c[2]=n,c[3]=u,c[4]=t,c[5]=d):d=c[5],(0,a.qk)(d)}function S(e,t){let n,r,o=(0,i.c)(6);o[0]!==e?(n=[l.S.ANILIST.AnilistListAnime.key,e],o[0]=e,o[1]=n):n=o[1];let s=null==t||t;return o[2]!==n||o[3]!==s||o[4]!==e?(r={endpoint:l.S.ANILIST.AnilistListAnime.endpoint,method:l.S.ANILIST.AnilistListAnime.methods[0],queryKey:n,data:e,enabled:s},o[2]=n,o[3]=s,o[4]=e,o[5]=r):r=o[5],(0,a.fl)(r)}function p(e,t){let n,r,o,s=(0,i.c)(8),d=void 0===t||t;return s[0]!==e?(n=JSON.stringify(e),s[0]=e,s[1]=n):n=s[1],s[2]!==n?(r=[l.S.ANILIST.AnilistListRecentAiringAnime.key,n],s[2]=n,s[3]=r):r=s[3],s[4]!==d||s[5]!==r||s[6]!==e?(o={endpoint:l.S.ANILIST.AnilistListRecentAiringAnime.endpoint,method:l.S.ANILIST.AnilistListRecentAiringAnime.methods[0],queryKey:r,data:e,enabled:d},s[4]=d,s[5]=r,s[6]=e,s[7]=o):o=s[7],(0,a.fl)(o)}function f(e){let t,n,r,o=(0,i.c)(7);o[0]!==e?(t=l.S.ANILIST.GetAnilistStudioDetails.endpoint.replace("{id}",String(e)),o[0]=e,o[1]=t):t=o[1];let s=String(e);return o[2]!==s?(n=[l.S.ANILIST.GetAnilistStudioDetails.key,s],o[2]=s,o[3]=n):n=o[3],o[4]!==t||o[5]!==n?(r={endpoint:t,method:l.S.ANILIST.GetAnilistStudioDetails.methods[0],queryKey:n,enabled:!0},o[4]=t,o[5]=n,o[6]=r):r=o[6],(0,a.fl)(r)}function y(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:l.S.ANILIST.GetAniListStats.endpoint,method:l.S.ANILIST.GetAniListStats.methods[0],queryKey:[l.S.ANILIST.GetAniListStats.key],enabled:!0},t[0]=e):e=t[0],(0,a.fl)(e)}function h(e){let t,n,r=(0,i.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=[l.S.ANILIST.AnilistListMissedSequels.key],r[0]=t):t=r[0],r[1]!==e?(n={endpoint:l.S.ANILIST.AnilistListMissedSequels.endpoint,method:l.S.ANILIST.AnilistListMissedSequels.methods[0],queryKey:t,enabled:e},r[1]=e,r[2]=n):n=r[2],(0,a.fl)(n)}},45754:(e,t,n)=>{n.d(t,{f:()=>s});var i=n(95155),a=n(19749);let l={initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",damping:20,stiffness:100}};var r=n(91360),o=n(48095);function s(e){let t,n,s,d,c,u=(0,a.c)(10);u[0]!==e?({children:t,className:n,...s}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=s):(t=u[1],n=u[2],s=u[3]);let m=s;return u[4]!==n?(d=(0,r.cn)("z-[5] relative",n),u[4]=n,u[5]=d):d=u[5],u[6]!==t||u[7]!==m||u[8]!==d?(c=(0,i.jsx)("div",{"data-page-wrapper-container":!0,children:(0,i.jsx)(o.P.div,{"data-page-wrapper":!0,...l,...m,className:d,children:t})}),u[6]=t,u[7]=m,u[8]=d,u[9]=c):c=u[9],c}n(12115)},52963:(e,t,n)=>{n.d(t,{Zp:()=>d,Wu:()=>g,BT:()=>m,wL:()=>S,aR:()=>c,ZB:()=>u});var i=n(95155),a=n(19749),l=n(21335),r=n(12115),o=n(91360);let s=(0,o.u)({root:(0,l.F)(["UI-Card__root","rounded-[--radius] border bg-[--paper] shadow-sm"]),header:(0,l.F)(["UI-Card__header","flex flex-col space-y-1.5 p-4"]),title:(0,l.F)(["UI-Card__title","text-2xl font-semibold leading-none tracking-tight"]),description:(0,l.F)(["UI-Card__description","text-sm text-[--muted]"]),content:(0,l.F)(["UI-Card__content","p-4 pt-0"]),footer:(0,l.F)(["UI-Card__footer","flex items-center p-4 pt-0"])}),d=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.root(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("div",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});d.displayName="Card";let c=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.header(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("div",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});c.displayName="CardHeader";let u=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.title(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("h3",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});u.displayName="CardTitle";let m=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.description(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("p",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});m.displayName="CardDescription";let g=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.content(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("div",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});g.displayName="CardContent";let S=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.footer(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("div",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});S.displayName="CardFooter"},70274:(e,t,n)=>{n.d(t,{Es:()=>r,ML:()=>l,w5:()=>o});var i=n(19749),a=n(12115);function l(e,t,n,l){let o,s,d,c,u=(0,i.c)(11),m=a.useRef(t);u[0]!==t?(o=()=>{m.current=t},s=[t],u[0]=t,u[1]=o,u[2]=s):(o=u[1],s=u[2]),r(o,s),u[3]!==(null==n?void 0:n.current)||u[4]!==e||u[5]!==l?(d=()=>{var t;let i=null!=(t=null==n?void 0:n.current)?t:window;if(!(i&&i.addEventListener))return;let a=e=>m.current(e);return i.addEventListener(e,a,l),()=>{i.removeEventListener(e,a,l)}},u[3]=null==n?void 0:n.current,u[4]=e,u[5]=l,u[6]=d):d=u[6],u[7]!==n||u[8]!==e||u[9]!==l?(c=[e,n,l],u[7]=n,u[8]=e,u[9]=l,u[10]=c):c=u[10],a.useEffect(d,c)}let r=a.useLayoutEffect;function o(e,t){let n,l=(0,i.c)(2),r=a.useRef(!0);l[0]!==e?(n=()=>{if(!r.current)return e();r.current=!1},l[0]=e,l[1]=n):n=l[1],a.useEffect(n,t)}},77717:(e,t,n)=>{n.d(t,{E:()=>d});var i=n(95155),a=n(19749),l=n(21335),r=n(12115),o=n(91360);let s=(0,o.u)({root:(0,l.F)(["UI-Skeleton__root","animate-pulse rounded-[--radius-md] bg-[--subtle] w-full h-12"])}),d=r.forwardRef((e,t)=>{let n,l,r,d,c=(0,a.c)(9);return c[0]!==e?({className:n,...l}=e,c[0]=e,c[1]=n,c[2]=l):(n=c[1],l=c[2]),c[3]!==n?(r=(0,o.cn)(s.root(),n),c[3]=n,c[4]=r):r=c[4],c[5]!==t||c[6]!==l||c[7]!==r?(d=(0,i.jsx)("div",{ref:t,className:r,...l}),c[5]=t,c[6]=l,c[7]=r,c[8]=d):d=c[8],d});d.displayName="Skeleton"},83563:(e,t,n)=>{n.d(t,{H:()=>o});var i=n(42500),a=n(29724),l=n(12115);let r=(0,i.eU)({});function o(){let[e,t]=(0,a.fp)(r);return{inject:l.useCallback((e,n)=>{t(t=>{let i=Object.keys(t).map(e=>({injectable:t[e],key:e}));return i.push({injectable:n,key:e}),i.sort((e,t)=>(t.injectable.priority||0)-(e.injectable.priority||0)),i.reduce((e,t)=>(e[t.key]=t.injectable,e),{})})},[]),remove:l.useCallback(e=>{t(t=>{let n={...t};return delete n[e],n})},[]),injectables:e}}},90764:(e,t,n)=>{n.d(t,{zh:()=>W,kg:()=>H,xd:()=>$,$f:()=>D,S_:()=>R,gC:()=>O});var i=n(95155),a=n(19749),l=n(12313),r=n(21335),o=n(12115),s=n(84127),d=n(52963),c=n(91360),u=n(17934),m=n(2091),g=n(76136);let S=(0,c.u)({root:(0,r.F)(["UI-Pagination__root","flex gap-1 text-xs font-medium"]),item:(0,r.F)(["UI-Pagination__item","bg-transparent dark:bg-transparent text-sm text-[--muted] inline-flex h-8 w-8 items-center justify-center rounded-[--radius] border cursor-pointer","hover:bg-[--subtle] dark:hover:bg-[--subtle] hover:border-[--subtle] select-none","data-[selected=true]:bg-brand-500 data-[selected=true]:border-transparent data-[selected=true]:text-white data-[selected=true]:hover:bg-brand data-[selected=true]:pointer-events-none","data-[disabled=true]:opacity-50 data-[disabled=true]:pointer-events-none data-[disabled=true]:cursor-not-allowed","outline-none ring-[--ring] focus-visible:ring-2"]),ellipsis:(0,r.F)(["UI-Pagination__ellipsis","flex p-2 items-center text-[1.05rem]"])}),p=o.createContext({}),f=o.forwardRef((e,t)=>{let n,l,r,o,s,d,u,m,g,f=(0,a.c)(19);return f[0]!==e?({children:n,itemClass:o,className:l,ellipsisClass:r,...s}=e,f[0]=e,f[1]=n,f[2]=l,f[3]=r,f[4]=o,f[5]=s):(n=f[1],l=f[2],r=f[3],o=f[4],s=f[5]),f[6]!==r||f[7]!==o?(d={itemClass:o,ellipsisClass:r},f[6]=r,f[7]=o,f[8]=d):d=f[8],f[9]!==l?(u=(0,c.cn)(S.root(),l),f[9]=l,f[10]=u):u=f[10],f[11]!==n||f[12]!==t||f[13]!==s||f[14]!==u?(m=(0,i.jsx)("ul",{ref:t,className:u,role:"navigation",...s,children:n}),f[11]=n,f[12]=t,f[13]=s,f[14]=u,f[15]=m):m=f[15],f[16]!==d||f[17]!==m?(g=(0,i.jsx)(p.Provider,{value:d,children:m}),f[16]=d,f[17]=m,f[18]=g):g=f[18],g});f.displayName="Pagination",o.forwardRef((e,t)=>{let n,l,r,s,d,u=(0,a.c)(12);u[0]!==e?({value:r,className:n,...l}=e,u[0]=e,u[1]=n,u[2]=l,u[3]=r):(n=u[1],l=u[2],r=u[3]);let{itemClass:m}=o.useContext(p);return u[4]!==n||u[5]!==m?(s=(0,c.cn)(S.item(),m,n),u[4]=n,u[5]=m,u[6]=s):s=u[6],u[7]!==t||u[8]!==l||u[9]!==s||u[10]!==r?(d=(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:s,...l,ref:t,children:r})}),u[7]=t,u[8]=l,u[9]=s,u[10]=r,u[11]=d):d=u[11],d}).displayName="PaginationItem";let y=o.forwardRef((e,t)=>{let n,l,r,s,d,u,m,g,f=(0,a.c)(19);f[0]!==e?({isChevrons:s,isDisabled:d,direction:l,className:n,...r}=e,f[0]=e,f[1]=n,f[2]=l,f[3]=r,f[4]=s,f[5]=d):(n=f[1],l=f[2],r=f[3],s=f[4],d=f[5]);let y=void 0!==s&&s,h=void 0!==d&&d,{itemClass:v}=o.useContext(p);f[6]!==n||f[7]!==v?(u=(0,c.cn)(S.item(),v,n),f[6]=n,f[7]=v,f[8]=u):u=f[8];let N=h?-1:void 0;return f[9]!==l||f[10]!==y?(m="previous"===l?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("polyline",{points:"11 17 6 12 11 7"}),(0,i.jsx)("polyline",{points:"18 17 13 12 18 7"})]}):(0,i.jsx)("polyline",{points:"15 18 9 12 15 6"})}):(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("polyline",{points:"13 17 18 12 13 7"}),(0,i.jsx)("polyline",{points:"6 17 11 12 6 7"})]}):(0,i.jsx)("polyline",{points:"9 18 15 12 9 6"})}),f[9]=l,f[10]=y,f[11]=m):m=f[11],f[12]!==h||f[13]!==t||f[14]!==r||f[15]!==u||f[16]!==N||f[17]!==m?(g=(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:u,"data-disabled":h,tabIndex:N,...r,ref:t,children:m})}),f[12]=h,f[13]=t,f[14]=r,f[15]=u,f[16]=N,f[17]=m,f[18]=g):g=f[18],g});y.displayName="PaginationTrigger",o.forwardRef((e,t)=>{let n,l,r,s,d,u=(0,a.c)(12);u[0]!==e?({className:n,...l}=e,u[0]=e,u[1]=n,u[2]=l):(n=u[1],l=u[2]);let{ellipsisClass:m}=o.useContext(p);return u[3]!==n||u[4]!==m?(r=(0,c.cn)(S.ellipsis(),m,n),u[3]=n,u[4]=m,u[5]=r):r=u[5],u[6]!==t||u[7]!==l?(s=(0,i.jsx)("span",{...l,ref:t,children:"…"}),u[6]=t,u[7]=l,u[8]=s):s=u[8],u[9]!==r||u[10]!==s?(d=(0,i.jsx)("li",{className:r,children:s}),u[9]=r,u[10]=s,u[11]=d):d=u[11],d}).displayName="PaginationEllipsis";var h=n(30033),v=n(77717),N=n(53712),x=n(97400);let E=(0,c.u)({root:(0,r.F)(["UI-DataGridCellInputField__root"])});function A(e){let{className:t,cell:n,table:a,row:l,rowErrors:r,onValueUpdated:s,meta:{field:d,zodType:u,valueFormatter:m}}=e,g=null!=m?m:e=>e,S=g(n.getContext().getValue()),p=o.useRef(null),[f,y]=o.useState(S);return o.useLayoutEffect(()=>{var e;s(S,l,n,u),null==(e=p.current)||e.focus()},[]),(0,i.jsx)("div",{className:(0,c.cn)(E.root(),t),children:d({value:f,onChange:e=>{y(e),s(g(e),l,n,u)},ref:p},{rowErrors:r,table:a,row:l,cell:n})})}A.displayName="DataGridCellInputField";var w=n(63352),b=n(69402),I=n(52885),M=n(56190),C=n(43612);let G={fr:M.fr,en:C.c},k={filters:{fr:"Filtres",en:"Filters"},"no-matching-result":{fr:"Aucun r\xe9sultat ne correspond aux filtres",en:"No results matching filters"},"remove-filters":{fr:"Retirer les filtres",en:"Remove all filters"},page:{fr:"Page",en:"Page"},"rows-selected":{fr:"lignes s\xe9lectionn\xe9es",en:"rows selected"},"row-selected":{fr:"ligne s\xe9lectionn\xe9e",en:"row selected"},save:{fr:"Enregistrer",en:"Save"},cancel:{fr:"Annuler",en:"Cancel"},updating:{fr:"Modification",en:"Updating"},true:{fr:"Vrai",en:"True"},false:{fr:"Faux",en:"False"},"date-range-placeholder":{fr:"S\xe9lectionnez une p\xe9riode",en:"Select a range"}},j=(0,c.u)({root:(0,r.F)(["UI-DataGridFilter__root","flex items-center max-w-full gap-2"])});function _(e){var t,n,a;let{children:l,className:r,column:d,onRemove:m,lng:g="en",...S}=e,p=R(d,"filteringMeta"),f=o.useMemo(()=>d.getFilterValue(),[d.getFilterValue()]),y=o.useMemo(()=>d.setFilterValue,[d.setFilterValue]),v=p.icon,N=p.valueFormatter||O(d),x=null!=(a=p.options)?a:[],E=o.useCallback(e=>{y(e)},[]);return(0,i.jsxs)("div",{className:(0,c.cn)(j.root(),r),...S,children:["select"===p.type&&(!x||0===x.length)&&(0,i.jsx)("div",{className:"text-red-500",children:'/!\\ "Select" filtering option passed without options'}),"select"===p.type&&!!x&&x.length>0&&(0,i.jsx)(h.l,{leftIcon:v||(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:(0,i.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),leftAddon:p.name,options:[...x.map(e=>({value:e.value,label:N(e.value)}))],onValueChange:e=>E(e.trim().toLowerCase()),size:"sm",fieldClass:"w-fit",className:"sm:w-auto pr-8 md:max-w-sm"}),"boolean"===p.type&&(0,i.jsx)(u.rI,{className:"right-[inherit] left",trigger:(0,i.jsx)(L,{options:p,value:N(f)}),children:(0,i.jsxs)(u.I,{children:[(0,i.jsx)(u._2,{onClick:()=>E(!0),children:"boolean"==typeof N(!0)?k.true[g]:N(!0)}),(0,i.jsx)(u._2,{onClick:()=>E(!1),children:"boolean"==typeof N(!1)?k.false[g]:N(!1)})]})}),"checkbox"===p.type&&!!x.length&&(0,i.jsx)(u.rI,{className:"right-[inherit] left",trigger:(0,i.jsx)(L,{options:p,value:Array.isArray(f)?f.map(e=>N(e)):N(f)}),children:(0,i.jsx)(u.I,{className:"p-1",children:(null==(t=p.options)?void 0:t.length)&&(0,i.jsx)(w.$Q,{options:p.options,value:f,onValueChange:E,itemContainerClass:"flex flex-row-reverse w-full justify-between",itemLabelClass:"cursor-pointer"})})}),"radio"===p.type&&!!x.length&&(0,i.jsx)(u.rI,{className:"right-[inherit] left",trigger:(0,i.jsx)(L,{options:p,value:Array.isArray(f)?f.map(e=>N(e)):N(f)}),children:(0,i.jsx)(u.I,{className:"p-1",children:(null==(n=p.options)?void 0:n.length)&&(0,i.jsx)(I.z,{options:p.options,value:f,onValueChange:E,itemContainerClass:"flex flex-row-reverse w-full justify-between",itemLabelClass:"cursor-pointer"})})}),"date-range"===p.type&&(0,i.jsxs)("div",{className:(0,c.cn)(H.filterDropdownButton(),"truncate overflow-ellipsis"),children:[p.icon&&(0,i.jsx)("span",{children:p.icon}),(0,i.jsxs)("span",{children:[p.name,":"]}),(0,i.jsx)(b.Ur,{value:f?{from:f.start,to:f.end}:void 0,onValueChange:e=>E({start:null==e?void 0:e.from,end:null==e?void 0:e.to}),placeholder:k["date-range-placeholder"][g],intent:"unstyled",locale:G[g]})]}),(0,i.jsx)(s.Jn,{intent:"gray-outline",onClick:m,size:"md"})]})}(0,c.u)({root:(0,r.F)(["UI-DataGridActiveFilter__root","py-1 px-2 rounded-[--radius] border flex gap-2 items-center"])}),_.displayName="DataGridFilter";let L=o.forwardRef((e,t)=>{let n,l,r,o,s,d,u,m,g,S=(0,a.c)(19);if(S[0]!==e){let{children:t,options:i,value:a,...o}=e;n=i,r=a,l=o,S[0]=e,S[1]=n,S[2]=l,S[3]=r}else n=S[1],l=S[2],r=S[3];S[4]!==r?(o=Array.isArray(r)?r.length>2?[...r.slice(0,2),"..."].join(", "):r.join(", "):String(r),S[4]=r,S[5]=o):o=S[5];let p=o;return S[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.cn)(H.filterDropdownButton(),"truncate overflow-ellipsis"),S[6]=s):s=S[6],S[7]!==n.icon?(d=n.icon&&(0,i.jsx)("span",{children:n.icon}),S[7]=n.icon,S[8]=d):d=S[8],S[9]!==n.name?(u=(0,i.jsxs)("span",{children:[n.name,":"]}),S[9]=n.name,S[10]=u):u=S[10],S[11]!==p?(m=(0,i.jsx)("span",{className:"font-semibold flex flex-none overflow-hidden whitespace-normal",children:p}),S[11]=p,S[12]=m):m=S[12],S[13]!==t||S[14]!==l||S[15]!==d||S[16]!==u||S[17]!==m?(g=(0,i.jsxs)("button",{ref:t,className:s,...l,children:[d,u,m]}),S[13]=t,S[14]=l,S[15]=d,S[16]=u,S[17]=m,S[18]=g):g=S[18],g});L.displayName="DataGridActiveFilter";var T=n(78399);function K(e){return{editingMeta:{...e}}}function F(e){return{filteringMeta:{...e}}}let P=e=>({select:"equalsString",boolean:"equals",checkbox:"arrIncludesSome",radio:"equalsString","date-range":"dateRangeFilter"})[e];function q(e){return{valueFormatter:e}}function O(e){var t;return(null==(t=e.columnDef.meta)?void 0:t.valueFormatter)||(e=>e)}function D(e){return e({withFiltering:F,getFilterFn:P,withEditing:K,withValueFormatter:q})}function R(e,t){var n;return null==(n=e.columnDef.meta)?void 0:n[t]}var X=n(65468),U=n(30616);let Q=(e,t,n)=>{if(!n||!n.start||!n.end)return!0;let i=e.getValue(t);return i>=n.start&&i<=n.end||(0,U.r)(i,n.start)||(0,U.r)(i,n.end)};var V=n(46487),z=n.n(V),B=n(70274);let H=(0,c.u)({root:(0,r.F)(["UI-DataGrid__root"]),header:(0,r.F)(["UI-DataGrid__header","block space-y-4 w-full mb-4"]),toolbar:(0,r.F)(["UI-DataGrid__toolbar","flex w-full items-center gap-4 flex-wrap"]),tableContainer:(0,r.F)(["UI-DataGrid__tableContainer","align-middle inline-block min-w-full max-w-full overflow-x-auto relative"]),table:(0,r.F)(["UI-DataGrid__table","w-full relative table-fixed"]),tableHead:(0,r.F)(["UI-DataGrid__tableHead",""]),th:(0,r.F)(["UI-DataGrid__th group/th","px-3 h-12 text-left text-sm font-bold","data-[is-selection-col=true]:px-3 data-[is-selection-col=true]:sm:px-1 data-[is-selection-col=true]:text-center"]),titleChevronContainer:(0,r.F)(["UI-DataGrid__titleChevronContainer","absolute flex items-center inset-y-0 top-1 -right-9 group"]),titleChevron:(0,r.F)(["UI-DataGrid__titleChevron","mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500 relative bottom-0.5"]),tableBody:(0,r.F)(["UI-DataGrid__tableBody","w-full relative border-b"]),td:(0,r.F)(["UI-DataGrid__td","px-2 py-2 w-full whitespace-nowrap text-base font-normal text-[--foreground]","data-[is-selection-col=true]:px-2 data-[is-selection-col=true]:sm:px-0 data-[is-selection-col=true]:text-center","data-[action-col=false]:truncate data-[action-col=false]:overflow-ellipsis","data-[row-selected=true]:bg-brand-50 dark:data-[row-selected=true]:bg-gray-800","data-[editing=true]:ring-1 data-[editing=true]:ring-[--ring] ring-inset","data-[editable=true]:hover:bg-[--subtle] md:data-[editable=true]:focus:ring-2 md:data-[editable=true]:focus:ring-[--slate]","focus:outline-none","border-b"]),tr:(0,r.F)(["UI-DataGrid__tr","hover:bg-[--subtle] truncate"]),footer:(0,r.F)(["UI-DataGrid__footer","flex flex-col sm:flex-row w-full items-center gap-2 justify-between p-2 mt-2 overflow-x-auto max-w-full"]),footerPageDisplayContainer:(0,r.F)(["UI-DataGrid__footerPageDisplayContainer","flex flex-none items-center gap-1 ml-2 text-sm"]),footerPaginationInputContainer:(0,r.F)(["UI-DataGrid__footerPaginationInputContainer","flex flex-none items-center gap-2"]),filterDropdownButton:(0,r.F)(["UI-DataGrid__filterDropdownButton","flex gap-2 items-center bg-[--paper] border rounded-[--radius] h-10 py-1 px-3 cursor-pointer hover:bg-[--subtle]","select-none focus-visible:ring-2 outline-none ring-[--ring]"]),editingCard:(0,r.F)(["UI-DataGrid__editingCard","flex items-center gap-2 rounded-[--radius-md] px-3 py-2"])});function W(e){let{lng:t="en",className:n,headerClass:r,toolbarClass:S,tableContainerClass:p,tableHeadClass:N,tableClass:E,thClass:b,titleChevronClass:I,titleChevronContainerClass:M,tableBodyClass:C,trClass:G,tdClass:j,footerClass:L,footerPageDisplayContainerClass:K,footerPaginationInputContainerClass:F,filterDropdownButtonClass:P,editingCardClass:q,tableApi:D,globalSearchInputProps:U,hideGlobalSearchInput:V,...W}=e,{table:J,data:Z,setData:Y,displayedRows:ee,globalFilter:et,columnFilters:en,handleGlobalFilterChange:ei,handleColumnFiltersChange:ea,isLoading:el,isDataMutating:er,hideColumns:eo,enablePersistentRowSelection:es,onRowEdit:ed,onRowSelect:ec,rowSelectionPrimaryKey:eu,enableRowSelection:em,enableOptimisticUpdates:eg,optimisticUpdatePrimaryKey:eS,enableManualPagination:ep,enableGlobalFilter:ef,validationSchema:ey,onRowValidationError:eh}=null!=D?D:function(e){var t,n,a,r,s,d;let c={globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:5},rowSelection:{},columnFilters:[],columnVisibility:{}},{data:u,rowCount:m,columns:g,initialState:S,state:p,onRowValidationError:f,validationSchema:y,columnOrder:h,onSortingChange:v,onPaginationChange:N,onRowSelectionChange:x,onGlobalFilterChange:E,onColumnFiltersChange:A,onColumnVisibilityChange:b,enableManualSorting:I=!1,enableManualFiltering:M=!1,enableManualPagination:C=!1,enableRowSelection:G=!1,enablePersistentRowSelection:k=!1,enableOptimisticUpdates:j=!1,enableColumnFilters:_=!0,enableSorting:L=!0,enableFilters:K=!0,enableGlobalFilter:F=!0,filterFns:P,...q}=e,[O,D]=o.useState(null!=u?u:[]),[R,X]=o.useState(m);o.useEffect(()=>{u&&D(u)},[u]),o.useEffect(()=>{m&&X(m)},[m]);let[U,V]=o.useState(null!=(t=null==S?void 0:S.globalFilter)?t:c.globalFilter),[z,B]=o.useState(null!=(n=null==S?void 0:S.rowSelection)?n:c.rowSelection),[H,W]=o.useState(null!=(a=null==S?void 0:S.sorting)?a:c.sorting),[$,J]=o.useState(null!=(r=null==S?void 0:S.columnFilters)?r:c.columnFilters),[Z,Y]=o.useState(null!=(s=null==S?void 0:S.columnVisibility)?s:c.columnVisibility),[ee,et]=o.useState(null!=(d=null==S?void 0:S.pagination)?d:c.pagination),en=o.useMemo(()=>{var e;return null!=(e=Math.ceil(R/ee.pageSize))?e:-1},[R,ee.pageSize]),ei=o.useMemo(()=>[{id:"_select",size:6,maxSize:6,enableSorting:!1,disableSortBy:!0,disableGlobalFilter:!0,header:e=>{let{table:t}=e;return(0,i.jsx)("div",{className:"px-1",children:(0,i.jsx)(w.Sc,{value:t.getIsSomeRowsSelected()?"indeterminate":t.getIsAllRowsSelected(),onValueChange:()=>t.toggleAllRowsSelected(),fieldClass:"w-fit"})})},cell:e=>{let{row:t}=e;return(0,i.jsx)("div",{className:"",children:(0,i.jsx)(w.Sc,{value:t.getIsSomeSelected()?"indeterminate":t.getIsSelected(),disabled:!t.getCanSelect(),onValueChange:t.getToggleSelectedHandler(),fieldClass:"w-fit"},t.id)})}},...g],[g]),ea=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.sorting)?e:H},[null==p?void 0:p.sorting,H]),el=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.pagination)?e:ee},[null==p?void 0:p.pagination,ee]),er=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.rowSelection)?e:z},[null==p?void 0:p.rowSelection,z]),eo=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.globalFilter)?e:U},[null==p?void 0:p.globalFilter,U]),es=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.columnFilters)?e:$},[null==p?void 0:p.columnFilters,$]),ed=o.useMemo(()=>{var e;return null!=(e=null==p?void 0:p.columnVisibility)?e:Z},[null==p?void 0:p.columnVisibility,Z]),ec=o.useCallback((e,t)=>n=>{e&&e(n),t&&t(n)},[]),eu=(0,l.N4)({data:O,columns:G?ei:g,pageCount:en,globalFilterFn:(e,t,n)=>{let i=(()=>{let n=e.getValue(t);return"number"==typeof n?String(n):n})();return null==i?void 0:i.trim().toLowerCase().includes(n.trim().toLowerCase())},state:{sorting:ea,pagination:el,rowSelection:er,globalFilter:eo,columnFilters:es,columnVisibility:ed,columnOrder:h},onSortingChange:ec(v,W),onPaginationChange:ec(N,et),onRowSelectionChange:ec(x,B),onGlobalFilterChange:ec(E,V),onColumnFiltersChange:ec(A,J),onColumnVisibilityChange:ec(b,Y),getCoreRowModel:(0,T.HT)(),getSortedRowModel:I?void 0:(0,T.h5)(),getFilteredRowModel:M?void 0:(0,T.hM)(),filterFns:{dateRangeFilter:Q,...P},manualPagination:C,manualSorting:I,manualFiltering:M,enableRowSelection:G,enableSorting:L,enableColumnFilters:_,enableFilters:K,enableGlobalFilter:F,getRowId:e.rowSelectionPrimaryKey?t=>t[e.rowSelectionPrimaryKey]:void 0}),em=o.useMemo(()=>{let e=eu.getState().pagination;return C?eu.getRowModel().rows:eu.getRowModel().rows.slice(e.pageIndex*e.pageSize,(e.pageIndex+1)*e.pageSize)},[eu.getRowModel().rows,eu.getState().pagination]);return o.useEffect(()=>{eu.setPageIndex(0)},[eu.getState().globalFilter,eu.getState().columnFilters]),o.useEffect(()=>{C||X(eu.getRowModel().rows.length)},[eu.getRowModel().rows.length]),{...q,table:eu,displayedRows:em,setData:D,data:O,pageCount:en,rowCount:R,columns:g,sorting:ea,pagination:el,rowSelection:er,globalFilter:eo,columnFilters:es,columnVisibility:ed,enableManualSorting:I,enableManualFiltering:M,enableManualPagination:C,enableRowSelection:G,enablePersistentRowSelection:k,enableOptimisticUpdates:j,enableGlobalFilter:F,validationSchema:y,onRowValidationError:f,handleGlobalFilterChange:null!=E?E:V,handleColumnFiltersChange:null!=A?A:J}}({...W}),ev=el||!eg&&er,{tableRef:eN}=function(e){let t,n,i,l,r=(0,a.c)(12),{hideColumns:s,table:d}=e;r[0]!==s?(t=void 0===s?[]:s,r[0]=s,r[1]=t):t=r[1];let c=t,[u,m]=function(){let e,t,n,i,l,r=(0,a.c)(11),[s,d]=o.useState(null);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={width:0,height:0},r[0]=e):e=r[0];let[c,u]=o.useState(e);r[1]!==(null==s?void 0:s.offsetHeight)||r[2]!==(null==s?void 0:s.offsetWidth)?(t=()=>{u({width:(null==s?void 0:s.offsetWidth)||0,height:(null==s?void 0:s.offsetHeight)||0})},r[1]=null==s?void 0:s.offsetHeight,r[2]=null==s?void 0:s.offsetWidth,r[3]=t):t=r[3],null==s||s.offsetHeight,null==s||s.offsetWidth;let m=t;(0,B.ML)("resize",m),r[4]!==m?(n=()=>{m()},r[4]=m,r[5]=n):n=r[5];let g=null==s?void 0:s.offsetHeight,S=null==s?void 0:s.offsetWidth;return r[6]!==g||r[7]!==S?(i=[g,S],r[6]=g,r[7]=S,r[8]=i):i=r[8],(0,B.Es)(n,i),r[9]!==c?(l=[d,c],r[9]=c,r[10]=l):l=r[10],l}(),{width:g}=m,S=o.useDeferredValue(g);return r[2]!==c||r[3]!==d||r[4]!==g?(n=()=>{c.map(e=>{let{below:t,hide:n}=e;d.getAllLeafColumns().map(e=>{n.includes(e.id)&&(0!==g&&g<t?e.getIsVisible()&&e.toggleVisibility(!1):e.getIsVisible()||e.toggleVisibility(!0))})})},r[2]=c,r[3]=d,r[4]=g,r[5]=n):n=r[5],r[6]!==S||r[7]!==c?(i=[c,S],r[6]=S,r[7]=c,r[8]=i):i=r[8],o.useLayoutEffect(n,i),r[9]!==u||r[10]!==g?(l={tableRef:u,tableWidth:g},r[9]=u,r[10]=g,r[11]=l):l=r[11],l}({table:J,hideColumns:eo}),{selectedRowCount:ex}=function(e){let{table:t,data:n,onRowSelect:i,persistent:a,rowSelectionPrimaryKey:l,displayedRows:r,enabled:s}=e,d=o.useMemo(()=>t.getState().rowSelection,[t.getState().rowSelection]),c=o.useRef(new Map),u=o.useRef(s);o.useEffect(()=>{c.current.clear(),s&&!l&&(console.error("[DataGrid] You've enable row selection without providing a primary key. Make sure to define the `rowSelectionPrimaryKey` prop."),u.current=!1)},[]);let m=o.useRef(!1);return o.useEffect(()=>{s&&l&&!m.current&&r.length>0&&!r.some(e=>!!e.original[l])&&(console.error("[DataGrid] The key provided by `rowSelectionPrimaryKey` does not match any property in the data."),m.current=!0,u.current=!1)},[r]),o.useEffect(()=>{if(n&&(null==n?void 0:n.length)>0&&u.current&&l){var e,t;let r=new Set(Object.keys(d));a?(c.current.forEach((e,t)=>{r.has(t.toString())||c.current.delete(t)}),r.forEach(e=>{let t=n.find(t=>t[l]===e);t&&c.current.set(e,t)}),i&&i({data:null!=(e=Array.from(c.current.values()).filter(e=>r.has(e[l])))?e:[]})):i&&i({data:null!=(t=n.filter(e=>r.has(e[l])))?t:[]})}},[d]),{selectedRowCount:Object.keys(d).length}}({table:J,data:Z,displayedRows:ee,persistent:es,onRowSelect:ec,rowSelectionPrimaryKey:eu,enabled:!!em}),{getFilterDefaultValue:eE,unselectedFilterableColumns:eA,filteredColumns:ew,filterableColumns:eb}=function(e){let{table:t,columnFilters:n}=e,[i,a]=o.useMemo(()=>[t.getAllLeafColumns().filter(e=>e.getCanFilter()&&!!R(e,"filteringMeta")),t.getAllLeafColumns().filter(e=>n.map(e=>e.id).includes(e.id))],[t.getAllLeafColumns(),n]),l=i.filter(e=>!n.map(e=>e.id).includes(e.id));return{getFilterDefaultValue:o.useCallback(e=>{let t=R(e,"filteringMeta");if(t){var n,i,a,l,r;if("select"===t.type||"radio"===t.type)return null!=(a=null==(i=t.options)||null==(n=i[0])?void 0:n.value)?a:"";if("boolean"===t.type)return!0;if("checkbox"===t.type)return null!=(r=null==(l=t.options)?void 0:l.map(e=>e.value))?r:[];else if("date-range"===t.type)return{from:new Date,to:(0,X.f)(new Date,7)}}return null},[]),unselectedFilterableColumns:l,filteredColumns:a,filterableColumns:i}}({table:J,columnFilters:en}),{handleStartEditing:eI,getIsCellActivelyEditing:eM,getIsCellEditable:eC,getIsCurrentlyEditing:eG,getFirstCellBeingEdited:ek,handleStopEditing:ej,handleOnSave:e_,handleUpdateValue:eL,rowErrors:eT}=function(e){let{data:t,table:n,rows:i,onRowEdit:a,isDataMutating:l,onDataChange:r,enableOptimisticUpdates:s,optimisticUpdatePrimaryKey:d,manualPagination:c,schema:u,onRowValidationError:m}=e,g=n.getAllLeafColumns(),[S,p]=o.useState([]),[f,y]=o.useState(void 0),[h,v]=o.useState(void 0),[N,x]=o.useState(void 0),[E,A]=o.useState([]),w=o.useMemo(()=>g.filter(e=>{var t;return e.getIsVisible()&&!!(null==(t=e.columnDef.meta)?void 0:t.editingMeta)}),[g]);o.useEffect(()=>{c&&(y(void 0),v(void 0),x(void 0),p([]))},[n.getState().pagination.pageIndex,n.getState().pagination.pageSize]);let b=o.useMemo(()=>i.length>0?i.flatMap(e=>e.getVisibleCells().filter(e=>{var t;return!!(null==(t=w.find(t=>t.id===e.column.id))?void 0:t.id)})):[],[i]);o.useLayoutEffect(()=>{b.length>0&&b.map(e=>{p(t=>[...t,{id:e.id,colId:e.column.id,rowId:e.row.id,isEditing:!1}])})},[b]);let I=o.useCallback(e=>{p(t=>{let n=t.filter(t=>t.id!==e),i=t.find(t=>t.id===e);if(i&&t.every(e=>!e.isEditing))return[...n,{...i,id:e,isEditing:!0}];if(i&&t.some(e=>e.isEditing)){let a=t.find(e=>e.isEditing);if((null==a?void 0:a.rowId)===(null==i?void 0:i.rowId))return[...n,{...i,id:e,isEditing:!0}]}return t})},[]),M=o.useCallback(e=>S.some(t=>t.id===e&&t.isEditing),[S]),C=o.useCallback(e=>!!S.find(t=>t.id===e),[S]),G=o.useCallback(()=>S.some(e=>e.isEditing),[S]),k=o.useCallback(()=>S.find(e=>e.isEditing),[S]),j=o.useCallback(()=>{p(e=>e.map(e=>({...e,isEditing:!1})))},[]),_=o.useRef(!1);o.useEffect(()=>{void 0!==l&&!l&&_.current&&(j(),_.current=!1)},[l]),o.useEffect(()=>{void 0===l&&j()},[_.current]);let L=o.useCallback(e=>{if(!N||!h)return j();if(z()(h,N.original))j();else{if(a&&a({originalData:N.original,data:e||h,row:N}),s&&d){let e=structuredClone(t),n=e.findIndex(e=>!!e[d]&&!!h[d]&&e[d]===h[d]);e[n]&&n>-1?(e[n]=h,r(e)):console.error("[DataGrid] Could not perform optimistic update. Make sure `optimisticUpdatePrimaryKey` is a valid property.")}else s&&console.error("[DataGrid] Could not perform optimistic update. Make sure `optimisticUpdatePrimaryKey` is defined.");s?j():_.current=!0}},[N,h]),T=o.useCallback(async()=>{if(N&&h)if(A([]),u)try{let e=await u.safeParseAsync(h);if(e.success){let t=structuredClone(h);Object.keys(e.data).map(n=>{t[n]=e.data[n]}),L(t)}else e.error.errors.map(e=>{A(t=>[...t,{rowId:N.id,key:String(e.path[0]),message:e.message}])}),m&&m({data:h,originalData:N.original,row:N,errors:e.error.errors})}catch(e){console.error("[DataGrid] Could not perform validation")}else L()},[N,h]);return{handleStartEditing:I,getIsCellActivelyEditing:M,getIsCellEditable:C,getIsCurrentlyEditing:G,getFirstCellBeingEdited:k,handleStopEditing:j,handleOnSave:T,handleUpdateValue:o.useCallback((e,t,n,i)=>{y(e),x(t),v(i=>({...(null==N?void 0:N.id)!==t.id||!h?t.original:h,[n.column.id]:e}))},[N,h]),rowErrors:E}}({table:J,data:Z,rows:ee,onRowEdit:ed,isDataMutating:er,enableOptimisticUpdates:eg,optimisticUpdatePrimaryKey:eS,manualPagination:ep,onDataChange:Y,schema:ey,onRowValidationError:eh});return(0,i.jsxs)("div",{className:(0,c.cn)(H.root(),n),children:[(0,i.jsxs)("div",{className:(0,c.cn)(H.header(),r),children:[(0,i.jsxs)("div",{className:(0,c.cn)(H.toolbar(),S),children:[ef&&!V&&(0,i.jsx)($,{value:null!=et?et:"",onChange:e=>ei(String(e)),...U}),eA.length>0&&(0,i.jsx)(u.rI,{trigger:(0,i.jsxs)("button",{className:(0,c.cn)(H.filterDropdownButton(),P),children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:(0,i.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),(0,i.jsxs)("span",{children:[k.filters[t]," (",eA.length,")"]})]}),children:eA.map(e=>{var t,n;let a=eE(e),l=null==(t=R(e,"filteringMeta"))?void 0:t.icon,r=null==(n=R(e,"filteringMeta"))?void 0:n.name;return(0,i.jsxs)(u._2,{onClick:()=>ea(t=>[...t,{id:e.id,value:a}]),children:[l&&(0,i.jsx)("span",{className:"text-md mr-2",children:l}),(0,i.jsx)("span",{children:r})]},e.id)})}),eA.length!==eb.length&&(0,i.jsx)(x.m_,{trigger:(0,i.jsx)(s.K0,{icon:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[(0,i.jsx)("path",{d:"M9 14 4 9l5-5"}),(0,i.jsx)("path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"})]}),intent:"gray-outline",size:"md",onClick:()=>ea([])}),children:k["remove-filters"][t]}),ex>0&&(0,i.jsxs)("div",{className:"text-sm",children:[ex," ",k["row".concat(ex>1?"s":"","-selected")][t]]})]}),ew.length>0&&(0,i.jsx)("div",{className:(0,c.cn)(H.toolbar(),S),children:ew.map(e=>(0,i.jsx)(_,{column:e,onRemove:()=>ea(t=>[...t.filter(t=>t.id!==e.id)]),lng:t},e.id))}),eG()&&(0,i.jsxs)(d.Zp,{className:(0,c.cn)(H.editingCard(),q),children:[(0,i.jsx)(s.$n,{size:"sm",onClick:e_,loading:er,children:k.save[t]}),(0,i.jsx)(s.$n,{size:"sm",onClick:ej,intent:"gray-outline",disabled:er,children:k.cancel[t]})]})]}),(0,i.jsxs)("div",{ref:eN,className:(0,c.cn)(H.tableContainer(),p),children:[(0,i.jsxs)("table",{className:(0,c.cn)(H.table(),E),children:[(0,i.jsx)("thead",{className:(0,c.cn)(H.tableHead(),N),children:J.getHeaderGroups().map(e=>(0,i.jsx)("tr",{children:e.headers.map((e,t)=>(0,i.jsx)("th",{colSpan:e.colSpan,scope:"col",className:(0,c.cn)(H.th(),b),"data-is-selection-col":"".concat(0===t&&!!em),style:{width:e.getSize()},children:0!==t&&em||!em?(0,i.jsx)("div",{className:(0,c.cn)("flex items-center justify-between",{"cursor-pointer":e.column.getCanSort()}),children:e.isPlaceholder?null:(0,i.jsxs)("div",{className:"flex relative items-center",onClick:e.column.getToggleSortingHandler(),children:[(0,l.Kv)(e.column.columnDef.header,e.getContext()),(0,i.jsxs)("span",{className:(0,c.cn)(H.titleChevronContainer(),M),children:["asc"===e.column.getIsSorted()&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,c.cn)(H.titleChevron(),I),children:(0,i.jsx)("polyline",{points:"18 15 12 9 6 15"})}),"desc"===e.column.getIsSorted()&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,c.cn)(H.titleChevron(),I),children:(0,i.jsx)("polyline",{points:"6 9 12 15 18 9"})}),!1===e.column.getIsSorted()&&e.column.getCanSort()&&(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,c.cn)(H.titleChevron(),"w-4 h-4 opacity-0 transition-opacity group-hover/th:opacity-100",I),children:[(0,i.jsx)("path",{d:"m7 15 5 5 5-5"}),(0,i.jsx)("path",{d:"m7 9 5-5 5 5"})]})]})]})}):(0,l.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,i.jsx)("tbody",{className:(0,c.cn)(H.tableBody(),C),children:ee.map(e=>(0,i.jsx)("tr",{className:(0,c.cn)(H.tr(),G),children:e.getVisibleCells().map((e,t)=>{var n,a;let r=eC(e.id)&&!eM(e.id)&&(!eG()||(null==(n=ek())?void 0:n.rowId)===e.row.id);return(0,i.jsxs)("td",{className:(0,c.cn)(H.td(),j),"data-is-selection-col":"".concat(0===t&&em),"data-action-col":"".concat("_actions"===e.column.id),"data-row-selected":e.getContext().row.getIsSelected(),"data-editing":eM(e.id),"data-editable":r,"data-row-editing":(null==(a=ek())?void 0:a.rowId)===e.row.id,style:{width:e.column.getSize(),maxWidth:e.column.columnDef.maxSize},onDoubleClick:()=>o.startTransition(()=>{eI(e.id)}),onKeyUp:t=>{"Enter"===t.key&&o.startTransition(()=>eI(e.id))},tabIndex:r?0:void 0,children:[(!eC(e.id)||!eM(e.id))&&(0,l.Kv)(e.column.columnDef.cell,{...e.getContext(),renderValue:()=>O(e.column)(e.getContext().getValue())}),eM(e.id)&&(0,i.jsx)(A,{cell:e,row:e.row,table:J,rowErrors:eT,meta:R(e.column,"editingMeta"),onValueUpdated:eL})]},e.id)})},e.id))})]}),ev&&ee.length>0&&(0,i.jsx)(m.p8,{className:"backdrop-blur-[1px] bg-opacity-40 pt-0"}),ev&&0===ee.length&&[...[,,,,,].keys()].map((e,t)=>(0,i.jsx)(v.E,{className:"rounded-none h-12"},t)),0===ee.length&&!ev&&0===ew.length&&(0,i.jsx)("p",{className:"flex w-full justify-center py-4",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",children:[(0,i.jsx)("path",{fill:"#D1C4E9",d:"M38 7H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 12H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm0 12H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2z"}),(0,i.jsx)("circle",{cx:"38",cy:"38",r:"10",fill:"#F44336"}),(0,i.jsxs)("g",{fill:"#fff",children:[(0,i.jsx)("path",{d:"m43.31 41.181l-2.12 2.122l-8.485-8.484l2.121-2.122z"}),(0,i.jsx)("path",{d:"m34.819 43.31l-2.122-2.12l8.484-8.485l2.122 2.121z"})]})]})}),0===ee.length&&!ev&&ew.length>0&&(0,i.jsxs)("div",{className:"w-full text-center py-4",children:[(0,i.jsx)("p",{className:"flex w-full justify-center mb-4",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",children:[(0,i.jsx)("path",{fill:"#D1C4E9",d:"M38 7H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 12H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm0 12H10c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2z"}),(0,i.jsx)("circle",{cx:"38",cy:"38",r:"10",fill:"#F44336"}),(0,i.jsxs)("g",{fill:"#fff",children:[(0,i.jsx)("path",{d:"m43.31 41.181l-2.12 2.122l-8.485-8.484l2.121-2.122z"}),(0,i.jsx)("path",{d:"m34.819 43.31l-2.122-2.12l8.484-8.485l2.122 2.121z"})]})]})}),(0,i.jsx)("p",{children:k["no-matching-result"][t]})]})]}),(0,i.jsxs)("div",{className:(0,c.cn)(H.footer(),L),children:[(0,i.jsxs)(f,{children:[(0,i.jsx)(y,{direction:"previous",isChevrons:!0,onClick:()=>J.setPageIndex(0),disabled:!J.getCanPreviousPage()||ev}),(0,i.jsx)(y,{direction:"previous",onClick:()=>J.previousPage(),disabled:!J.getCanPreviousPage()||ev}),(0,i.jsx)(y,{direction:"next",onClick:()=>J.nextPage(),disabled:!J.getCanNextPage()||ev}),(0,i.jsx)(y,{direction:"next",isChevrons:!0,onClick:()=>J.setPageIndex(J.getPageCount()-1),disabled:!J.getCanNextPage()||ev})]}),(0,i.jsx)("div",{className:(0,c.cn)(H.footerPageDisplayContainer(),K),children:J.getPageCount()>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:k.page[t]}),(0,i.jsxs)("strong",{children:[J.getState().pagination.pageIndex+1," / ",J.getPageCount()]})]})}),(0,i.jsxs)("div",{className:(0,c.cn)(H.footerPaginationInputContainer(),F),children:[Z.length>0&&(0,i.jsx)(g.Q,{hideControls:!0,value:J.getState().pagination.pageIndex+1,min:1,onValueChange:e=>{let t=e?e-1:0;o.startTransition(()=>{e<=J.getPageCount()&&J.setPageIndex(t)})},className:"inline-flex flex-none items-center w-[3rem]",size:"sm"}),(0,i.jsx)(h.l,{value:String(J.getState().pagination.pageSize),onValueChange:e=>{J.setPageSize(Number(e))},options:[Number(J.getState().pagination.pageSize),...[5,10,20,30,40,50].filter(e=>e!==Number(J.getState().pagination.pageSize))].map(e=>({value:String(e),label:String(e)})),fieldClass:"w-auto",className:"w-auto",disabled:ev,size:"sm"})]})]})]})}function $(e){let t,n,l,r,s,d,c,u,m,g,S,p=(0,a.c)(19);p[0]!==e?({value:t,onChange:n,debounce:r,...l}=e,p[0]=e,p[1]=t,p[2]=n,p[3]=l,p[4]=r):(t=p[1],n=p[2],l=p[3],r=p[4]);let f=void 0===r?500:r,[y,h]=o.useState(t);return p[5]!==t?(s=()=>{h(t)},d=[t],p[5]=t,p[6]=s,p[7]=d):(s=p[6],d=p[7]),o.useEffect(s,d),p[8]!==f||p[9]!==n||p[10]!==y?(c=()=>{let e=setTimeout(()=>{n(y)},f);return()=>clearTimeout(e)},p[8]=f,p[9]=n,p[10]=y,p[11]=c):c=p[11],p[12]!==y?(u=[y],p[12]=y,p[13]=u):u=p[13],o.useEffect(c,u),p[14]===Symbol.for("react.memo_cache_sentinel")?(m=e=>h(e.target.value),p[14]=m):m=p[14],p[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-[--muted]",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.3-4.3"})]}),p[15]=g):g=p[15],p[16]!==l||p[17]!==y?(S=(0,i.jsx)(N.k,{size:"md",fieldClass:"md:max-w-[30rem]",...l,value:y,onChange:m,leftIcon:g}),p[16]=l,p[17]=y,p[18]=S):S=p[18],S}W.displayName="DataGrid"}}]);