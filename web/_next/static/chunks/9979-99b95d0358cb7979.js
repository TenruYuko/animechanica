"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9979],{19979:(e,n,i)=>{i.d(n,{P:()=>ea});var l=i(95155),r=i(19749),t=i(35349),s=i(26589),u=i(77166),a=i(38584),o=i(812),d=i(9693),c=i(3820),m=i(61203),v=i(92161),f=i(75733),p=i(5249),h=i(36808),g=i(84127),x=i(91360),E=i(35354),N=i(2091),b=i(76049),y=i(98836),j=i(97400),S=i(29724),C=i(12115),I=i(70376),T=i(75780);function L(e){let n,i,t=(0,r.c)(5),{children:s,entry:u}=e;return t[0]!==u?(n=(0,l.jsx)(A,{entry:u}),t[0]=u,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(i=(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(b.a,{title:"Manual match",trigger:s,contentClass:"max-w-4xl",children:n})}),t[2]=s,t[3]=n,t[4]=i):i=t[4],i}let R=(0,E.Jo)(e=>{let{z:n}=e;return n.object({query:n.string().min(1),dubbed:n.boolean().default(!1)})});function A(e){let n,i,t,s,u,a,o=(0,r.c)(29),{entry:d}=e,c=(0,S.md)(v.kL),b=c||void 0;o[0]!==d.mediaId||o[1]!==b?(n={provider:b,mediaId:d.mediaId},o[0]=d.mediaId,o[1]=b,o[2]=n):n=o[2];let{data:L,isLoading:A}=(0,m.JF)(n),{mutate:M,data:O,isPending:k,reset:w}=(0,m.Xj)(d.mediaId,c);o[3]!==M||o[4]!==c?(i=function(e){c&&M({provider:c,query:e.query,dubbed:e.dubbed})},o[3]=M,o[4]=c,o[5]=i):i=o[5];let q=i,{mutate:P,isPending:F}=(0,m.vf)(),{mutate:_,isPending:D}=(0,m.n6)(),[U,K]=C.useState(null);o[6]!==U||o[7]!==d.mediaId||o[8]!==P||o[9]!==w||o[10]!==c?(t={title:"Manual match",description:"Are you sure you want to match this anime to the search result?",actionText:"Confirm",actionIntent:"success",onConfirm:()=>{U&&c&&(P({provider:c,mediaId:d.mediaId,animeId:U}),w(),K(null))}},o[6]=U,o[7]=d.mediaId,o[8]=P,o[9]=w,o[10]=c,o[11]=t):t=o[11];let Q=(0,f.J)(t);return o[12]!==Q||o[13]!==d.mediaId||o[14]!==L||o[15]!==q||o[16]!==F||o[17]!==D||o[18]!==A||o[19]!==k||o[20]!==O||o[21]!==c||o[22]!==_?(s=A?(0,l.jsx)(N.kt,{}):(0,l.jsxs)(h.KZ,{children:[(0,l.jsx)("div",{className:"text-center",children:(null==L?void 0:L.animeId)?(0,l.jsxs)(h.KZ,{children:[(0,l.jsxs)("p",{children:["Current mapping: ",(0,l.jsx)("span",{children:L.animeId})]}),(0,l.jsx)(g.$n,{intent:"alert-subtle",loading:D,onClick:()=>{c&&_({provider:c,mediaId:d.mediaId})},children:"Remove mapping"})]}):(0,l.jsx)("p",{className:"text-[--muted] italic",children:"No manual match"})}),(0,l.jsx)(y.w,{}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:"Search from provider"})}),(0,l.jsx)(E.lV,{schema:R,onSubmit:q,children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(E.D0.Text,{name:"query",placeholder:"Search",leftIcon:(0,l.jsx)(T.CKj,{className:"text-xl text-[--muted]"}),fieldClass:"w-full"}),(0,l.jsx)(E.D0.Switch,{name:"dubbed",label:"Dubbed"}),(0,l.jsx)(E.D0.Submit,{intent:"white",loading:F||k||A,className:"",children:"Search"})]})}),k?(0,l.jsx)(N.kt,{}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"space-y-2",children:null==O?void 0:O.map(e=>(0,l.jsxs)("div",{className:(0,x.cn)("flex justify-between items-center"),children:[(0,l.jsx)("p",{onClick:()=>{K(e.id),C.startTransition(()=>{Q.open()})},className:"cursor-pointer hover:underline",children:e.title}),(0,l.jsx)("div",{children:(0,l.jsx)(p.i,{href:e.url,target:"_blank",children:(0,l.jsx)(j.m_,{trigger:(0,l.jsx)(g.K0,{icon:(0,l.jsx)(I.zaF,{}),intent:"primary-basic",size:"xs"}),children:"Open in browser"})})})]},e.id))})})]}),o[12]=Q,o[13]=d.mediaId,o[14]=L,o[15]=q,o[16]=F,o[17]=D,o[18]=A,o[19]=k,o[20]=O,o[21]=c,o[22]=_,o[23]=s):s=o[23],o[24]!==Q?(u=(0,l.jsx)(f.K,{...Q}),o[24]=Q,o[25]=u):u=o[25],o[26]!==s||o[27]!==u?(a=(0,l.jsxs)(l.Fragment,{children:[s,u]}),o[26]=s,o[27]=u,o[28]=a):a=o[28],a}var M=i(45886),O=i(83394),k=i(17946),w=i(93715);function q(e,n){return e.label.localeCompare(n.label)}function P(e){return{label:e.name,value:e.id}}var F=i(62477),_=i.n(F),D=i(6066),U=i(69554);function K(e){return e.quality.includes("default")}function Q(e){return e.quality.includes("default")}function z(e){return e.quality.includes("360p")}function X(e){return e.quality.includes("360p")}function J(e){return e.quality.includes("480p")}function B(e){return e.quality.includes("480p")}function H(e){return e.quality.includes("720p")}function V(e){return e.quality.includes("720p")}function W(e){return e.quality.includes("1080p")}function $(e){return e.quality.includes("1080p")}function G(e){return"auto"===e.quality}function Z(e){return"auto"===e.quality}var Y=i(65151),ee=i(78106),en=i(77717),ei=i(85594),el=i(92430),er=i(42500),et=i(3692),es=i(85530);i(76182),i(73015);var eu=i(10653);function ea(e){var n,i,f,p,h,x,E,N,b,y,j,I;let T,R,A,F,er,ea,ec,em,ev,ef,ep,eh,eg,ex,eE,eN,eb,ey,ej,eS,eC,eI,eT,eL,eR,eA,eM,eO,ek=(0,r.c)(103),{animeEntry:ew,animeEntryLoading:eq,hideBackButton:eP}=e;(0,S.md)(t.H);let eF=(0,D.useRouter)(),e_=(0,D.usePathname)(),eD=(0,D.useSearchParams)();ek[0]!==eD?(T=eD.get("id"),ek[0]=eD,ek[1]=T):T=ek[1];let eU=T;ek[2]!==eD?(R=eD.get("episode"),ek[2]=eD,ek[3]=R):R=ek[3];let eK=R,eQ=C.useRef(null);ek[4]!==eU?(A={mediaId:eU,ref:eQ},ek[4]=eU,ek[5]=A):A=ek[5];let{episodes:ez,currentEpisodeDetails:eX,opts:eJ,url:eB,onMediaDetached:eH,onCanPlay:eV,onFatalError:eW,loadPage:e$,media:eG,episodeSource:eZ,currentEpisodeNumber:eY,handleChangeEpisodeNumber:e0,episodeLoading:e1,isErrorEpisodeSource:e2,isErrorProvider:e5,provider:e3}=function(e){var n;let{mediaId:i,ref:l}=e,{providerExtensions:t,providerExtensionOptions:s}=function(){let e,n,i,l,t,s,u=(0,r.c)(15),{data:a}=(0,k.u0)(),[o,d]=(0,S.fp)(v.kL);return u[0]!==o||u[1]!==a||u[2]!==d?(e=()=>{(0,w.v)("ONLINESTREAM").info("extensions",a),a&&(null!==o&&a.find(e=>e.id===o)||(a.length>0?d(a[0].id):d(null)))},u[0]=o,u[1]=a,u[2]=d,u[3]=e):e=u[3],u[4]!==a?(n=[a],u[4]=a,u[5]=n):n=u[5],C.useLayoutEffect(e,n),u[6]!==a?(i=null!=a?a:[],u[6]=a,u[7]=i):i=u[7],u[8]!==a?(l=null!=a?a:[],u[8]=a,u[9]=l):l=u[9],u[10]!==l?(t=l.map(P).sort(q),u[10]=l,u[11]=t):t=u[11],u[12]!==i||u[13]!==t?(s={providerExtensions:i,providerExtensionOptions:t},u[12]=i,u[13]=t,u[14]=s):s=u[14],s}(),{episodes:u,media:a,isFetching:o,isLoading:d,isSuccess:c,isError:f}=function(e){let n,i,l,t=(0,r.c)(12),s=(0,D.useRouter)(),u=(0,S.md)(v.kL),a=(0,S.md)(v.zw),{data:o,isLoading:d,isFetching:c,isSuccess:f,isError:p}=(0,m.Ww)(e,u,a);t[0]!==p||t[1]!==s?(n=()=>{p&&s.push("/")},t[0]=p,t[1]=s,t[2]=n):n=t[2],t[3]!==p?(i=[p],t[3]=p,t[4]=i):i=t[4],C.useEffect(n,i);let h=null==o?void 0:o.media,g=null==o?void 0:o.episodes;return t[5]!==p||t[6]!==c||t[7]!==d||t[8]!==f||t[9]!==h||t[10]!==g?(l={media:h,episodes:g,isLoading:d,isFetching:c,isSuccess:f,isError:p},t[5]=p,t[6]=c,t[7]=d,t[8]=f,t[9]=h,t[10]=g,t[11]=l):l=t[11],l}(i),{waitForWatchHistory:p}=(0,O.vy)(i),{episodeSource:h,isLoading:g,isFetching:x,isError:E}=function(e,n,i){let l,t,s=(0,r.c)(5),u=(0,S.md)(v.kL),a=(0,S.md)(v.rz),o=(0,S.md)(v.zw);l=e.find(e=>e.id===u);let{data:d,isLoading:c,isFetching:f,isError:p}=(0,m.j3)(n,u,a,!!(null==l?void 0:l.supportsDub)&&o,!!n&&void 0!==a&&i);return s[0]!==d||s[1]!==p||s[2]!==f||s[3]!==c?(t={episodeSource:d,isLoading:c,isFetching:f,isError:p},s[0]=d,s[1]=p,s[2]=f,s[3]=c,s[4]=t):t=s[4],t}(t,i,c&&!p),N=(0,S.Xr)(v.rz),b=(0,S.Xr)(v.Wr),y=(0,S.Xr)(v.F5),j=(0,S.Xr)(v.zw),[I,T]=(0,S.fp)(v.kL),[L,R]=C.useState(void 0),A=C.useRef(null),F=C.useRef(0),Y=C.useRef(!1),ee=C.useMemo(()=>null==u?void 0:u.find(e=>e.number===(null==h?void 0:h.number)),[u,h]),en=C.useMemo(()=>{var e;if(!h)return(0,w.v)("ONLINESTREAM").info("Updating servers, no episode source",[]),[];let n=null==(e=h.videoSources)?void 0:e.map(e=>e.server);return(0,w.v)("ONLINESTREAM").info("Updating servers",n),_()(n)},[h]),{videoSource:ei}=function(e){let n,i,l=(0,r.c)(24),t=(0,S.md)(v.F5),s=(0,S.md)(v.Wr);e:{if(!e||!e.videoSources){n=void 0;break e}let i=e.videoSources;if((0,w.v)("ONLINESTREAM").info("Stored quality",t),(0,w.v)("ONLINESTREAM").info("Selected server",s),s&&i.some(e=>e.server===s)){let e;if(l[0]!==s||l[1]!==i){let n;l[3]!==s?(n=e=>e.server===s,l[3]=s,l[4]=n):n=l[4],e=i.filter(n),l[0]=s,l[1]=i,l[2]=e}else e=l[2];i=e}let r=i.some(e=>e.quality===t),u=i.some(Z);if((0,w.v)("ONLINESTREAM").info("Selecting quality",{hasAuto:u,hasQuality:r}),t&&r){let e;if(l[5]!==t||l[6]!==i){let n;l[8]!==t?(n=e=>e.quality===t,l[8]=t,l[9]=n):n=l[9],e=i.filter(n),l[5]=t,l[6]=i,l[7]=e}else e=l[7];i=e}else if(u){let e;l[10]!==i?(e=i.filter(G),l[10]=i,l[11]=e):e=l[11],i=e}else{if((0,w.v)("ONLINESTREAM").info("Choosing a quality"),i.some($)){let e;l[12]!==i?(e=i.filter(W),l[12]=i,l[13]=e):e=l[13],i=e}else if(i.some(V)){let e;l[14]!==i?(e=i.filter(H),l[14]=i,l[15]=e):e=l[15],i=e}else if(i.some(B)){let e;l[16]!==i?(e=i.filter(J),l[16]=i,l[17]=e):e=l[17],i=e}else if(i.some(X)){let e;l[18]!==i?(e=i.filter(z),l[18]=i,l[19]=e):e=l[19],i=e}if(i.some(Q)){let e;l[20]!==i?(e=i.filter(K),l[20]=i,l[21]=e):e=l[21],i=e}}(0,w.v)("ONLINESTREAM").info("videoSources",i),n=i[0]}let u=n;return l[22]!==u?(i={videoSource:u},l[22]=u,l[23]=i):i=l[23],i}(h);C.useEffect(()=>{if((0,w.v)("ONLINESTREAM").info("Changing stream URL using videoSource",{videoSource:ei}),R(void 0),(0,w.v)("ONLINESTREAM").info("Setting stream URL to undefined"),null==ei?void 0:ei.url){b(ei.server);let e=ei.url;e=ei.headers&&Object.keys(ei.headers).length>0?"".concat((0,M.M)(),"/api/v1/proxy?url=").concat(encodeURIComponent(null==ei?void 0:ei.url),"&headers=").concat(encodeURIComponent(JSON.stringify(null==ei?void 0:ei.headers))):ei.url,C.startTransition(()=>{(0,w.v)("ONLINESTREAM").info("Setting stream URL",{url:e}),R(e)})}},[null==ei?void 0:ei.url]),C.useEffect(()=>{(0,w.v)("ONLINESTREAM").info("Provider changed",{provider:I}),A.current=I},[I]),C.useEffect(()=>{(0,w.v)("ONLINESTREAM").info("URL changed",{url:L})},[L]);let[el,er]=C.useState([]);C.useEffect(()=>{er([])},[ee]);let et=C.useCallback(()=>{(0,w.v)("ONLINESTREAM").warning("onMediaDetached")},[]),[es,eu]=C.useMemo(()=>{var e,n,i,l;return[!!(null==h||null==(i=h.videoSources)||null==(n=i.map(e=>e.quality))||null==(e=n.filter(e=>e.includes("p")))?void 0:e.length),_()(null==h||null==(l=h.videoSources)?void 0:l.map(e=>e.quality))]},[h]),ea=C.useCallback(e=>{try{var n,i,r;F.current=null!=(r=null==(n=l.current)?void 0:n.currentTime)?r:0,Y.current=(null==(i=l.current)?void 0:i.paused)===!1,(0,w.v)("ONLINESTREAM").info("Changing quality",{quality:e})}catch(e){}y(e)},[ei]),eo=C.useCallback(e=>{try{var n,i,r;F.current=null!=(r=null==(n=l.current)?void 0:n.currentTime)?r:0,Y.current=(null==(i=l.current)?void 0:i.paused)===!1,(0,w.v)("ONLINESTREAM").info("Changing provider",{provider:e})}catch(e){}T(e)},[ei]),ed=C.useCallback(e=>{try{var n,i,r;F.current=null!=(r=null==(n=l.current)?void 0:n.currentTime)?r:0,Y.current=(null==(i=l.current)?void 0:i.paused)===!1,(0,w.v)("ONLINESTREAM").info("Changing server",{server:e})}catch(e){}b(e)},[ei]),ec=C.useCallback(()=>{try{var e,n,i;F.current=null!=(i=null==(e=l.current)?void 0:e.currentTime)?i:0,Y.current=(null==(n=l.current)?void 0:n.paused)===!1,(0,w.v)("ONLINESTREAM").info("Toggling dubbed")}catch(e){}j(e=>!e)},[ei]),em=C.useMemo(()=>t.find(e=>e.id===I),[t,I]);return{currentEpisodeDetails:ee,provider:I,servers:en,videoSource:ei,onMediaDetached:et,onFatalError:()=>{(0,w.v)("ONLINESTREAM").error("onFatalError",{sameProvider:I==A.current}),I==A.current&&(R(void 0),(0,w.v)("ONLINESTREAM").error("Setting stream URL to undefined"),U.oR.warning("Playback error, trying another server..."),(0,w.v)("ONLINESTREAM").error("Player encountered a fatal error"),setTimeout(()=>{if((0,w.v)("ONLINESTREAM").error("erroredServers",el),null==ei?void 0:ei.server){let e=en.filter(e=>e!==(null==ei?void 0:ei.server)&&!el.includes(e));e.length>0?(er(e=>[...e,null==ei?void 0:ei.server]),b(e[0])):T(e=>{var n,i;return null!=(i=null==(n=s.find(n=>n.value!==e))?void 0:n.value)?i:null})}},500))},onCanPlay:()=>{if((0,w.v)("ONLINESTREAM").info("Can play event",{previousCurrentTime:F.current,previousIsPlayingRef:Y.current}),F.current>0){var e;Object.assign(null!=(e=l.current)?e:{},{currentTime:F.current}),F.current=0,(0,w.v)("ONLINESTREAM").info("Seeking to previous time",{previousCurrentTime:F.current})}setTimeout(()=>{if(Y.current){try{var e;null==(e=l.current)||e.play()}catch(e){}(0,w.v)("ONLINESTREAM").info("Resuming playback since past video was playing before the onCanPlay event")}},500)},url:L,episodes:u,media:a,episodeSource:h,loadPage:!o&&!d,currentEpisodeNumber:null!=(n=null==h?void 0:h.number)?n:0,handleChangeEpisodeNumber:e=>{N(n=>e)},episodeLoading:g||x,isErrorEpisodeSource:E,isErrorProvider:f,opts:{selectedExtension:em,currentEpisodeDetails:ee,providerExtensions:t,providerExtensionOptions:s,servers:en,videoSource:ei,customQualities:eu,hasCustomQualities:es,changeQuality:ea,changeProvider:eo,changeServer:ed,toggleDubbed:ec}}}(A),e4=(null==eG||null==(n=eG.nextAiringEpisode)?void 0:n.episode)?(null==eG||null==(i=eG.nextAiringEpisode)?void 0:i.episode)-1:(null==eG?void 0:eG.episodes)||0,e7=null!=(x=null==ew||null==(f=ew.listData)?void 0:f.progress)?x:0,e9=C.useRef(!0);ek[6]!==(null==ew||null==(p=ew.listData)?void 0:p.progress)||ek[7]!==ez||ek[8]!==e0||ek[9]!==eG||ek[10]!==eK?(F=()=>{if(eG&&e9.current&&ez){var e,n,i,l;let r,t=(null==eG||null==(e=eG.nextAiringEpisode)?void 0:e.episode)?(null==eG||null==(n=eG.nextAiringEpisode)?void 0:n.episode)-1:(null==eG?void 0:eG.episodes)||0,s=eK?Number(eK):void 0,u=null!=(l=null==ew||null==(i=ew.listData)?void 0:i.progress)?l:0;r=t?u+1<t?u+1:t:u+1,ez.find(e=>e.number===r)||(r=1),e0(s||r||1),(0,w.v)("ONLINESTREAM").info("Setting episode number to",s||r||1),e9.current=!1}},ek[6]=null==ew||null==(E=ew.listData)?void 0:E.progress,ek[7]=ez,ek[8]=e0,ek[9]=eG,ek[10]=eK,ek[11]=F):F=ek[11],ek[12]!==ez?(er=[ez],ek[12]=ez,ek[13]=er):er=ek[13],(0,es.A)(F,er),ek[14]!==eU||ek[15]!==e_||ek[16]!==eF||ek[17]!==eK?(ea=()=>{let e=setTimeout(()=>{eK&&eF.replace(e_+"?id=".concat(eU))},500);return()=>clearTimeout(e)},ek[14]=eU,ek[15]=e_,ek[16]=eF,ek[17]=eK,ek[18]=ea):ea=ek[18],ek[19]!==eU?(ec=[eU],ek[19]=eU,ek[20]=ec):ec=ek[20],C.useEffect(ea,ec),ek[21]!==eY||ek[22]!==ez?(em=null==ez||null==(N=ez.find(e=>e.number===eY))?void 0:N.title,ek[21]=eY,ek[22]=ez,ek[23]=em):em=ek[23];let e6=em;ek[24]!==eY||ek[25]!==ez||ek[26]!==e0||ek[27]!==e4?(ev=function(){eY<e4&&(null==ez?void 0:ez.find(e=>e.number===eY+1))&&e0(eY+1)},ek[24]=eY,ek[25]=ez,ek[26]=e0,ek[27]=e4,ek[28]=ev):ev=ek[28];let e8=ev;ek[29]!==eY||ek[30]!==ez||ek[31]!==e0?(ef=function(){eY>1&&(null==ez?void 0:ez.find(e=>e.number===eY-1))&&e0(eY-1)},ek[29]=eY,ek[30]=ez,ek[31]=e0,ek[32]=ef):ef=ek[32];let ne=ef;ek[33]===Symbol.for("react.memo_cache_sentinel")?(ep=function(e,n){(0,ei.ar)(e)&&(e.library=el.Ay,e.config={})},ek[33]=ep):ep=ek[33];let nn=ep;ek[34]!==eW||ek[35]!==eH||ek[36]!==eB?(eh=function(e,n){if((0,ei.ar)(e))if(el.Ay.isSupported()){var i,l;null==(i=e.instance)||i.on(el.Ay.Events.MEDIA_DETACHED,e=>{eH()}),null==(l=e.instance)||l.on(el.Ay.Events.ERROR,(e,n)=>{n.fatal&&eW()})}else e.video.canPlayType("application/vnd.apple.mpegurl")&&(e.video.src=eB||"")},ek[34]=eW,ek[35]=eH,ek[36]=eB,ek[37]=eh):eh=ek[37];let ni=eh;if(ek[38]!==eJ.hasCustomQualities?(eg=()=>{let e=setTimeout(()=>{var e,n;let i=document.querySelector(".vds-quality-menu");eJ.hasCustomQualities?null==i||null==(e=i.classList)||e.add("force-hidden"):null==i||null==(n=i.classList)||n.remove("force-hidden")},1e3);return()=>clearTimeout(e)},ek[38]=eJ.hasCustomQualities,ek[39]=eg):eg=ek[39],ek[40]!==e1||ek[41]!==eJ.hasCustomQualities||ek[42]!==eB?(ex=[eJ.hasCustomQualities,eB,e1],ek[40]=e1,ek[41]=eJ.hasCustomQualities,ek[42]=eB,ek[43]=ex):ex=ek[43],C.useEffect(eg,ex),!e$||!eG||eq){let e,n;return ek[44]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"flex gap-4 items-center relative",children:(0,l.jsx)(en.E,{className:"h-12"})}),ek[44]=e):e=ek[44],ek[45]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsxs)("div",{"data-onlinestream-page-loading-container":!0,className:"space-y-4",children:[e,(0,l.jsxs)("div",{className:"grid 2xl:grid-cols-[1fr,450px] gap-4 xl:gap-4",children:[(0,l.jsx)("div",{className:"w-full min-h-[70dvh] relative",children:(0,l.jsx)(en.E,{className:"h-full w-full absolute"})}),(0,l.jsx)(en.E,{className:"hidden 2xl:block relative h-[78dvh] overflow-y-auto pr-4 pt-0"})]})]}),ek[45]=n):n=ek[45],n}let nl=e6||null;ek[46]!==eY||ek[47]!==e7||ek[48]!==nl?(eE={currentProgress:e7,currentEpisodeNumber:eY,currentEpisodeTitle:nl},ek[46]=eY,ek[47]=e7,ek[48]=nl,ek[49]=eE):eE=ek[49];let nr=eU?Number(eU):void 0,nt=null==eG||null==(h=eG.title)?void 0:h.userPreferred;return ek[50]!==ew?(eN=ew&&(0,l.jsx)(L,{entry:ew,children:(0,l.jsx)(g.K0,{size:"sm",intent:"gray-basic",icon:(0,l.jsx)(et.KSO,{})})}),ek[50]=ew,ek[51]=eN):eN=ek[51],ek[52]===Symbol.for("react.memo_cache_sentinel")?(eb=(0,l.jsx)(c.xF,{}),ek[52]=eb):eb=ek[52],ek[53]!==eU?(ey=!!eU&&(0,l.jsx)(c.uN,{mediaId:Number(eU)}),ek[53]=eU,ek[54]=ey):ey=ek[54],ek[55]===Symbol.for("react.memo_cache_sentinel")?(ej=(0,l.jsx)("div",{className:"flex flex-1"}),ek[55]=ej):ej=ek[55],ek[56]!==eN||ek[57]!==ey?(eS=(0,l.jsxs)(l.Fragment,{children:[eN,eb,ey,ej]}),ek[56]=eN,ek[57]=ey,ek[58]=eS):eS=ek[58],ek[59]!==eV||ek[60]!==(null==eX?void 0:eX.image)||ek[61]!==e1||ek[62]!==(null==eZ?void 0:eZ.subtitles)||ek[63]!==e8||ek[64]!==ne||ek[65]!==e2||ek[66]!==e5||ek[67]!==eG||ek[68]!==eU||ek[69]!==ni||ek[70]!==eJ.hasCustomQualities||ek[71]!==e3||ek[72]!==eB?(eC=e3?e5?(0,l.jsx)(ee.D,{title:"Provider error"}):(0,l.jsx)(a.F,{url:eB,poster:(null==eX?void 0:eX.image)||(null==(b=eG.coverImage)?void 0:b.extraLarge),isLoading:e1,isPlaybackError:e2,playerRef:eQ,onProviderChange:nn,onProviderSetup:ni,onCanPlay:eV,onGoToNextEpisode:e8,onGoToPreviousEpisode:ne,tracks:null==eZ||null==(y=eZ.subtitles)?void 0:y.map(ed),settingsItems:(0,l.jsx)(l.Fragment,{children:eJ.hasCustomQualities?(0,l.jsx)(c.nO,{}):null}),videoLayoutSlots:{beforeCaptionButton:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(c.V1,{})})})}}):(0,l.jsxs)("div",{className:"flex items-center flex-col justify-center w-full h-full",children:[(0,l.jsx)(ee.D,{title:"No provider selected"}),!!eU&&(0,l.jsx)(c.uN,{mediaId:Number(eU)})]}),ek[59]=eV,ek[60]=null==eX?void 0:eX.image,ek[61]=e1,ek[62]=null==eZ?void 0:eZ.subtitles,ek[63]=e8,ek[64]=ne,ek[65]=e2,ek[66]=e5,ek[67]=eG,ek[68]=eU,ek[69]=ni,ek[70]=eJ.hasCustomQualities,ek[71]=e3,ek[72]=eB,ek[73]=eC):eC=ek[73],ek[74]!==(null==ez?void 0:ez.length)||ek[75]!==e$?(eI=!(null==ez?void 0:ez.length)&&!e$&&(0,l.jsx)("p",{children:"No episodes found"}),ek[74]=null==ez?void 0:ez.length,ek[75]=e$,ek[76]=eI):eI=ek[76],ek[77]!==eY||ek[78]!==e1||ek[79]!==ez||ek[80]!==e0||ek[81]!==eG||ek[82]!==e7?(eT=null==ez||null==(I=ez.filter(Boolean))||null==(j=I.sort(eo))?void 0:j.map((e,n)=>{var i;return(0,l.jsx)(s.X,{id:"episode-".concat(String(e.number)),onClick:()=>e0(e.number),title:"MOVIE"===eG.format?"Complete movie":"Episode ".concat(e.number),episodeTitle:e.title,description:null!=(i=e.description)?i:void 0,image:e.image,media:eG,isSelected:e.number===eY,disabled:e1,isWatched:e7?e.number<=e7:void 0,className:"flex-none w-full",isFiller:e.isFiller,episodeNumber:e.number,progressNumber:e.number,action:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.H,{title:"MOVIE"===eG.format?"Complete movie":"Episode ".concat(e.number),image:null==e?void 0:e.image,episodeTitle:e.title,summary:null==e?void 0:e.description}),(0,l.jsx)(eu.bv,{isDropdownMenu:!0,type:"onlinestream",episode:e})]})},n+(e.title||"")+e.number)}),ek[77]=eY,ek[78]=e1,ek[79]=ez,ek[80]=e0,ek[81]=eG,ek[82]=e7,ek[83]=eT):eT=ek[83],ek[84]===Symbol.for("react.memo_cache_sentinel")?(eL=(0,l.jsx)("p",{className:"text-center text-[--muted] py-2",children:"End"}),ek[84]=eL):eL=ek[84],ek[85]!==eI||ek[86]!==eT?(eR=(0,l.jsxs)(l.Fragment,{children:[eI,eT,eL]}),ek[85]=eI,ek[86]=eT,ek[87]=eR):eR=ek[87],ek[88]!==ez||ek[89]!==eP||ek[90]!==nr||ek[91]!==nt||ek[92]!==eS||ek[93]!==eC||ek[94]!==eR?(eA=(0,l.jsx)(o.t,{mediaId:nr,title:nt,hideBackButton:eP,episodes:ez,leftHeaderActions:eS,mediaPlayer:eC,episodeList:eR}),ek[88]=ez,ek[89]=eP,ek[90]=nr,ek[91]=nt,ek[92]=eS,ek[93]=eC,ek[94]=eR,ek[95]=eA):eA=ek[95],ek[96]!==eJ||ek[97]!==eA?(eM=(0,l.jsx)(Y.M,{opts:eJ,children:eA}),ek[96]=eJ,ek[97]=eA,ek[98]=eM):eM=ek[98],ek[99]!==eG||ek[100]!==eE||ek[101]!==eM?(eO=(0,l.jsx)(d.Ky,{media:eG,progress:eE,children:eM}),ek[99]=eG,ek[100]=eE,ek[101]=eM,ek[102]=eO):eO=ek[102],eO}function eo(e,n){return e.number-n.number}function ed(e){var n,i,l,r;return{id:e.language,label:e.language,kind:"subtitles",src:e.url,language:e.language,default:e.language?(null==(n=e.language)?void 0:n.toLowerCase())==="english"||(null==(i=e.language)?void 0:i.toLowerCase())==="en-us":(null==(l=e.language)?void 0:l.toLowerCase())==="english"||(null==(r=e.language)?void 0:r.toLowerCase())==="en-us"}}(0,er.eU)(void 0)},75733:(e,n,i)=>{i.d(n,{J:()=>a,K:()=>o});var l=i(95155),r=i(19749),t=i(84127),s=i(76049),u=i(73832);function a(e){let n,i=(0,r.c)(3),l=(0,u.j)(!1);return i[0]!==l||i[1]!==e?(n={...l,...e},i[0]=l,i[1]=e,i[2]=n):n=i[2],n}i(12115);let o=e=>{let n,i,u,a,o,d,c,m=(0,r.c)(22),{isOpen:v,close:f,onConfirm:p,title:h,description:g,actionText:x,actionIntent:E}=e,N=void 0===g?"Are you sure you want to continue?":g,b=void 0===x?"Confirm":x,y=void 0===E?"alert-subtle":E;return m[0]!==N?(n=(0,l.jsx)("p",{className:"text-center",children:N}),m[0]=N,m[1]=n):n=m[1],m[2]!==f||m[3]!==p?(i=()=>{p(),f()},m[2]=f,m[3]=p,m[4]=i):i=m[4],m[5]!==y||m[6]!==b||m[7]!==i?(u=(0,l.jsx)(t.$n,{intent:y,onClick:i,children:b}),m[5]=y,m[6]=b,m[7]=i,m[8]=u):u=m[8],m[9]!==f?(a=(0,l.jsx)(t.$n,{intent:"white",onClick:f,children:"Cancel"}),m[9]=f,m[10]=a):a=m[10],m[11]!==u||m[12]!==a?(o=(0,l.jsxs)("div",{className:"flex gap-2 justify-center items-center",children:[u,a]}),m[11]=u,m[12]=a,m[13]=o):o=m[13],m[14]!==n||m[15]!==o?(d=(0,l.jsxs)("div",{className:"space-y-4",children:[n,o]}),m[14]=n,m[15]=o,m[16]=d):d=m[16],m[17]!==f||m[18]!==v||m[19]!==d||m[20]!==h?(c=(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.a,{title:h,titleClass:"text-center",open:v,onOpenChange:f,children:d})}),m[17]=f,m[18]=v,m[19]=d,m[20]=h,m[21]=c):c=m[21],c}}}]);