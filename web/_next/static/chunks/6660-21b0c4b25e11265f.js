"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6660],{1382:(e,t,n)=>{n.d(t,{z:()=>m});var l=n(95155),r=n(19749),a=n(99639),i=n(91360),o=n(90711),s=n(91332),c=n(48095),u=n(12115),d=n(37178);function m(e){let t,n,m,g,p,h,b,f,v,y,x,w,N,j,S,I,E,A,L,M,C,T=(0,r.c)(45),{discrete:_,isLibraryScreen:k}=e,D=(0,s.Ky)();t=D.libraryScreenCustomBannerImage?(0,o.sU)(D.libraryScreenCustomBannerImage):"";let[R,B]=u.useState(!1),{y:X}=(0,d.A)();T[0]!==X?(n=()=>{X>100?B(!0):B(!1)},T[0]=X,T[1]=n):n=T[1];let W=X>100;if(T[2]!==W?(m=[W],T[2]=W,T[3]=m):m=T[3],(0,u.useEffect)(n,m),k&&D.libraryScreenBannerType!==s.H4.Custom||_&&D.libraryScreenCustomBackgroundImage||!t)return null;T[4]!==_||T[5]!==D.hideTopNavbar?(g=!_&&(0,l.jsx)("div",{"data-custom-library-banner-top-spacer":!0,className:(0,i.cn)("py-20",D.hideTopNavbar&&"py-28")}),T[4]=_,T[5]=D.hideTopNavbar,T[6]=g):g=T[6];let z=_&&"opacity-20",O=!!D.libraryScreenCustomBackgroundImage&&"absolute",F=!D.libraryScreenCustomBackgroundImage&&R&&"opacity-5",Y=!D.disableSidebarTransparency&&a.j;T[7]!==z||T[8]!==O||T[9]!==F||T[10]!==Y?(p=(0,i.cn)("__header h-[30rem] z-[1] top-0 w-full fixed group/library-header transition-opacity duration-1000",z,O,F,Y,"scroll-locked-offset"),T[7]=z,T[8]=O,T[9]=F,T[10]=Y,T[11]=p):p=T[11],T[12]!==_||T[13]!==D.disableSidebarTransparency?(h=!D.disableSidebarTransparency&&!_&&(0,l.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:"hidden lg:block h-full absolute z-[2] w-[20rem] opacity-70 left-0 top-0 bg-gradient bg-gradient-to-r from-[var(--background)] to-transparent"}),T[12]=_,T[13]=D.disableSidebarTransparency,T[14]=h):h=T[14],T[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:"w-full z-[3] absolute bottom-[-5rem] h-[5rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent"}),T[15]=b):b=T[15],T[16]===Symbol.for("react.memo_cache_sentinel")?(f={opacity:0},v={opacity:1,y:0},y={opacity:0},x={duration:1,delay:.2},w=(0,i.cn)("h-[30rem] z-[0] w-full flex-none absolute top-0 overflow-hidden","scroll-locked-offset"),T[16]=f,T[17]=v,T[18]=y,T[19]=x,T[20]=w):(f=T[16],v=T[17],y=T[18],x=T[19],w=T[20]);let P=_&&"opacity-70";T[21]!==P?(N=(0,i.cn)("CUSTOM_LIB_BANNER_TOP_FADE w-full absolute z-[2] top-0 h-[5rem] opacity-40 bg-gradient-to-b from-[--background] to-transparent via",P),T[21]=P,T[22]=N):N=T[22],T[23]!==N?(j=(0,l.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:N}),T[23]=N,T[24]=j):j=T[24],T[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,i.cn)("CUSTOM_LIB_BANNER_IMG z-[1] absolute inset-0 w-full h-full bg-cover bg-no-repeat transition-opacity duration-1000","scroll-locked-offset"),T[25]=S):S=T[25];let H="url(".concat(t,")"),U=D.libraryScreenCustomBannerPosition||"50% 50%",G=(D.libraryScreenCustomBannerOpacity||100)/100;T[26]!==H||T[27]!==U||T[28]!==G?(I=(0,l.jsx)("div",{"data-custom-library-banner-image":!0,className:S,style:{backgroundImage:H,backgroundPosition:U,opacity:G,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),T[26]=H,T[27]=U,T[28]=G,T[29]=I):I=T[29];let Z=_&&"via-50% via-opacity-100 h-[40rem]";return T[30]!==Z?(E=(0,i.cn)("CUSTOM_LIB_BANNER_BOTTOM_FADE w-full z-[2] absolute bottom-0 h-[20rem] bg-gradient-to-t from-[--background] via-opacity-50 via-10% to-transparent via",Z),T[30]=Z,T[31]=E):E=T[31],T[32]!==E?(A=(0,l.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:E}),T[32]=E,T[33]=A):A=T[33],T[34]!==j||T[35]!==I||T[36]!==A?(L=(0,l.jsxs)(c.P.div,{initial:f,animate:v,exit:y,transition:x,className:w,"data-custom-library-banner-inner-container":!0,children:[j,I,A]}),T[34]=j,T[35]=I,T[36]=A,T[37]=L):L=T[37],T[38]!==h||T[39]!==L||T[40]!==p?(M=(0,l.jsxs)("div",{"data-custom-library-banner-container":!0,className:p,children:[h,b,L]}),T[38]=h,T[39]=L,T[40]=p,T[41]=M):M=T[41],T[42]!==M||T[43]!==g?(C=(0,l.jsxs)(l.Fragment,{children:[g,M]}),T[42]=M,T[43]=g,T[44]=C):C=T[44],C}},2969:(e,t,n)=>{n.d(t,{V:()=>u});var l=n(95155),r=n(19749),a=n(21335),i=n(12115),o=n(70274),s=n(91360);let c=(0,s.u)({root:(0,a.F)(["UI-HorizontalDraggableScroll__root","relative flex items-center lg:gap-2"]),container:(0,a.F)(["UI-HorizontalDraggableScroll__container","flex max-w-full w-full space-x-3 overflow-x-scroll scrollbar-hide scroll select-none"]),chevronOverlay:(0,a.F)(["flex flex-none items-center justify-center cursor-pointer hover:text-[--foreground] absolute bg-gradient-to-r from-[--background] z-40","h-full w-16 opacity-90 hover:opacity-100 transition-opacity","data-[state=hidden]:opacity-0 data-[state=hidden]:pointer-events-none","data-[state=visible]:animate-in data-[state=hidden]:animate-out","data-[state=visible]:fade-in-0 data-[state=hidden]:fade-out-0","data-[state=visible]:duration-600 data-[state=hidden]:duration-600","hidden md:flex"],{variants:{side:{left:"left-0 bg-gradient-to-r rounded-l-xl",right:"right-0 bg-gradient-to-l rounded-r-xl"}}}),scrollContainer:(0,a.F)(["flex max-w-full w-full space-x-3 overflow-x-scroll scrollbar-hide scroll select-none"]),chevronIcon:(0,a.F)(["w-7 h-7 stroke-2 mx-auto"])}),u=i.forwardRef((e,t)=>{let n,a,u,d,m,g,p,h,b,f,v,y,x,w,N,j,S,I,E,A,L,M,C=(0,r.c)(57),{children:T,onSlideEnd:_,className:k,containerClass:D,chevronIconClass:R,chevronOverlayClass:B,decayRate:X,safeDisplacement:W,applyRubberBandEffect:z,scrollAmount:O}=e,F=void 0===X?.95:X,Y=void 0===W?20:W,P=void 0===z||z,H=void 0===O?500:O,U=i.useRef(null);C[0]!==P||C[1]!==F||C[2]!==Y?(n={decayRate:F,safeDisplacement:Y,applyRubberBandEffect:P},C[0]=P,C[1]=F,C[2]=Y,C[3]=n):n=C[3];let{events:G}=function(e){let t,n,l,r,a,s,c,{decayRate:u=.95,safeDisplacement:d=10,applyRubberBandEffect:m=!0,activeMouseButton:g="Left",isMounted:p=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=i.useRef({isMouseDown:!1,isDraggingX:!1,isDraggingY:!1,initialMouseX:0,initialMouseY:0,lastMouseX:0,lastMouseY:0,scrollSpeedX:0,scrollSpeedY:0,lastScrollX:0,lastScrollY:0}),b=!1,f=!1,v=0,y=0,x=1/60*1e3;(0,o.Es)(()=>{p&&(b="scroll"===window.getComputedStyle(e.current).overflowX,f="scroll"===window.getComputedStyle(e.current).overflowY,v=e.current.scrollWidth-e.current.clientWidth,y=e.current.scrollHeight-e.current.clientHeight,t=window.getComputedStyle(e.current).cursor,n=[],l=[],r=[],e.current.childNodes.forEach(e=>{n.push(window.getComputedStyle(e).cursor),l.push("none"===window.getComputedStyle(e).transform?"":window.getComputedStyle(e).transform),r.push("none"===window.getComputedStyle(e).transition?"":window.getComputedStyle(e).transition)}))},[p]);let w=()=>{let t=h.current.scrollSpeedX*x,n=h.current.scrollSpeedY*x,l=e.current.scrollLeft+t,r=e.current.scrollTop+n;e.current.scrollLeft=l,e.current.scrollTop=r,h.current.lastScrollX=l,h.current.lastScrollY=r},N=t=>{let n=t.clientX-h.current.initialMouseX,l=t.clientY-h.current.initialMouseY,{clientWidth:r,clientHeight:a}=e.current,i=0,o=0;b&&f?(i=.3*r*Math.sign(n)*Math.log10(1+.5*Math.abs(n)/r),o=.3*a*Math.sign(l)*Math.log10(1+.5*Math.abs(l)/a)):b?i=.3*r*Math.sign(n)*Math.log10(1+.5*Math.abs(n)/r):f&&(o=.3*a*Math.sign(l)*Math.log10(1+.5*Math.abs(l)/a)),e.current.childNodes.forEach(e=>{e.style.transform="translate3d(".concat(i,"px, ").concat(o,"px, 0px)"),e.style.transition="transform 0ms"})},j=()=>{e.current.childNodes.forEach((e,t)=>{e.style.transform=l[t],e.style.transition=r[t]})},S=()=>{s=setInterval(()=>{let t=h.current.scrollSpeedX*u;h.current.scrollSpeedX=t;let n=e.current.scrollLeft<=0,l=e.current.scrollLeft>=v;w(),(.05>Math.abs(t)||h.current.isMouseDown||n||l)&&(h.current.scrollSpeedX=0,clearInterval(s))},x),c=setInterval(()=>{let t=h.current.scrollSpeedY*u;h.current.scrollSpeedY=t;let n=e.current.scrollTop<=0,l=e.current.scrollTop>=y;w(),(.05>Math.abs(t)||h.current.isMouseDown||n||l)&&(h.current.scrollSpeedY=0,clearInterval(c))},x),h.current.isDraggingX=!1,h.current.isDraggingY=!1,m&&(e.current.childNodes.forEach(e=>{e.style.transform="translate3d(0px, 0px, 0px)",e.style.transition="transform ".concat(250,"ms")}),a=setTimeout(j,250))},I=e=>{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()},E=e=>"Left"===g&&1===e||"Middle"===g&&4===e||"Right"===g&&2===e,A=l=>{let r=h.current.isDraggingX||h.current.isDraggingY,a=h.current.initialMouseX-l.clientX,i=h.current.initialMouseY-l.clientY,o=Math.abs(a)>d||Math.abs(i)>d,s=r&&o;s?e.current.childNodes.forEach(e=>{e.addEventListener("click",I)}):e.current.childNodes.forEach(e=>{e.removeEventListener("click",I)}),h.current.isMouseDown=!1,h.current.lastMouseX=0,h.current.lastMouseY=0,e.current.style.cursor=t,e.current.childNodes.forEach((e,t)=>{e.style.cursor=n[t]}),s&&S()},L=t=>{if(!h.current.isMouseDown)return;t.preventDefault();let n=h.current.lastMouseX-t.clientX;h.current.lastMouseX=t.clientX,h.current.scrollSpeedX=n/x,h.current.isDraggingX=!0;let l=h.current.lastMouseY-t.clientY;h.current.lastMouseY=t.clientY,h.current.scrollSpeedY=l/x,h.current.isDraggingY=!0,e.current.style.cursor="grabbing",e.current.childNodes.forEach(e=>{e.style.cursor="grabbing"});let r=e.current.scrollLeft<=0&&b,a=e.current.scrollLeft>=v&&b,i=e.current.scrollTop<=0&&f,o=e.current.scrollTop>=y&&f;(r||a||i||o)&&m&&N(t),w()},M=()=>{v=e.current.scrollWidth-e.current.clientWidth,y=e.current.scrollHeight-e.current.clientHeight};return i.useEffect(()=>(p&&(window.addEventListener("mouseup",A),window.addEventListener("mousemove",L),window.addEventListener("resize",M)),()=>{window.removeEventListener("mouseup",A),window.removeEventListener("mousemove",L),window.removeEventListener("resize",M),clearInterval(s),clearInterval(c),clearTimeout(a)}),[p]),{events:{onMouseDown:e=>{E(e.buttons)&&(h.current.isMouseDown=!0,h.current.lastMouseX=e.clientX,h.current.lastMouseY=e.clientY,h.current.initialMouseX=e.clientX,h.current.initialMouseY=e.clientY)}}}}(U,n),[Z,q]=i.useState(!0),[K,V]=i.useState(!1),[$,J]=i.useState(!1);C[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{let e=U.current;if(e){let t=0===e.scrollLeft,n=e.scrollLeft+e.clientWidth===e.scrollWidth;q(t),V(n)}},C[4]=a):a=C[4];let Q=a;C[5]!==Z||C[6]!==K||C[7]!==_||C[8]!==H?(u=()=>{if(!Z&&K){_&&_();let e=setTimeout(()=>{let e=U.current;e&&e.scrollTo({left:e.scrollLeft+H,behavior:"smooth"})},1e3);return()=>clearTimeout(e)}},C[5]=Z,C[6]=K,C[7]=_,C[8]=H,C[9]=u):u=C[9],C[10]!==Z||C[11]!==K?(d=[Z,K],C[10]=Z,C[11]=K,C[12]=d):d=C[12],(0,o.w5)(u,d),C[13]!==H?(m=()=>{let e=U.current;e&&e.scrollTo({left:e.scrollLeft-H,behavior:"smooth"})},C[13]=H,C[14]=m):m=C[14];let ee=m;C[15]!==H?(g=()=>{let e=U.current;e&&e.scrollTo({left:e.scrollLeft+H,behavior:"smooth"})},C[15]=H,C[16]=g):g=C[16];let et=g;C[17]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{U.current.clientWidth<U.current.scrollWidth?J(!0):J(!1)},h=[],C[17]=p,C[18]=h):(p=C[17],h=C[18]),(0,o.Es)(p,h),C[19]!==k?(b=(0,s.cn)(c.root(),k),C[19]=k,C[20]=b):b=C[20],C[21]!==B?(f=(0,s.cn)(c.chevronOverlay({side:"left"}),B),C[21]=B,C[22]=f):f=C[22];let en=Z?"hidden":"visible";C[23]!==R?(v=(0,s.cn)(c.chevronIcon(),R),C[23]=R,C[24]=v):v=C[24],C[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)("path",{d:"m15 18-6-6 6-6"}),C[25]=y):y=C[25],C[26]!==v?(x=(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:v,children:y}),C[26]=v,C[27]=x):x=C[27],C[28]!==ee||C[29]!==f||C[30]!==en||C[31]!==x?(w=(0,l.jsx)("div",{onClick:ee,className:f,"data-state":en,children:x}),C[28]=ee,C[29]=f,C[30]=en,C[31]=x,C[32]=w):w=C[32],C[33]!==D?(N=(0,s.cn)(c.container(),D),C[33]=D,C[34]=N):N=C[34],C[35]!==T||C[36]!==G||C[37]!==N?(j=(0,l.jsx)("div",{onScroll:Q,className:N,...G,ref:U,children:T}),C[35]=T,C[36]=G,C[37]=N,C[38]=j):j=C[38],C[39]!==B?(S=(0,s.cn)(c.chevronOverlay({side:"right"}),B),C[39]=B,C[40]=S):S=C[40];let el=!K&&$?"visible":"hidden";return C[41]!==R?(I=(0,s.cn)(c.chevronIcon(),R),C[41]=R,C[42]=I):I=C[42],C[43]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)("path",{d:"m9 18 6-6-6-6"}),C[43]=E):E=C[43],C[44]!==I?(A=(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:I,children:E}),C[44]=I,C[45]=A):A=C[45],C[46]!==et||C[47]!==S||C[48]!==el||C[49]!==A?(L=(0,l.jsx)("div",{onClick:et,className:S,"data-state":el,children:A}),C[46]=et,C[47]=S,C[48]=el,C[49]=A,C[50]=L):L=C[50],C[51]!==t||C[52]!==b||C[53]!==w||C[54]!==j||C[55]!==L?(M=(0,l.jsxs)("div",{ref:t,className:b,children:[w,j,L]}),C[51]=t,C[52]=b,C[53]=w,C[54]=j,C[55]=L,C[56]=M):M=C[56],M})},52947:(e,t,n)=>{n.d(t,{H:()=>s});var l=n(95155),r=n(19749),a=n(91360),i=n(2969),o=n(23391);function s(e){let t,n,s,c,u,d,m,g=(0,r.c)(15),{items:p,className:h,staticTabsClass:b,staticTabsTriggerClass:f}=e;return g[0]!==h?(t=(0,a.cn)("scroll-pb-1 flex",h),g[0]=h,g[1]=t):t=g[1],g[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{"data-media-genre-selector-scroll-container":!0,className:"flex flex-1"}),g[2]=n):n=g[2],g[3]!==b?(s=(0,a.cn)("px-2 overflow-visible gap-2 py-4 w-fit",b),g[3]=b,g[4]=s):s=g[4],g[5]!==f?(c=(0,a.cn)("text-base rounded-[--radius-md] ring-1 ring-transparent data-[current=true]:ring-brand-500 data-[current=true]:text-brand-300",f),g[5]=f,g[6]=c):c=g[6],g[7]!==p||g[8]!==s||g[9]!==c?(u=(0,l.jsx)(o.tH,{className:s,triggerClass:c,items:p}),g[7]=p,g[8]=s,g[9]=c,g[10]=u):u=g[10],g[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("div",{"data-media-genre-selector-scroll-container-end":!0,className:"flex flex-1"}),g[11]=d):d=g[11],g[12]!==t||g[13]!==u?(m=(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.V,{"data-media-genre-selector":!0,className:t,children:[n,u,d]})}),g[12]=t,g[13]=u,g[14]=m):m=g[14],m}n(12115)},58443:(e,t,n)=>{n.d(t,{v:()=>_});var l=n(95155),r=n(19749),a=n(86531),i=n(90984),o=n(36945),s=n(61585),c=n(45754),u=n(84127),d=n(17934),m=n(80743),g=n(29724),p=n(12115),h=n(43994);function b(e){let t,n,a,i=(0,r.c)(5),{collectionList:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.25}},i[0]=t):t=i[0],i[1]!==o?(n=o.map(f),i[1]=o,i[2]=n):n=i[2],i[3]!==n?(a=(0,l.jsx)(c.f,{className:"space-y-8","data-library-collection-lists":!0,...t,children:n},"library-collection-lists"),i[3]=n,i[4]=a):a=i[4],a}function f(e){var t;return(null==(t=e.entries)?void 0:t.length)?(0,l.jsx)(N,{list:e},e.type):null}function v(e){var t,n,a,i;let s,u,d,m,g=(0,r.c)(8),{collectionList:p}=e;return g[0]===Symbol.for("react.memo_cache_sentinel")?(s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.25}},g[0]=s):s=g[0],g[1]!==p?(u=null!=(n=null==p||null==(t=p.flatMap(w))?void 0:t.length)?n:0,g[1]=p,g[2]=u):u=g[2],g[3]!==p?(d=null==p||null==(i=p.flatMap(x))||null==(a=i.filter(Boolean))?void 0:a.map(y),g[3]=p,g[4]=d):d=g[4],g[5]!==u||g[6]!==d?(m=(0,l.jsx)(c.f,{className:"space-y-8","data-library-filtered-lists":!0,...s,children:(0,l.jsx)(o.xt,{itemCount:u,children:d})},"library-filtered-lists"),g[5]=u,g[6]=d,g[7]=m):m=g[7],m}function y(e){return(0,l.jsx)(j,{entry:e},e.mediaId)}function x(e){return e.entries}function w(e){return e.entries}let N=p.memo(e=>{var t,n;let a,s,c,b,f,v,y,x,w=(0,r.c)(23),{list:N}=e,j="CURRENT"===N.type,[E,A]=(0,g.fp)(i.DZ),L=N.type,M=N.type;w[0]!==N.type?(a=(0,m.me)(N.type),w[0]=N.type,w[1]=a):a=w[1],w[2]!==a?(s=(0,l.jsx)("h2",{className:"p-0 m-0",children:a}),w[2]=a,w[3]=s):s=w[3],w[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("div",{className:"flex flex-1"}),w[4]=c):c=w[4],w[5]!==j||w[6]!==E||w[7]!==A?(b=j&&(0,l.jsx)(d.rI,{trigger:(0,l.jsx)(u.K0,{intent:"white-basic",size:"xs",className:"mt-1",icon:(0,l.jsx)(h.Oev,{})}),children:(0,l.jsx)(d._2,{onClick:()=>{A(S)},children:E.continueWatchingOnly?"Show all":"Show unwatched only"})}),w[5]=j,w[6]=E,w[7]=A,w[8]=b):b=w[8],w[9]!==N.type||w[10]!==s||w[11]!==b?(f=(0,l.jsxs)("div",{className:"flex gap-3 items-center","data-library-collection-list-item-header":!0,"data-list-type":M,children:[s,c,b]}),w[9]=N.type,w[10]=s,w[11]=b,w[12]=f):f=w[12];let C=(null==N||null==(t=N.entries)?void 0:t.length)||0;return w[13]!==N.entries?(v=null==(n=N.entries)?void 0:n.map(I),w[13]=N.entries,w[14]=v):v=w[14],w[15]!==N.type||w[16]!==C||w[17]!==v?(y=(0,l.jsx)(o.xt,{itemCount:C,"data-library-collection-list-item-media-card-lazy-grid":!0,"data-list-type":N.type,children:v}),w[15]=N.type,w[16]=C,w[17]=v,w[18]=y):y=w[18],w[19]!==N.type||w[20]!==y||w[21]!==f?(x=(0,l.jsxs)(p.Fragment,{children:[f,y]},L),w[19]=N.type,w[20]=y,w[21]=f,w[22]=x):x=w[22],x}),j=p.memo(e=>{let t,n=(0,r.c)(4),{entry:a}=e;return n[0]!==a.libraryData||n[1]!==a.listData||n[2]!==a.media?(t=(0,l.jsx)(s.V,{media:a.media,listData:a.listData,libraryData:a.libraryData,showListDataButton:!0,withAudienceScore:!1,type:"anime"}),n[0]=a.libraryData,n[1]=a.listData,n[2]=a.media,n[3]=t):t=n[3],t});function S(e){e.continueWatchingOnly=!e.continueWatchingOnly}function I(e){return(0,l.jsx)(j,{entry:e},e.mediaId)}var E=n(52947),A=n(91360),L=n(77717),M=n(14370),C=n(91332),T=n(43826);function _(e){var t,n,o,s;let u,d,m,h,f=(0,r.c)(17),{genres:y,collectionList:x,continueWatchingList:w,filteredCollectionList:N,isLoading:j}=e,S=(0,C.Ky)(),[I]=(0,g.fp)(i.DZ);if(j){let e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(p.Fragment,{children:(0,l.jsxs)("div",{className:"p-4 space-y-4 relative z-[4]",children:[(0,l.jsx)(L.E,{className:"h-12 w-full max-w-lg relative"}),(0,l.jsx)("div",{className:(0,A.cn)("grid h-[22rem] min-[2000px]:h-[24rem] grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-7 min-[2000px]:grid-cols-8 gap-4"),children:[1,2,3,4,5,6,7,8].map(D)})]})}),f[0]=e):e=f[0],e}return f[1]!==w||f[2]!==j?(u=(0,l.jsx)(a.P,{episodes:w,isLoading:j}),f[1]=w,f[2]=j,f[3]=u):u=f[3],f[4]!==x||f[5]!==y||f[6]!==S.disableLibraryScreenGenreSelector?(d=!S.disableLibraryScreenGenreSelector&&(null==(n=x.flatMap(k))?void 0:n.length)>2&&(0,l.jsx)(R,{genres:y}),f[4]=x,f[5]=y,f[6]=S.disableLibraryScreenGenreSelector,f[7]=d):d=f[7],f[8]!==x||f[9]!==N||f[10]!==j||f[11]!==(null==(t=I.genre)?void 0:t.length)?(m=(0,l.jsx)(c.f,{className:"p-4 space-y-8 relative z-[4]","data-library-collection-lists-container":!0,children:(0,l.jsx)(T.N,{mode:"wait",initial:!1,children:(null==(o=I.genre)?void 0:o.length)?(0,l.jsx)(v,{collectionList:N,isLoading:j},"library-filtered-lists"):(0,l.jsx)(b,{collectionList:x,isLoading:j},"library-collection-lists")})},"library-collection-lists"),f[8]=x,f[9]=N,f[10]=j,f[11]=null==(s=I.genre)?void 0:s.length,f[12]=m):m=f[12],f[13]!==u||f[14]!==d||f[15]!==m?(h=(0,l.jsxs)(l.Fragment,{children:[u,d,m]}),f[13]=u,f[14]=d,f[15]=m,f[16]=h):h=f[16],h}function k(e){return e.entries}function D(e,t){return(0,l.jsx)(L.E,{className:(0,A.cn)("h-[22rem] min-[2000px]:h-[24rem] col-span-1 aspect-[6/7] flex-none rounded-[--radius-md] relative overflow-hidden","[&:nth-child(8)]:hidden min-[2000px]:[&:nth-child(8)]:block","[&:nth-child(7)]:hidden 2xl:[&:nth-child(7)]:block","[&:nth-child(6)]:hidden xl:[&:nth-child(6)]:block","[&:nth-child(5)]:hidden xl:[&:nth-child(5)]:block","[&:nth-child(4)]:hidden lg:[&:nth-child(4)]:block","[&:nth-child(3)]:hidden md:[&:nth-child(3)]:block")},t)}function R(e){let t,n,a,o=(0,r.c)(12),{genres:s}=e,[u,d]=(0,g.fp)(i.ZG),m=(0,g.Xr)(i.DZ),h=(0,M.d)(u,200);if(o[0]!==u||o[1]!==m?(t=()=>{m(u)},o[0]=u,o[1]=m,o[2]=t):t=o[2],o[3]!==h?(n=[h],o[3]=h,o[4]=n):n=o[4],p.useEffect(t,n),!s.length)return null;if(o[5]!==s||o[6]!==u||o[7]!==d){let e;o[9]!==u||o[10]!==d?(e=e=>{var t,n;return{name:e,isCurrent:null!=(n=null==(t=u.genre)?void 0:t.includes(e))&&n,onClick:()=>d(t=>{var n,l;(null==(n=t.genre)?void 0:n.includes(e))?t.genre=null==(l=t.genre)?void 0:l.filter(t=>t!==e):t.genre=[...t.genre||[],e]})}},o[9]=u,o[10]=d,o[11]=e):e=o[11],a=(0,l.jsx)(c.f,{className:"space-y-3 lg:space-y-6 relative z-[4]","data-library-genre-selector-container":!0,children:(0,l.jsx)(E.H,{items:[...s.map(e)]})}),o[5]=s,o[6]=u,o[7]=d,o[8]=a}else a=o[8];return a}},64629:(e,t,n)=>{n.d(t,{F:()=>f,v:()=>b});var l=n(95155),r=n(86531),a=n(99639),i=n(91360),o=n(90711),s=n(91332),c=n(14180),u=n(48095),d=n(42500),m=n(29724),g=n(35089),p=n(12115),h=n(37178);let b=(0,d.eU)({bannerImage:null,episodeImage:null});function f(e){let{list:t}=e,n=(0,s.Ky)(),d=(0,m.md)(b),[f,v]=(0,p.useState)(null),[y,x]=(0,p.useState)(null),[w,N]=(0,p.useState)(!1),j=(0,m.Xr)(r.f),S=(null==d?void 0:d.bannerImage)||(null==d?void 0:d.episodeImage)||"",I=n.mediaPageBannerType===s.px.HideWhenUnavailable&&!(null==d?void 0:d.bannerImage)||n.mediaPageBannerType===s.px.Hide,E=n.mediaPageBannerType===s.px.BlurWhenUnavailable&&!(null==d?void 0:d.bannerImage)||n.mediaPageBannerType===s.px.Blur;(0,p.useEffect)(()=>{d!=f&&(null===f?v(S):v(null))},[d]),p.useLayoutEffect(()=>{let e=setTimeout(()=>{d!=f&&(v(S),j(t.find(e=>{var t,n,l,r;return(null==(t=e.baseAnime)?void 0:t.bannerImage)===(null==d?void 0:d.episodeImage)||(null==(l=e.baseAnime)||null==(n=l.coverImage)?void 0:n.extraLarge)===(null==d?void 0:d.episodeImage)||(null==(r=e.episodeMetadata)?void 0:r.image)===(null==d?void 0:d.episodeImage)})||null))},600);return()=>{clearTimeout(e)}},[d]),(0,p.useEffect)(()=>{f&&(x(f),j(t.find(e=>{var t,n,l,r;return(null==(t=e.baseAnime)?void 0:t.bannerImage)===f||(null==(l=e.baseAnime)||null==(n=l.coverImage)?void 0:n.extraLarge)===f||(null==(r=e.episodeMetadata)?void 0:r.image)===f})||null))},[f]);let{y:A}=(0,h.A)();return((0,p.useEffect)(()=>{A>100?N(!0):N(!1)},[A>100]),d)?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{"data-library-header-container":!0,className:(0,i.cn)("LIB_HEADER_CONTAINER __header h-[25rem] z-[1] top-0 w-full absolute group/library-header pointer-events-none",!n.libraryScreenCustomBackgroundImage&&"fixed"),children:[(0,l.jsx)("div",{"data-library-header-banner-top-gradient":!0,className:(0,i.cn)("w-full z-[3] absolute bottom-[-10rem] h-[10rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent",!n.disableSidebarTransparency&&a.j)}),(0,l.jsxs)(u.P.div,{"data-library-header-inner-container":!0,initial:{opacity:0},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:1,delay:.2},className:(0,i.cn)("LIB_HEADER_INNER_CONTAINER h-full z-[0] w-full flex-none object-cover object-center absolute top-0 overflow-hidden",!n.disableSidebarTransparency&&a.j),children:[!n.disableSidebarTransparency&&(0,l.jsx)("div",{"data-library-header-banner-inner-container-top-gradient":!0,className:"hidden lg:block h-full absolute z-[2] w-[20%] opacity-70 left-0 top-0 bg-gradient bg-gradient-to-r from-[var(--background)] to-transparent"}),(0,l.jsx)("div",{"data-library-header-banner-inner-container-bottom-gradient":!0,className:"w-full z-[3] opacity-50 absolute top-0 h-[5rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent"}),(0,l.jsx)(c.e,{"data-library-header-banner-image-container":!0,show:!!f,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(f||y)&&(0,l.jsx)(g.default,{"data-library-header-banner-image":!0,src:(0,o.VG)(f||y),alt:"banner image",fill:!0,quality:100,priority:!0,sizes:"100vw",className:(0,i.cn)("object-cover object-center z-[1] opacity-100 transition-opacity duration-700 scroll-locked-offset",(I||E)&&"opacity-15",{"opacity-5":w})})}),y&&(0,l.jsx)(g.default,{"data-library-header-banner-previous-image":!0,src:(0,o.VG)(f||y),alt:"banner image",fill:!0,quality:100,priority:!0,sizes:"100vw",className:(0,i.cn)("object-cover object-center z-[1] opacity-50 transition-opacity scroll-locked-offset",(I||E)&&"opacity-15",{"opacity-5":w})}),(0,l.jsx)("div",{"data-library-header-banner-bottom-gradient":!0,className:"LIB_HEADER_IMG_BOTTOM_FADE w-full z-[2] absolute bottom-0 h-[20rem] lg:h-[15rem] bg-gradient-to-t from-[--background] lg:via-opacity-50 lg:via-10% to-transparent"})]})]})}):null}},66873:(e,t,n)=>{function l(e){let[t,...n]=e.split(/\s+/);return{isCommand:e.startsWith("/"),command:t.slice(1),args:n}}function r(e,t){return!!e&&(!!e.english&&a(e.english).includes(a(t))||!!e.romaji&&a(e.romaji).includes(a(t)))}function a(e){return e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase()}n.d(t,{P:()=>l,q:()=>r})},80743:(e,t,n)=>{n.d(t,{CY:()=>o,H3:()=>i,me:()=>a});var l=n(86694),r=n.n(l);function a(e){return"CURRENT"===e?"Currently watching":r()(null!=e?e:"")}function i(e){return"CURRENT"===e?"Currently reading":r()(null!=e?e:"")}function o(e){return new Date(e).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})}},86531:(e,t,n)=>{n.d(t,{P:()=>E,f:()=>I});var l=n(95155),r=n(19749),a=n(83394),i=n(64629),o=n(78216),s=n(13029),c=n(83563),u=n(37817),d=n(59271),m=n(45754),g=n(42692),p=n(80677),h=n(14370),b=n(99288),f=n(91332),v=n(50943),y=n(42500),x=n(29724),w=n(35089),N=n(6066),j=n(12115),S=n(66873);let I=(0,y.eU)(null);function E(e){var t,n;let{episodes:r,isLoading:s,linkTemplate:u}=e,y=(0,N.useRouter)(),E=(0,f.Ky)(),{data:L}=(0,a.H_)(),M=(0,x.Xr)(i.v),[C,T]=(0,x.fp)(I),[_,k]=j.useState([]),[D,R]=j.useState([]);(0,h.d)(D,500);let B=j.useRef(null),{width:X}=(0,v.lW)(),W=j.useRef(0);j.useEffect(()=>{W.current=0},[X]),j.useEffect(()=>{k(r.map(()=>j.createRef()))},[r]),j.useEffect(()=>{0===W.current&&(W.current=D.length)},[D,W.current]),j.useEffect(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{let t=_.findIndex(t=>t.current===e.target);e.isIntersecting?R(e=>[...e,t]):R(e=>e.filter(e=>e!==t))})});return _.forEach(t=>{t.current&&e.observe(t.current)}),()=>{_.length>0&&_.forEach(t=>{t.current&&e.unobserve(t.current)})}},[_]);let z=j.useRef(null);j.useEffect(()=>(B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{if(D.length>0){var e,t,n,l,a,i,o;if(D.length!==W.current)return;let s=null,c=Array.from({length:D.length},(e,t)=>t),u=c[Math.floor(Math.random()*c.length)];(null==(s=r[D[u]])||null==(e=s.baseAnime)?void 0:e.id)===(null==(n=z.current)||null==(t=n.baseAnime)?void 0:t.id)&&(s=r[D[u=(c=c.filter(e=>e!==u))[Math.floor(Math.random()*c.length)]]]),s&&(M({bannerImage:(null==(l=s.baseAnime)?void 0:l.bannerImage)||null,episodeImage:(null==(a=s.baseAnime)?void 0:a.bannerImage)||(null==(o=s.baseAnime)||null==(i=o.coverImage)?void 0:i.extraLarge)||null}),z.current=s)}},500),()=>{B.current&&clearTimeout(B.current)}),[D,r]);let{setPlayNext:O}=(0,o.p$)(),{inject:F,remove:Y}=(0,c.H)();if(j.useEffect(()=>(F("continue-watching",{items:r.map(e=>{var t;return{data:e,id:"".concat((null==(t=e.localFile)?void 0:t.path)||"","-").concat(e.episodeNumber||1),value:"".concat(e.episodeNumber||1),heading:"Continue Watching",priority:100,render:()=>{var t,n,r;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-12 aspect-[6/5] flex-none rounded-[--radius-md] relative overflow-hidden",children:(0,l.jsx)(w.default,{src:(null==(t=e.episodeMetadata)?void 0:t.image)||"",alt:"episode image",fill:!0,className:"object-center object-cover"})}),(0,l.jsxs)("div",{className:"flex gap-1 items-center w-full",children:[(0,l.jsx)("p",{className:"max-w-[70%] truncate",children:(null==(r=e.baseAnime)||null==(n=r.title)?void 0:n.userPreferred)||""}),"\xa0-\xa0",(0,b.Sv)(e.baseAnime)?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("p",{className:"text-[--muted]",children:"Movie"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-[--muted]",children:"Ep"}),(0,l.jsx)("span",{children:e.episodeNumber})]})]})]})},onSelect:()=>{var t;return O(null==(t=e.baseAnime)?void 0:t.id,()=>{var t;y.push("/entry?id=".concat(null==(t=e.baseAnime)?void 0:t.id))})}}}),filter:e=>{var t;let{item:n,input:l}=e;return!l||n.value.toLowerCase().includes(l.toLowerCase())||(0,S.q)(null==(t=n.data.baseAnime)?void 0:t.title,l)},priority:100}),()=>Y("continue-watching")),[r]),r.length>0)return(0,l.jsxs)(m.f,{className:"space-y-3 lg:space-y-6 p-4 relative z-[4]","data-continue-watching-container":!0,children:[(0,l.jsx)("h2",{"data-continue-watching-title":!0,children:"Continue watching"}),E.libraryScreenBannerType===f.H4.Dynamic&&(null==C?void 0:C.baseAnime)&&(0,l.jsx)(g.W,{"data-continue-watching-media-title":!0,words:(null==C||null==(n=C.baseAnime)||null==(t=n.title)?void 0:t.userPreferred)||"",className:"w-full text-xl lg:text-5xl lg:max-w-[50%] h-[3.2rem] !mt-1 line-clamp-1 truncate text-ellipsis hidden lg:block pb-1"}),(0,l.jsxs)(p.FN,{className:"w-full max-w-full",gap:"md",opts:{align:"start"},autoScroll:!0,autoScrollDelay:8e3,children:[(0,l.jsx)(p.h1,{}),(0,l.jsx)(p.Wk,{children:r.map((e,t)=>{var n,r;return(0,l.jsx)(p.A7,{className:(0,d.pF)(E.smallerEpisodeCarouselSize),children:(0,l.jsx)(A,{episode:e,mRef:_[t],overrideLink:u,watchHistory:L},(null==(n=e.localFile)?void 0:n.path)||"")},(null==e||null==(r=e.localFile)?void 0:r.path)||t)})})]})]})}let A=j.memo(e=>{var t,n,c,d,m,g,p,h,b,f,v,y,w,S,E,A,L,M,C,T,_,k;let D,R,B,X,W,z,O,F,Y=(0,r.c)(41),{episode:P,mRef:H,overrideLink:U,watchHistory:G}=e,Z=(0,u.v1)(),q=(0,N.useRouter)(),K=(0,x.Xr)(i.v),V=(0,x.Xr)(I);Y[0]!==P||Y[1]!==V||Y[2]!==K?(D=()=>{K(e=>{if((null==e?void 0:e.episodeImage)===null){var t,n,l,r;return{bannerImage:(null==(t=P.baseAnime)?void 0:t.bannerImage)||null,episodeImage:(null==(n=P.baseAnime)?void 0:n.bannerImage)||(null==(r=P.baseAnime)||null==(l=r.coverImage)?void 0:l.extraLarge)||null}}return e}),V(e=>null===e?P:e)},Y[0]=P,Y[1]=V,Y[2]=K,Y[3]=D):D=Y[3],Y[4]===Symbol.for("react.memo_cache_sentinel")?(R=[],Y[4]=R):R=Y[4],j.useEffect(D,R);let{setPlayNext:$}=(0,o.p$)(),J=(null==(t=P.localFile)?void 0:t.path)||"",Q=(null==(n=P.episodeMetadata)?void 0:n.image)||(null==(c=P.baseAnime)?void 0:c.bannerImage)||(null==(m=P.baseAnime)||null==(d=m.coverImage)?void 0:d.extraLarge),ee=P.episodeTitle||(null==P||null==(p=P.baseAnime)||null==(g=p.title)?void 0:g.userPreferred),et=P.displayTitle,en=P.isInvalid,el=null==(h=P.baseAnime)?void 0:h.episodes,er=P.progressNumber,ea=P.episodeNumber,ei=null==(b=P.episodeMetadata)?void 0:b.length,eo=P.episodeNumber!==P.progressNumber,es=(null==(f=P.baseAnime)?void 0:f.id)||0;Y[5]!==P.episodeNumber||Y[6]!==es||Y[7]!==G?(B=(0,a.hH)(G,es,P.episodeNumber),Y[5]=P.episodeNumber,Y[6]=es,Y[7]=G,Y[8]=B):B=Y[8];let ec=(null==(v=P.baseAnime)?void 0:v.id)||0;Y[9]!==P.episodeNumber||Y[10]!==ec||Y[11]!==G?(X=(0,a.pj)(G,ec,P.episodeNumber),Y[9]=P.episodeNumber,Y[10]=ec,Y[11]=G,Y[12]=X):X=Y[12];let eu=(null==P||null==(y=P.baseAnime)?void 0:y.id)||0,ed=null==P||null==(S=P.baseAnime)||null==(w=S.coverImage)?void 0:w.medium,em=null==P||null==(A=P.baseAnime)||null==(E=A.title)?void 0:E.userPreferred;return Y[13]!==eu||Y[14]!==ed||Y[15]!==em?(W={id:eu,image:ed,title:em},Y[13]=eu,Y[14]=ed,Y[15]=em,Y[16]=W):W=Y[16],Y[17]!==(null==(L=P.baseAnime)?void 0:L.bannerImage)||Y[18]!==(null==(C=P.baseAnime)||null==(M=C.coverImage)?void 0:M.extraLarge)||Y[19]!==K?(z=()=>{j.startTransition(()=>{var e,t,n,l;K({bannerImage:(null==(e=P.baseAnime)?void 0:e.bannerImage)||null,episodeImage:(null==(t=P.baseAnime)?void 0:t.bannerImage)||(null==(l=P.baseAnime)||null==(n=l.coverImage)?void 0:n.extraLarge)||null})})},Y[17]=null==(T=P.baseAnime)?void 0:T.bannerImage,Y[18]=null==(k=P.baseAnime)||null==(_=k.coverImage)?void 0:_.extraLarge,Y[19]=K,Y[20]=z):z=Y[20],Y[21]!==P.baseAnime||Y[22]!==U||Y[23]!==q||Y[24]!==(null==Z?void 0:Z.isOffline)||Y[25]!==$?(O=()=>{var e,t;U?$(null==(t=P.baseAnime)?void 0:t.id,()=>{var e;q.push(U.replace("{id}",(null==(e=P.baseAnime)?void 0:e.id)?String(P.baseAnime.id):""))}):$(null==(e=P.baseAnime)?void 0:e.id,()=>{var e,t;(null==Z?void 0:Z.isOffline)?q.push("/offline/entry/anime?id=".concat(null==(t=P.baseAnime)?void 0:t.id)):q.push("/entry?id=".concat(null==(e=P.baseAnime)?void 0:e.id))})},Y[21]=P.baseAnime,Y[22]=U,Y[23]=q,Y[24]=null==Z?void 0:Z.isOffline,Y[25]=$,Y[26]=O):O=Y[26],Y[27]!==P||Y[28]!==H||Y[29]!==ei||Y[30]!==eo||Y[31]!==B||Y[32]!==X||Y[33]!==W||Y[34]!==z||Y[35]!==O||Y[36]!==J||Y[37]!==Q||Y[38]!==ee||Y[39]!==el?(F=(0,l.jsx)(s.U,{episode:P,image:Q,topTitle:ee,title:et,isInvalid:en,progressTotal:el,progressNumber:er,episodeNumber:ea,length:ei,hasDiscrepancy:eo,percentageComplete:B,minutesRemaining:X,anime:W,onMouseEnter:z,mRef:H,onClick:O},J),Y[27]=P,Y[28]=H,Y[29]=ei,Y[30]=eo,Y[31]=B,Y[32]=X,Y[33]=W,Y[34]=z,Y[35]=O,Y[36]=J,Y[37]=Q,Y[38]=ee,Y[39]=el,Y[40]=F):F=Y[40],F})},90984:(e,t,n)=>{n.d(t,{DZ:()=>g,VI:()=>h,ZG:()=>p});var l=n(68205),r=n(83394),a=n(75006),i=n(37817),o=n(85210),s=n(91332),c=n(47555),u=n(29724),d=n(12115);let m={...o.Bq,sorting:"TITLE",continueWatchingOnly:!1},g=(0,c.E)(m),p=(0,c.E)(m);function h(){var e,t,n,c,m,p,h,b,f,v,y,x;let w=(0,i.v1)(),N=(0,u.Xr)(a.Z),{animeLibraryCollectionDefaultSorting:j,continueWatchingDefaultSorting:S}=(0,s.Ky)(),{data:I}=(0,r.H_)(),{data:E,isLoading:A}=(0,l.l)();d.useEffect(()=>{E&&N(E)},[E]);let L=(0,u.md)(g),M=d.useMemo(()=>{if(!E||!E.lists)return[];if(E.stream){let l=E.lists.find(e=>"CURRENT"===e.type);if(l){var e,t,n;let r=[...null!=(e=l.entries)?e:[]];for(let e of null!=(t=E.stream.anime)?t:[])r.some(t=>t.mediaId===e.id)||r.push({media:e,mediaId:e.id,listData:null==(n=E.stream.listData)?void 0:n[e.id],libraryData:void 0});E.lists.find(e=>"CURRENT"===e.type).entries=r}}let l=E.lists.map(e=>{var t,n,l,r,a,i,s;if(!e)return e;let c={...o.Bq,continueWatchingOnly:L.continueWatchingOnly,sorting:j},u=[...null!=(l=E.continueWatchingList)?l:[]];if(E.stream)for(let e of null!=(a=null==(r=E.stream)?void 0:r.continueWatchingList)?a:[])u=[...u,e];let d=(0,o.TI)(e.entries,c,null==w||null==(n=w.settings)||null==(t=n.anilist)?void 0:t.enableAdultContent,u,I);return 0===d.length&&c.continueWatchingOnly&&(c={...c,continueWatchingOnly:!1},d=(0,o.TI)(e.entries,c,null==w||null==(s=w.settings)||null==(i=s.anilist)?void 0:i.enableAdultContent,u,I)),{type:e.type,status:e.status,entries:d}});return[l.find(e=>"CURRENT"===e.type),l.find(e=>"PAUSED"===e.type),l.find(e=>"PLANNING"===e.type),l.find(e=>"COMPLETED"===e.type),l.find(e=>"DROPPED"===e.type)].filter(Boolean)},[E,L,j,null==w||null==(t=w.settings)||null==(e=t.anilist)?void 0:e.enableAdultContent]),C=d.useMemo(()=>{if(!E||!E.lists)return[];let e=E.lists.map(e=>{var t,n;if(!e)return e;let l={...L,sorting:j},r=(0,o.TI)(e.entries,l,null==w||null==(n=w.settings)||null==(t=n.anilist)?void 0:t.enableAdultContent,E.continueWatchingList,I);return{type:e.type,status:e.status,entries:r}});return[e.find(e=>"CURRENT"===e.type),e.find(e=>"PAUSED"===e.type),e.find(e=>"PLANNING"===e.type),e.find(e=>"COMPLETED"===e.type),e.find(e=>"DROPPED"===e.type)].filter(Boolean)},[E,L,null==w||null==(c=w.settings)||null==(n=c.anilist)?void 0:n.enableAdultContent,I]),T=d.useMemo(()=>{var e,t,n,l,r;if(!(null==E?void 0:E.continueWatchingList))return[];let a=[...E.continueWatchingList];if(E.stream)for(let e of null!=(r=E.stream.continueWatchingList)?r:[])a=[...a,e];let i=M.flatMap(e=>e.entries);return(a=(0,o.Hy)(a,S,i,I),!(null==w||null==(t=w.settings)||null==(e=t.anilist)?void 0:e.enableAdultContent)||(null==w||null==(l=w.settings)||null==(n=l.anilist)?void 0:n.blurAdultContent))?a.filter(e=>{var t;return(null==(t=e.baseAnime)?void 0:t.isAdult)===!1}):a},[null==E?void 0:E.stream,M,null==E?void 0:E.continueWatchingList,S,null==w||null==(p=w.settings)||null==(m=p.anilist)?void 0:m.enableAdultContent,null==w||null==(b=w.settings)||null==(h=b.anilist)?void 0:h.blurAdultContent,I]);return{libraryGenres:d.useMemo(()=>{var e;return null==(e=[...new Set(null==C?void 0:C.flatMap(e=>{var t,n;return null!=(n=null==(t=e.entries)?void 0:t.flatMap(e=>{var t;return null==(t=e.media)?void 0:t.genres}))?n:[]}))].filter(Boolean))?void 0:e.sort((e,t)=>e.localeCompare(t))},[C]),isLoading:A,libraryCollectionList:M,filteredLibraryCollectionList:C,continueWatchingList:T,unmatchedLocalFiles:null!=(f=null==E?void 0:E.unmatchedLocalFiles)?f:[],ignoredLocalFiles:null!=(v=null==E?void 0:E.ignoredLocalFiles)?v:[],unmatchedGroups:null!=(y=null==E?void 0:E.unmatchedGroups)?y:[],unknownGroups:null!=(x=null==E?void 0:E.unknownGroups)?x:[]}}}}]);