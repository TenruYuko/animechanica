(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2247],{2969:(e,r,l)=>{"use strict";l.d(r,{V:()=>d});var t=l(95155),n=l(19749),a=l(21335),i=l(12115),s=l(70274),o=l(91360);let c=(0,o.u)({root:(0,a.F)(["UI-HorizontalDraggableScroll__root","relative flex items-center lg:gap-2"]),container:(0,a.F)(["UI-HorizontalDraggableScroll__container","flex max-w-full w-full space-x-3 overflow-x-scroll scrollbar-hide scroll select-none"]),chevronOverlay:(0,a.F)(["flex flex-none items-center justify-center cursor-pointer hover:text-[--foreground] absolute bg-gradient-to-r from-[--background] z-40","h-full w-16 opacity-90 hover:opacity-100 transition-opacity","data-[state=hidden]:opacity-0 data-[state=hidden]:pointer-events-none","data-[state=visible]:animate-in data-[state=hidden]:animate-out","data-[state=visible]:fade-in-0 data-[state=hidden]:fade-out-0","data-[state=visible]:duration-600 data-[state=hidden]:duration-600","hidden md:flex"],{variants:{side:{left:"left-0 bg-gradient-to-r rounded-l-xl",right:"right-0 bg-gradient-to-l rounded-r-xl"}}}),scrollContainer:(0,a.F)(["flex max-w-full w-full space-x-3 overflow-x-scroll scrollbar-hide scroll select-none"]),chevronIcon:(0,a.F)(["w-7 h-7 stroke-2 mx-auto"])}),d=i.forwardRef((e,r)=>{let l,a,d,u,m,h,g,v,f,p,x,y,j,w,b,N,S,M,_,T,k,D,E=(0,n.c)(57),{children:C,onSlideEnd:P,className:A,containerClass:Y,chevronIconClass:L,chevronOverlayClass:X,decayRate:I,safeDisplacement:F,applyRubberBandEffect:R,scrollAmount:H}=e,z=void 0===I?.95:I,O=void 0===F?20:F,W=void 0===R||R,B=void 0===H?500:H,V=i.useRef(null);E[0]!==W||E[1]!==z||E[2]!==O?(l={decayRate:z,safeDisplacement:O,applyRubberBandEffect:W},E[0]=W,E[1]=z,E[2]=O,E[3]=l):l=E[3];let{events:G}=function(e){let r,l,t,n,a,o,c,{decayRate:d=.95,safeDisplacement:u=10,applyRubberBandEffect:m=!0,activeMouseButton:h="Left",isMounted:g=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=i.useRef({isMouseDown:!1,isDraggingX:!1,isDraggingY:!1,initialMouseX:0,initialMouseY:0,lastMouseX:0,lastMouseY:0,scrollSpeedX:0,scrollSpeedY:0,lastScrollX:0,lastScrollY:0}),f=!1,p=!1,x=0,y=0,j=1/60*1e3;(0,s.Es)(()=>{g&&(f="scroll"===window.getComputedStyle(e.current).overflowX,p="scroll"===window.getComputedStyle(e.current).overflowY,x=e.current.scrollWidth-e.current.clientWidth,y=e.current.scrollHeight-e.current.clientHeight,r=window.getComputedStyle(e.current).cursor,l=[],t=[],n=[],e.current.childNodes.forEach(e=>{l.push(window.getComputedStyle(e).cursor),t.push("none"===window.getComputedStyle(e).transform?"":window.getComputedStyle(e).transform),n.push("none"===window.getComputedStyle(e).transition?"":window.getComputedStyle(e).transition)}))},[g]);let w=()=>{let r=v.current.scrollSpeedX*j,l=v.current.scrollSpeedY*j,t=e.current.scrollLeft+r,n=e.current.scrollTop+l;e.current.scrollLeft=t,e.current.scrollTop=n,v.current.lastScrollX=t,v.current.lastScrollY=n},b=r=>{let l=r.clientX-v.current.initialMouseX,t=r.clientY-v.current.initialMouseY,{clientWidth:n,clientHeight:a}=e.current,i=0,s=0;f&&p?(i=.3*n*Math.sign(l)*Math.log10(1+.5*Math.abs(l)/n),s=.3*a*Math.sign(t)*Math.log10(1+.5*Math.abs(t)/a)):f?i=.3*n*Math.sign(l)*Math.log10(1+.5*Math.abs(l)/n):p&&(s=.3*a*Math.sign(t)*Math.log10(1+.5*Math.abs(t)/a)),e.current.childNodes.forEach(e=>{e.style.transform="translate3d(".concat(i,"px, ").concat(s,"px, 0px)"),e.style.transition="transform 0ms"})},N=()=>{e.current.childNodes.forEach((e,r)=>{e.style.transform=t[r],e.style.transition=n[r]})},S=()=>{o=setInterval(()=>{let r=v.current.scrollSpeedX*d;v.current.scrollSpeedX=r;let l=e.current.scrollLeft<=0,t=e.current.scrollLeft>=x;w(),(.05>Math.abs(r)||v.current.isMouseDown||l||t)&&(v.current.scrollSpeedX=0,clearInterval(o))},j),c=setInterval(()=>{let r=v.current.scrollSpeedY*d;v.current.scrollSpeedY=r;let l=e.current.scrollTop<=0,t=e.current.scrollTop>=y;w(),(.05>Math.abs(r)||v.current.isMouseDown||l||t)&&(v.current.scrollSpeedY=0,clearInterval(c))},j),v.current.isDraggingX=!1,v.current.isDraggingY=!1,m&&(e.current.childNodes.forEach(e=>{e.style.transform="translate3d(0px, 0px, 0px)",e.style.transition="transform ".concat(250,"ms")}),a=setTimeout(N,250))},M=e=>{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()},_=e=>"Left"===h&&1===e||"Middle"===h&&4===e||"Right"===h&&2===e,T=t=>{let n=v.current.isDraggingX||v.current.isDraggingY,a=v.current.initialMouseX-t.clientX,i=v.current.initialMouseY-t.clientY,s=Math.abs(a)>u||Math.abs(i)>u,o=n&&s;o?e.current.childNodes.forEach(e=>{e.addEventListener("click",M)}):e.current.childNodes.forEach(e=>{e.removeEventListener("click",M)}),v.current.isMouseDown=!1,v.current.lastMouseX=0,v.current.lastMouseY=0,e.current.style.cursor=r,e.current.childNodes.forEach((e,r)=>{e.style.cursor=l[r]}),o&&S()},k=r=>{if(!v.current.isMouseDown)return;r.preventDefault();let l=v.current.lastMouseX-r.clientX;v.current.lastMouseX=r.clientX,v.current.scrollSpeedX=l/j,v.current.isDraggingX=!0;let t=v.current.lastMouseY-r.clientY;v.current.lastMouseY=r.clientY,v.current.scrollSpeedY=t/j,v.current.isDraggingY=!0,e.current.style.cursor="grabbing",e.current.childNodes.forEach(e=>{e.style.cursor="grabbing"});let n=e.current.scrollLeft<=0&&f,a=e.current.scrollLeft>=x&&f,i=e.current.scrollTop<=0&&p,s=e.current.scrollTop>=y&&p;(n||a||i||s)&&m&&b(r),w()},D=()=>{x=e.current.scrollWidth-e.current.clientWidth,y=e.current.scrollHeight-e.current.clientHeight};return i.useEffect(()=>(g&&(window.addEventListener("mouseup",T),window.addEventListener("mousemove",k),window.addEventListener("resize",D)),()=>{window.removeEventListener("mouseup",T),window.removeEventListener("mousemove",k),window.removeEventListener("resize",D),clearInterval(o),clearInterval(c),clearTimeout(a)}),[g]),{events:{onMouseDown:e=>{_(e.buttons)&&(v.current.isMouseDown=!0,v.current.lastMouseX=e.clientX,v.current.lastMouseY=e.clientY,v.current.initialMouseX=e.clientX,v.current.initialMouseY=e.clientY)}}}}(V,l),[U,J]=i.useState(!0),[K,q]=i.useState(!1),[Q,Z]=i.useState(!1);E[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{let e=V.current;if(e){let r=0===e.scrollLeft,l=e.scrollLeft+e.clientWidth===e.scrollWidth;J(r),q(l)}},E[4]=a):a=E[4];let $=a;E[5]!==U||E[6]!==K||E[7]!==P||E[8]!==B?(d=()=>{if(!U&&K){P&&P();let e=setTimeout(()=>{let e=V.current;e&&e.scrollTo({left:e.scrollLeft+B,behavior:"smooth"})},1e3);return()=>clearTimeout(e)}},E[5]=U,E[6]=K,E[7]=P,E[8]=B,E[9]=d):d=E[9],E[10]!==U||E[11]!==K?(u=[U,K],E[10]=U,E[11]=K,E[12]=u):u=E[12],(0,s.w5)(d,u),E[13]!==B?(m=()=>{let e=V.current;e&&e.scrollTo({left:e.scrollLeft-B,behavior:"smooth"})},E[13]=B,E[14]=m):m=E[14];let ee=m;E[15]!==B?(h=()=>{let e=V.current;e&&e.scrollTo({left:e.scrollLeft+B,behavior:"smooth"})},E[15]=B,E[16]=h):h=E[16];let er=h;E[17]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{V.current.clientWidth<V.current.scrollWidth?Z(!0):Z(!1)},v=[],E[17]=g,E[18]=v):(g=E[17],v=E[18]),(0,s.Es)(g,v),E[19]!==A?(f=(0,o.cn)(c.root(),A),E[19]=A,E[20]=f):f=E[20],E[21]!==X?(p=(0,o.cn)(c.chevronOverlay({side:"left"}),X),E[21]=X,E[22]=p):p=E[22];let el=U?"hidden":"visible";E[23]!==L?(x=(0,o.cn)(c.chevronIcon(),L),E[23]=L,E[24]=x):x=E[24],E[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)("path",{d:"m15 18-6-6 6-6"}),E[25]=y):y=E[25],E[26]!==x?(j=(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x,children:y}),E[26]=x,E[27]=j):j=E[27],E[28]!==ee||E[29]!==p||E[30]!==el||E[31]!==j?(w=(0,t.jsx)("div",{onClick:ee,className:p,"data-state":el,children:j}),E[28]=ee,E[29]=p,E[30]=el,E[31]=j,E[32]=w):w=E[32],E[33]!==Y?(b=(0,o.cn)(c.container(),Y),E[33]=Y,E[34]=b):b=E[34],E[35]!==C||E[36]!==G||E[37]!==b?(N=(0,t.jsx)("div",{onScroll:$,className:b,...G,ref:V,children:C}),E[35]=C,E[36]=G,E[37]=b,E[38]=N):N=E[38],E[39]!==X?(S=(0,o.cn)(c.chevronOverlay({side:"right"}),X),E[39]=X,E[40]=S):S=E[40];let et=!K&&Q?"visible":"hidden";return E[41]!==L?(M=(0,o.cn)(c.chevronIcon(),L),E[41]=L,E[42]=M):M=E[42],E[43]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)("path",{d:"m9 18 6-6-6-6"}),E[43]=_):_=E[43],E[44]!==M?(T=(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:M,children:_}),E[44]=M,E[45]=T):T=E[45],E[46]!==er||E[47]!==S||E[48]!==et||E[49]!==T?(k=(0,t.jsx)("div",{onClick:er,className:S,"data-state":et,children:T}),E[46]=er,E[47]=S,E[48]=et,E[49]=T,E[50]=k):k=E[50],E[51]!==r||E[52]!==f||E[53]!==w||E[54]!==N||E[55]!==k?(D=(0,t.jsxs)("div",{ref:r,className:f,children:[w,N,k]}),E[51]=r,E[52]=f,E[53]=w,E[54]=N,E[55]=k,E[56]=D):D=E[56],D})},52947:(e,r,l)=>{"use strict";l.d(r,{H:()=>o});var t=l(95155),n=l(19749),a=l(91360),i=l(2969),s=l(23391);function o(e){let r,l,o,c,d,u,m,h=(0,n.c)(15),{items:g,className:v,staticTabsClass:f,staticTabsTriggerClass:p}=e;return h[0]!==v?(r=(0,a.cn)("scroll-pb-1 flex",v),h[0]=v,h[1]=r):r=h[1],h[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{"data-media-genre-selector-scroll-container":!0,className:"flex flex-1"}),h[2]=l):l=h[2],h[3]!==f?(o=(0,a.cn)("px-2 overflow-visible gap-2 py-4 w-fit",f),h[3]=f,h[4]=o):o=h[4],h[5]!==p?(c=(0,a.cn)("text-base rounded-[--radius-md] ring-1 ring-transparent data-[current=true]:ring-brand-500 data-[current=true]:text-brand-300",p),h[5]=p,h[6]=c):c=h[6],h[7]!==g||h[8]!==o||h[9]!==c?(d=(0,t.jsx)(s.tH,{className:o,triggerClass:c,items:g}),h[7]=g,h[8]=o,h[9]=c,h[10]=d):d=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("div",{"data-media-genre-selector-scroll-container-end":!0,className:"flex flex-1"}),h[11]=u):u=h[11],h[12]!==r||h[13]!==d?(m=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.V,{"data-media-genre-selector":!0,className:r,children:[l,d,u]})}),h[12]=r,h[13]=d,h[14]=m):m=h[14],m}l(12115)},77546:(e,r,l)=>{"use strict";l.r(r),l.d(r,{default:()=>ea,dynamic:()=>en});var t=l(95155),n=l(19749),a=l(37817),i=l(30420),s=l(42094),o=l(5249),c=l(2091),d=l(98836),u=l(5883),m=l(74500),h=l(26360),g=l(5147),v=l(65468),f=l(30616),p=l(47601),x=l(47342),y=l(32754),j=l(6066),w=l(35089),b=l(12115);function N(){var e,r;let{data:l,isLoading:n}=(0,s.h7)({page:1,perPage:50,airingAt_lesser:Math.floor((0,v.f)(new Date,14).getTime()/1e3),airingAt_greater:Math.floor((0,u.e)(new Date,2).getTime()/1e3),notYetAired:!0,sort:["TIME"]}),{data:a,isLoading:i}=(0,s.h7)({page:2,perPage:50,airingAt_lesser:Math.floor((0,v.f)(new Date,14).getTime()/1e3),airingAt_greater:Math.floor((0,u.e)(new Date,2).getTime()/1e3),notYetAired:!0,sort:["TIME"]}),N=b.useMemo(()=>{var e,r,t,n;return[...(null==l||null==(r=l.Page)||null==(e=r.airingSchedules)?void 0:e.filter(e=>{var r,l,t,n;return(null==e||null==(r=e.media)?void 0:r.isAdult)===!1&&(null==e||null==(l=e.media)?void 0:l.type)==="ANIME"&&(null==e||null==(t=e.media)?void 0:t.countryOfOrigin)==="JP"&&(null==e||null==(n=e.media)?void 0:n.format)!=="TV_SHORT"}).filter(Boolean))||[],...(null==a||null==(n=a.Page)||null==(t=n.airingSchedules)?void 0:t.filter(e=>{var r,l,t,n;return(null==e||null==(r=e.media)?void 0:r.isAdult)===!1&&(null==e||null==(l=e.media)?void 0:l.type)==="ANIME"&&(null==e||null==(t=e.media)?void 0:t.countryOfOrigin)==="JP"&&(null==e||null==(n=e.media)?void 0:n.format)!=="TV_SHORT"}).filter(Boolean))||[]]},[n,i]),S=(0,j.useRouter)(),{setPreviewModalMediaId:M}=(0,y.D)(),[_,T]=b.useState(new Date),k=b.useMemo(()=>{let e=(0,u.e)(new Date,1),r=[],l=new Date(e.setHours(0,0,0,0)),t=(0,v.f)(l,14);for(;l<=t;){let e=N.filter(e=>!!(null==e?void 0:e.airingAt)&&(0,f.r)(new Date(1e3*e.airingAt),l)).map(e=>{var r,l,t,n,a;return(null==(r=e.media)?void 0:r.id)===162804&&console.log(e.airingAt),{id:e.id+(null==e?void 0:e.episode),name:null==(t=e.media)||null==(l=t.title)?void 0:l.userPreferred,time:(0,m.GP)(new Date((null==e?void 0:e.airingAt)*1e3),"h:mm a"),datetime:(0,m.GP)(new Date((null==e?void 0:e.airingAt)*1e3),"yyyy-MM-dd'T'HH:mm"),href:"/entry?id=".concat(e.id),media:e.media,episode:(null==e||null==(a=e.media)||null==(n=a.nextAiringEpisode)?void 0:n.episode)||1}});r.push({date:(0,m.GP)(l,"yyyy-MM-dd'T'HH:mm"),isCurrentMonth:(0,h.t)(l,_),isToday:(0,g.c)(l),isSelected:!1,events:e}),l=(0,v.f)(l,1)}return r},[N,_]);return n||i?(0,t.jsx)(c.kt,{}):(null==l||null==(r=l.Page)||null==(e=r.airingSchedules)?void 0:e.length)?(0,t.jsxs)("div",{className:"space-y-4 z-[5] relative","data-discover-airing-schedule-container":!0,children:[(0,t.jsx)("h2",{className:"text-center",children:"Airing schedule"}),(0,t.jsx)("div",{className:"space-y-6",children:k.map((e,r)=>{var l,n,a,i;return 0===e.events.length?null:(0,t.jsxs)(b.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:(0,m.GP)(new Date(e.date),"EEEE, PP")}),e.isToday&&(0,t.jsx)("span",{className:"text-[--muted]",children:"Today"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:null==(n=e.events)||null==(l=n.toSorted((e,r)=>e.datetime.localeCompare(r.datetime)))?void 0:l.map((e,r)=>{var l,n,a,i,s,c,d,u;return(0,t.jsx)(b.Fragment,{children:(0,t.jsx)(p.i,{content:(0,t.jsxs)(x.Q2,{children:[(0,t.jsx)(x.F7,{className:"text-[--muted] line-clamp-2 py-0 my-2",children:null==(n=e.media)||null==(l=n.title)?void 0:l.userPreferred}),(0,t.jsx)(x.kt,{onClick:()=>{var r;S.push("/entry?id=".concat(null==(r=e.media)?void 0:r.id))},children:"Open page"}),(0,t.jsx)(x.kt,{onClick:()=>{var r;M((null==(r=e.media)?void 0:r.id)||0,"anime")},children:"Preview"})]}),children:(0,t.jsx)(x.Rc,{children:(0,t.jsxs)("div",{className:"flex gap-3 bg-[--background] rounded-[--radius-md] p-2",children:[(0,t.jsx)("div",{className:"w-[5rem] h-[5rem] rounded-[--radius] flex-none object-cover object-center overflow-hidden relative",children:(0,t.jsx)(w.default,{src:(null==(i=e.media)||null==(a=i.coverImage)?void 0:a.large)||(null==(s=e.media)?void 0:s.bannerImage)||"/no-cover.png",alt:"banner",fill:!0,quality:80,priority:!0,sizes:"20rem",className:"object-cover object-center"})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.i,{href:"/entry?id=".concat(null==(c=e.media)?void 0:c.id),className:"font-medium tracking-wide line-clamp-1",children:null==(u=e.media)||null==(d=u.title)?void 0:d.userPreferred}),(0,t.jsxs)("p",{className:"text-[--muted]",children:["Ep ",e.episode," airing at ",e.time]})]})]},String("".concat(e.id).concat(r)))})})},e.id)})})]}),!!(null==(i=k[r+1])||null==(a=i.events)?void 0:a.length)&&(0,t.jsx)(d.w,{})]},e.date)})})]}):null}var S=l(61585),M=l(71559),_=l(80677),T=l(81274);function k(){let e,r,l,a,i,o,c=(0,n.c)(10),d=b.useRef(null);c[0]===Symbol.for("react.memo_cache_sentinel")?(e={once:!0},c[0]=e):e=c[0];let u=(0,T.W)(d,e),{data:m,isLoading:h}=(0,s.ZK)(u);if(!u&&!m){let e;return c[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{ref:d}),c[1]=e):e=c[1],e}return(null==m?void 0:m.length)?(c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("h2",{children:"You might have missed"}),c[2]=r):r=c[2],c[3]===Symbol.for("react.memo_cache_sentinel")?(l={align:"start",dragFree:!0},c[3]=l):l=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(_.h1,{}),c[4]=a):a=c[4],c[5]!==m||c[6]!==h?(i=h?[...Array(10).keys()].map(D):null==m?void 0:m.filter(Boolean).map(E),c[5]=m,c[6]=h,c[7]=i):i=c[7],c[8]!==i?(o=(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-missed-sequels-container":!0,children:[r,(0,t.jsxs)(_.FN,{className:"w-full max-w-full",gap:"xl",opts:l,autoScroll:!0,children:[a,(0,t.jsx)(_.Wk,{className:"px-6",ref:d,children:i})]})]}),c[8]=i,c[9]=o):o=c[9],o):null}function D(e,r){return(0,t.jsx)(M.m,{},r)}function E(e){return(0,t.jsx)(S.V,{media:e,showLibraryBadge:!0,containerClassName:"basis-[200px] md:basis-[250px] mx-2 my-8",showTrailer:!0,type:"anime"},e.id)}var C=l(85);function P(){let e,r,l,a,i=(0,n.c)(6),s=b.useRef(null),{data:o}=(0,C.Em)(s);if(i[0]===Symbol.for("react.memo_cache_sentinel")?(e={align:"start",dragFree:!0},i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(_.h1,{}),i[1]=r):r=i[1],i[2]!==o){var c,d,u;l=o?null==o||null==(u=o.Page)||null==(d=u.media)||null==(c=d.filter(Boolean))?void 0:c.sort(L).map(Y):[...Array(10).keys()].map(A),i[2]=o,i[3]=l}else l=i[3];return i[4]!==l?(a=(0,t.jsxs)(_.FN,{className:"w-full max-w-full",gap:"xl",opts:e,autoScroll:!0,children:[r,(0,t.jsx)(_.Wk,{className:"px-6",ref:s,children:l})]}),i[4]=l,i[5]=a):a=i[5],a}function A(e,r){return(0,t.jsx)(M.m,{},r)}function Y(e){return(0,t.jsx)(S.V,{media:e,showLibraryBadge:!0,containerClassName:"basis-[200px] md:basis-[250px] mx-2 my-8",showTrailer:!0,type:"anime"},e.id)}function L(e,r){return r.meanScore-e.meanScore}var X=l(90124),I=l(13);function F(){let e,r,l,a,i=(0,n.c)(6),s=b.useRef(null),{data:o}=(0,C.pD)(s);if(i[0]===Symbol.for("react.memo_cache_sentinel")?(e={align:"start",dragFree:!0},i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(_.h1,{}),i[1]=r):r=i[1],i[2]!==o){var c,d;l=o?null==o||null==(d=o.Page)||null==(c=d.media)?void 0:c.filter(Boolean).map(H):[...Array(10).keys()].map(R),i[2]=o,i[3]=l}else l=i[3];return i[4]!==l?(a=(0,t.jsxs)(_.FN,{className:"w-full max-w-full",gap:"xl",opts:e,autoScroll:!0,children:[r,(0,t.jsx)(_.Wk,{className:"px-6",ref:s,children:l})]}),i[4]=l,i[5]=a):a=i[5],a}function R(e,r){return(0,t.jsx)(M.m,{},r)}function H(e){return(0,t.jsx)(S.V,{media:e,showLibraryBadge:!0,containerClassName:"basis-[200px] md:basis-[250px] mx-2 my-8",showTrailer:!0,type:"anime"},e.id)}function z(){var e,r,l,a;let i,s,o,c,d=(0,n.c)(7),u=b.useRef(null),{data:m,isLoading:h}=(0,C.H4)(u);return d[0]===Symbol.for("react.memo_cache_sentinel")?(i={align:"start",dragFree:!0},d[0]=i):i=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(_.h1,{}),d[1]=s):s=d[1],d[2]!==(null==m||null==(e=m.Page)?void 0:e.media)||d[3]!==h?(o=h?[...Array(10).keys()].map(O):null==m||null==(l=m.Page)||null==(r=l.media)?void 0:r.filter(Boolean).map(W),d[2]=null==m||null==(a=m.Page)?void 0:a.media,d[3]=h,d[4]=o):o=d[4],d[5]!==o?(c=(0,t.jsxs)(_.FN,{className:"w-full max-w-full",gap:"xl",opts:i,autoScroll:!0,children:[s,(0,t.jsx)(_.Wk,{className:"px-6",ref:u,children:o})]}),d[5]=o,d[6]=c):c=d[6],c}function O(e,r){return(0,t.jsx)(M.m,{},r)}function W(e){return(0,t.jsx)(S.V,{media:e,showLibraryBadge:!0,containerClassName:"basis-[200px] md:basis-[250px] mx-2 my-8",showTrailer:!0,type:"anime"},e.id)}var B=l(67329),V=l(13029),G=l(36808),U=l(44608),J=l(80919);function K(){var e,r;let l,a,i,o,c,d,m,h,g=(0,n.c)(19),v=(0,j.useRouter)();g[0]===Symbol.for("react.memo_cache_sentinel")?(l={page:1,perPage:50,airingAt_lesser:Math.floor(new Date().getTime()/1e3),airingAt_greater:Math.floor((0,u.e)(new Date,14).getTime()/1e3)},g[0]=l):l=g[0];let{data:f}=(0,s.h7)(l),w=null==f||null==(r=f.Page)||null==(e=r.airingSchedules)?void 0:e.filter(q).filter(Boolean),{setPreviewModalMediaId:b}=(0,y.D)();if(!(null==w?void 0:w.length))return null;let N=G.KZ;g[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("h2",{children:"Recent episodes"}),g[1]=a):a=g[1];let S=_.FN;g[2]===Symbol.for("react.memo_cache_sentinel")?(i={align:"start"},g[2]=i):i=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(_.h1,{}),g[3]=o):o=g[3];let M=_.Wk;g[4]!==v||g[5]!==b?(c=e=>{var r,l,n,a,i,s,o,c,d,u,m,h,g;return(0,t.jsx)(_.A7,{className:"md:basis-1/2 lg:basis-1/3 2xl:basis-1/4 min-[2000px]:basis-1/5",children:(0,t.jsx)(p.i,{content:(0,t.jsxs)(x.Q2,{children:[(0,t.jsx)(x.F7,{className:"text-[--muted] line-clamp-2 py-0 my-2",children:null==(l=e.media)||null==(r=l.title)?void 0:r.userPreferred}),(0,t.jsx)(x.kt,{onClick:()=>{var r;b((null==(r=e.media)?void 0:r.id)||0,"anime")},children:"Preview"})]}),children:(0,t.jsx)(x.Rc,{children:(0,t.jsx)(V.U,{title:"Episode ".concat(e.episode),image:(null==(n=e.media)?void 0:n.bannerImage)||(null==(i=e.media)||null==(a=i.coverImage)?void 0:a.large),topTitle:null==(o=e.media)||null==(s=o.title)?void 0:s.userPreferred,progressTotal:null==(c=e.media)?void 0:c.episodes,meta:e.airingAt?(0,U.m)((0,J.p)(new Date,e.timeUntilAiring),{addSuffix:!0}):void 0,onClick:()=>{var r;return v.push("/entry?id=".concat(null==(r=e.media)?void 0:r.id))},actionIcon:null,anime:{id:null==(d=e.media)?void 0:d.id,image:null==(m=e.media)||null==(u=m.coverImage)?void 0:u.medium,title:null==(g=e.media)||null==(h=g.title)?void 0:h.userPreferred}},e.id)})})},e.id)},g[4]=v,g[5]=b,g[6]=c):c=g[6];let T=w.map(c);return g[7]!==M||g[8]!==T?(d=(0,t.jsx)(M,{children:T}),g[7]=M,g[8]=T,g[9]=d):d=g[9],g[10]!==S||g[11]!==d||g[12]!==i||g[13]!==o?(m=(0,t.jsxs)(S,{className:"w-full max-w-full",gap:"md",opts:i,autoScroll:!0,children:[o,d]}),g[10]=S,g[11]=d,g[12]=i,g[13]=o,g[14]=m):m=g[14],g[15]!==N||g[16]!==m||g[17]!==a?(h=(0,t.jsxs)(N,{className:"pb-6",children:[a,m]}),g[15]=N,g[16]=m,g[17]=a,g[18]=h):h=g[18],h}function q(e){var r,l,t,n;return(null==e||null==(r=e.media)?void 0:r.isAdult)===!1&&(null==e||null==(l=e.media)?void 0:l.type)==="ANIME"&&(null==e||null==(t=e.media)?void 0:t.countryOfOrigin)==="JP"&&(null==e||null==(n=e.media)?void 0:n.format)!=="TV_SHORT"}var Q=l(45754),Z=l(84127),$=l(23391),ee=l(43826),er=l(48095),el=l(29724),et=l(3692);let en="force-static";function ea(){var e,r,l,s,o,c;let d,u,m,h,g,v,f,p,x,y,w,S,M,_,T,D,E,C,A,Y,L,R=(0,n.c)(48),H=(0,a.v1)(),O=(0,j.useRouter)(),[W,V]=(0,el.fp)(B.G),G=(0,j.useSearchParams)();R[0]!==G?(d=G.get("type"),R[0]=G,R[1]=d):d=R[1];let U=d;R[2]!==U||R[3]!==V?(u=()=>{U&&V(U)},R[2]=U,R[3]=V,R[4]=u):u=R[4],R[5]!==G?(m=[G],R[5]=G,R[6]=m):m=R[6],b.useEffect(u,m),R[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(i.I,{}),R[7]=h):h=R[7],R[8]===Symbol.for("react.memo_cache_sentinel")?(g={opacity:0},v={opacity:1},f={duration:.5,delay:.6},R[8]=g,R[9]=v,R[10]=f):(g=R[8],v=R[9],f=R[10]);let J="anime"===W;R[11]!==V?(p=()=>V("anime"),R[11]=V,R[12]=p):p=R[12],R[13]!==J||R[14]!==p?(x={name:"Anime",isCurrent:J,onClick:p},R[13]=J,R[14]=p,R[15]=x):x=R[15];let q="schedule"===W;return R[16]!==V?(y=()=>V("schedule"),R[16]=V,R[17]=y):y=R[17],R[18]!==q||R[19]!==y?(w={name:"Schedule",isCurrent:q,onClick:y},R[18]=q,R[19]=y,R[20]=w):w=R[20],R[21]!==W||R[22]!==(null==H||null==(r=H.settings)||null==(e=r.library)?void 0:e.enableManga)||R[23]!==V?(S=(null==H||null==(s=H.settings)||null==(l=s.library)?void 0:l.enableManga)?[{name:"Manga",isCurrent:"manga"===W,onClick:()=>V("manga")}]:[],R[21]=W,R[22]=null==H||null==(c=H.settings)||null==(o=c.library)?void 0:o.enableManga,R[23]=V,R[24]=S):S=R[24],R[25]!==w||R[26]!==S||R[27]!==x?(M=(0,t.jsx)("div",{className:"max-w-fit border rounded-full","data-discover-page-header-tabs-inner-container":!0,children:(0,t.jsx)($.tH,{className:"h-10 overflow-hidden",triggerClass:"px-4 py-1",items:[x,w,...S]})}),R[25]=w,R[26]=S,R[27]=x,R[28]=M):M=R[28],R[29]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(et.KSO,{}),R[29]=_):_=R[29],R[30]!==O?(T=(0,t.jsx)("div",{"data-discover-page-header-advanced-search-container":!0,children:(0,t.jsx)(Z.$n,{leftIcon:_,intent:"gray-outline",className:"rounded-full",onClick:()=>O.push("/search"),children:"Advanced search"})}),R[30]=O,R[31]=T):T=R[31],R[32]!==M||R[33]!==T?(D=(0,t.jsxs)("div",{className:"lg:absolute w-full lg:-top-10 left-0 flex gap-4 p-4 items-center justify-center flex-wrap","data-discover-page-header-tabs-container":!0,children:[M,T]}),R[32]=M,R[33]=T,R[34]=D):D=R[34],R[35]!==W?(E="anime"===W&&(0,t.jsxs)(Q.f,{className:"relative 2xl:order-first pb-10 pt-4",initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.35},"data-discover-page-anime-container":!0,children:[(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-anime-trending-container":!0,children:[(0,t.jsx)("h2",{children:"Trending this season"}),(0,t.jsx)(X.tl,{})]}),(0,t.jsx)(K,{}),(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-anime-highest-rated-container":!0,children:[(0,t.jsx)("h2",{children:"Highest rated last season"}),(0,t.jsx)(P,{})]}),(0,t.jsx)(k,{}),(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-anime-upcoming-container":!0,children:[(0,t.jsx)("h2",{children:"Upcoming"}),(0,t.jsx)(z,{})]}),(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-anime-trending-movies-container":!0,children:[(0,t.jsx)("h2",{children:"Trending movies"}),(0,t.jsx)(F,{})]})]},"anime"),R[35]=W,R[36]=E):E=R[36],R[37]!==W?(C="schedule"===W&&(0,t.jsx)(Q.f,{className:"relative 2xl:order-first pb-10 pt-4","data-discover-page-schedule-container":!0,initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.35},children:(0,t.jsx)(N,{})},"schedule"),R[37]=W,R[38]=C):C=R[38],R[39]!==W?(A="manga"===W&&(0,t.jsxs)(Q.f,{className:"relative 2xl:order-first pb-10 pt-4","data-discover-page-manga-container":!0,initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.35},children:[(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-manga-trending-container":!0,children:[(0,t.jsx)("h2",{children:"Trending Manga"}),(0,t.jsx)(I.fG,{country:"JP"})]}),(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-manga-trending-manhwa-container":!0,children:[(0,t.jsx)("h2",{children:"Trending Manhwa"}),(0,t.jsx)(I.fG,{country:"KR"})]}),(0,t.jsxs)("div",{className:"space-y-2 z-[5] relative","data-discover-page-manga-trending-manhua-container":!0,children:[(0,t.jsx)("h2",{children:"Trending Manhua"}),(0,t.jsx)(I.fG,{country:"CN"})]})]},"manga"),R[39]=W,R[40]=A):A=R[40],R[41]!==E||R[42]!==C||R[43]!==A?(Y=(0,t.jsxs)(ee.N,{mode:"wait",initial:!1,children:[E,C,A]}),R[41]=E,R[42]=C,R[43]=A,R[44]=Y):Y=R[44],R[45]!==D||R[46]!==Y?(L=(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsxs)(er.P.div,{initial:g,animate:v,transition:f,className:"p-4 sm:p-8 space-y-10 pb-10 relative z-[4]","data-discover-page-container":!0,children:[D,Y]})]}),R[45]=D,R[46]=Y,R[47]=L):L=R[47],L}},80759:(e,r,l)=>{Promise.resolve().then(l.bind(l,77546))}},e=>{var r=r=>e(e.s=r);e.O(0,[7518,3873,2150,3380,844,9204,6711,585,5897,5479,4506,6446,8087,9910,5760,7753,8429,7949,8481,2362,512,4613,2202,7825,2592,8095,4791,3351,7401,5513,7654,8981,4809,1518,3309,6643,5162,2,1341,3786,8430,4343,295,9582,6094,1332,6069,2148,5354,2223,1520,582,857,6883,1691,9979,7736,9965,8441,6891,7358],()=>r(80759)),_N_E=e.O()}]);