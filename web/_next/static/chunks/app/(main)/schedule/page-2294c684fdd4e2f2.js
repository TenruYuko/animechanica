(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{445:(e,l,i)=>{Promise.resolve().then(i.bind(i,86360))},1382:(e,l,i)=>{"use strict";i.d(l,{z:()=>m});var n=i(95155),a=i(19749),t=i(99639),s=i(91360),r=i(90711),o=i(91332),d=i(48095),u=i(12115),c=i(37178);function m(e){let l,i,m,b,p,v,g,x,h,f,y,j,A,N,_,k,C,S,I,T,E,w=(0,a.c)(45),{discrete:B,isLibraryScreen:P}=e,M=(0,o.Ky)();l=M.libraryScreenCustomBannerImage?(0,r.sU)(M.libraryScreenCustomBannerImage):"";let[F,z]=u.useState(!1),{y:D}=(0,c.A)();w[0]!==D?(i=()=>{D>100?z(!0):z(!1)},w[0]=D,w[1]=i):i=w[1];let O=D>100;if(w[2]!==O?(m=[O],w[2]=O,w[3]=m):m=w[3],(0,u.useEffect)(i,m),P&&M.libraryScreenBannerType!==o.H4.Custom||B&&M.libraryScreenCustomBackgroundImage||!l)return null;w[4]!==B||w[5]!==M.hideTopNavbar?(b=!B&&(0,n.jsx)("div",{"data-custom-library-banner-top-spacer":!0,className:(0,s.cn)("py-20",M.hideTopNavbar&&"py-28")}),w[4]=B,w[5]=M.hideTopNavbar,w[6]=b):b=w[6];let U=B&&"opacity-20",R=!!M.libraryScreenCustomBackgroundImage&&"absolute",L=!M.libraryScreenCustomBackgroundImage&&F&&"opacity-5",K=!M.disableSidebarTransparency&&t.j;w[7]!==U||w[8]!==R||w[9]!==L||w[10]!==K?(p=(0,s.cn)("__header h-[30rem] z-[1] top-0 w-full fixed group/library-header transition-opacity duration-1000",U,R,L,K,"scroll-locked-offset"),w[7]=U,w[8]=R,w[9]=L,w[10]=K,w[11]=p):p=w[11],w[12]!==B||w[13]!==M.disableSidebarTransparency?(v=!M.disableSidebarTransparency&&!B&&(0,n.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:"hidden lg:block h-full absolute z-[2] w-[20rem] opacity-70 left-0 top-0 bg-gradient bg-gradient-to-r from-[var(--background)] to-transparent"}),w[12]=B,w[13]=M.disableSidebarTransparency,w[14]=v):v=w[14],w[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:"w-full z-[3] absolute bottom-[-5rem] h-[5rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent"}),w[15]=g):g=w[15],w[16]===Symbol.for("react.memo_cache_sentinel")?(x={opacity:0},h={opacity:1,y:0},f={opacity:0},y={duration:1,delay:.2},j=(0,s.cn)("h-[30rem] z-[0] w-full flex-none absolute top-0 overflow-hidden","scroll-locked-offset"),w[16]=x,w[17]=h,w[18]=f,w[19]=y,w[20]=j):(x=w[16],h=w[17],f=w[18],y=w[19],j=w[20]);let W=B&&"opacity-70";w[21]!==W?(A=(0,s.cn)("CUSTOM_LIB_BANNER_TOP_FADE w-full absolute z-[2] top-0 h-[5rem] opacity-40 bg-gradient-to-b from-[--background] to-transparent via",W),w[21]=W,w[22]=A):A=w[22],w[23]!==A?(N=(0,n.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:A}),w[23]=A,w[24]=N):N=w[24],w[25]===Symbol.for("react.memo_cache_sentinel")?(_=(0,s.cn)("CUSTOM_LIB_BANNER_IMG z-[1] absolute inset-0 w-full h-full bg-cover bg-no-repeat transition-opacity duration-1000","scroll-locked-offset"),w[25]=_):_=w[25];let Z="url(".concat(l,")"),H=M.libraryScreenCustomBannerPosition||"50% 50%",X=(M.libraryScreenCustomBannerOpacity||100)/100;w[26]!==Z||w[27]!==H||w[28]!==X?(k=(0,n.jsx)("div",{"data-custom-library-banner-image":!0,className:_,style:{backgroundImage:Z,backgroundPosition:H,opacity:X,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),w[26]=Z,w[27]=H,w[28]=X,w[29]=k):k=w[29];let G=B&&"via-50% via-opacity-100 h-[40rem]";return w[30]!==G?(C=(0,s.cn)("CUSTOM_LIB_BANNER_BOTTOM_FADE w-full z-[2] absolute bottom-0 h-[20rem] bg-gradient-to-t from-[--background] via-opacity-50 via-10% to-transparent via",G),w[30]=G,w[31]=C):C=w[31],w[32]!==C?(S=(0,n.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:C}),w[32]=C,w[33]=S):S=w[33],w[34]!==N||w[35]!==k||w[36]!==S?(I=(0,n.jsxs)(d.P.div,{initial:x,animate:h,exit:f,transition:y,className:j,"data-custom-library-banner-inner-container":!0,children:[N,k,S]}),w[34]=N,w[35]=k,w[36]=S,w[37]=I):I=w[37],w[38]!==v||w[39]!==I||w[40]!==p?(T=(0,n.jsxs)("div",{"data-custom-library-banner-container":!0,className:p,children:[v,g,I]}),w[38]=v,w[39]=I,w[40]=p,w[41]=T):T=w[41],w[42]!==T||w[43]!==b?(E=(0,n.jsxs)(n.Fragment,{children:[b,T]}),w[42]=T,w[43]=b,w[44]=E):E=w[44],E}},86360:(e,l,i)=>{"use strict";i.r(l),i.d(l,{default:()=>w,dynamic:()=>E});var n=i(95155),a=i(19749),t=i(2159),s=i(1382),r=i(13029),o=i(37817),d=i(41422),u=i(29724),c=i(12115);function m(e){var l;return!(null==e||null==(l=e.baseAnime)?void 0:l.isAdult)}function b(e){var l;return!(null==e||null==(l=e.baseAnime)?void 0:l.isAdult)}var p=i(15155),v=i(36808),g=i(80677),x=i(6066),h=i(78453),f=i(38628),y=i(43994);function j(e){let l,i,t,s=(0,a.c)(13),{isLoading:j,data:A}=e,N=(0,x.useRouter)(),{missingEpisodes:_,silencedEpisodes:k}=function(e){var l,i,n,t,s,r,p,v,g,x,h,f,y,j,A,N;let _,k,C,S,I,T=(0,a.c)(16),E=(0,o.v1)(),w=(0,u.Xr)(d.Ce),B=(0,u.Xr)(d.TH);T[0]!==e||T[1]!==(null==E||null==(i=E.settings)||null==(l=i.anilist)?void 0:l.enableAdultContent)||T[2]!==w||T[3]!==B?(_=()=>{if(e){var l,i,n,a,t,s;(null==E||null==(i=E.settings)||null==(l=i.anilist)?void 0:l.enableAdultContent)?w(null!=(n=null==e?void 0:e.episodes)?n:[]):w(null!=(t=null==e||null==(a=e.episodes)?void 0:a.filter(b))?t:[]),B(null!=(s=null==e?void 0:e.silencedEpisodes)?s:[])}},T[0]=e,T[1]=null==E||null==(v=E.settings)||null==(p=v.anilist)?void 0:p.enableAdultContent,T[2]=w,T[3]=B,T[4]=_):_=T[4];let P=null==E||null==(t=E.settings)||null==(n=t.anilist)?void 0:n.enableAdultContent;return T[5]!==e||T[6]!==P?(k=[e,P],T[5]=e,T[6]=P,T[7]=k):k=T[7],(0,c.useEffect)(_,k),T[8]!==(null==e?void 0:e.episodes)||T[9]!==(null==E||null==(r=E.settings)||null==(s=r.anilist)?void 0:s.enableAdultContent)?(C=(null==E||null==(x=E.settings)||null==(g=x.anilist)?void 0:g.enableAdultContent)?null!=(j=null==e?void 0:e.episodes)?j:[]:null!=(A=null==e||null==(h=e.episodes)?void 0:h.filter(m))?A:[],T[8]=null==e?void 0:e.episodes,T[9]=null==E||null==(y=E.settings)||null==(f=y.anilist)?void 0:f.enableAdultContent,T[10]=C):C=T[10],T[11]!==(null==e?void 0:e.silencedEpisodes)?(S=null!=(N=null==e?void 0:e.silencedEpisodes)?N:[],T[11]=null==e?void 0:e.silencedEpisodes,T[12]=S):S=T[12],T[13]!==C||T[14]!==S?(I={missingEpisodes:C,silencedEpisodes:S},T[13]=C,T[14]=S,T[15]=I):I=T[15],I}(A),{hasTorrentProvider:C}=(0,o.lJ)();return(null==_?void 0:_.length)||(null==k?void 0:k.length)?(s[0]!==C||s[1]!==j||s[2]!==_||s[3]!==N?(l=!!(null==_?void 0:_.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h2",{className:"flex gap-3 items-center",children:[(0,n.jsx)(f.ItZ,{})," Missing from your library"]}),(0,n.jsxs)(g.FN,{className:"w-full max-w-full",gap:"md",opts:{align:"start"},autoScroll:!0,children:[(0,n.jsx)(g.h1,{}),(0,n.jsx)(g.Wk,{children:!j&&(null==_?void 0:_.map(e=>{var l,i,a,t,s,o,d,u,c,m,b,p,v,x,f;return(0,n.jsx)(g.A7,{className:"md:basis-1/2 lg:basis-1/3 2xl:basis-1/4 min-[2000px]:basis-1/5",children:(0,n.jsx)(r.U,{episode:e,image:(null==(l=e.episodeMetadata)?void 0:l.image)||(null==(i=e.baseAnime)?void 0:i.bannerImage)||(null==(t=e.baseAnime)||null==(a=t.coverImage)?void 0:a.extraLarge),topTitle:null==(o=e.baseAnime)||null==(s=o.title)?void 0:s.userPreferred,title:e.displayTitle,meta:null!=(f=null==(d=e.episodeMetadata)?void 0:d.airDate)?f:void 0,actionIcon:C?(0,n.jsx)(h.pfD,{className:"opacity-50"}):null,isInvalid:e.isInvalid,onClick:()=>{var l,i;C?N.push("/entry?id=".concat(null==(l=e.baseAnime)?void 0:l.id,"&download=").concat(e.episodeNumber)):N.push("/entry?id=".concat(null==(i=e.baseAnime)?void 0:i.id))},anime:{id:null==(u=e.baseAnime)?void 0:u.id,image:null==(m=e.baseAnime)||null==(c=m.coverImage)?void 0:c.medium,title:null==(p=e.baseAnime)||null==(b=p.title)?void 0:b.userPreferred}},e.displayTitle+(null==(v=e.baseAnime)?void 0:v.id))},(null==e||null==(x=e.baseAnime)?void 0:x.id)+e.displayTitle)}))})]})]}),s[0]=C,s[1]=j,s[2]=_,s[3]=N,s[4]=l):l=s[4],s[5]!==C||s[6]!==j||s[7]!==N||s[8]!==k?(i=!!(null==k?void 0:k.length)&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.nD,{type:"multiple",defaultValue:[],triggerClass:"py-2 px-0 dark:hover:bg-transparent text-lg dark:text-[--muted] dark:hover:text-white",children:(0,n.jsxs)(p.As,{value:"item-1",children:[(0,n.jsx)(p.$m,{children:(0,n.jsxs)("p",{className:"flex gap-3 items-center text-lg text-inherit",children:[(0,n.jsx)(y.yw6,{})," Silenced episodes"]})}),(0,n.jsx)(p.ub,{className:"bg-gray-950 rounded-[--radius]",children:(0,n.jsxs)(g.FN,{className:"w-full max-w-full",gap:"md",opts:{align:"start"},autoScroll:!0,children:[(0,n.jsx)(g.h1,{}),(0,n.jsx)(g.Wk,{children:!j&&(null==k?void 0:k.map(e=>{var l,i,a,t,s,o,d,u,c,m,b,p,v,x,f;return(0,n.jsx)(g.A7,{className:"md:basis-1/2 lg:basis-1/3 2xl:basis-1/5 min-[2000px]:basis-1/6",children:(0,n.jsx)(r.U,{episode:e,image:(null==(l=e.episodeMetadata)?void 0:l.image)||(null==(i=e.baseAnime)?void 0:i.bannerImage)||(null==(t=e.baseAnime)||null==(a=t.coverImage)?void 0:a.extraLarge),topTitle:null==(o=e.baseAnime)||null==(s=o.title)?void 0:s.userPreferred,title:e.displayTitle,meta:null!=(f=null==(d=e.episodeMetadata)?void 0:d.airDate)?f:void 0,actionIcon:C?(0,n.jsx)(h.pfD,{}):null,isInvalid:e.isInvalid,type:"carousel",onClick:()=>{var l,i;C?N.push("/entry?id=".concat(null==(l=e.baseAnime)?void 0:l.id,"&download=").concat(e.episodeNumber)):N.push("/entry?id=".concat(null==(i=e.baseAnime)?void 0:i.id))},anime:{id:null==(u=e.baseAnime)?void 0:u.id,image:null==(m=e.baseAnime)||null==(c=m.coverImage)?void 0:c.medium,title:null==(p=e.baseAnime)||null==(b=p.title)?void 0:b.userPreferred}},e.displayTitle+(null==(v=e.baseAnime)?void 0:v.id))},(null==(x=e.baseAnime)?void 0:x.id)+e.displayTitle)}))})]})})]})})}),s[5]=C,s[6]=j,s[7]=N,s[8]=k,s[9]=i):i=s[9],s[10]!==l||s[11]!==i?(t=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(v.KZ,{spacing:"lg",children:[l,i]})}),s[10]=l,s[11]=i,s[12]=t):t=s[12],t):null}var A=i(42094),N=i(52116),_=i(48936),k=i(44608),C=i(80919);function S(){let e=(0,o.v1)(),l=(0,x.useRouter)(),{data:i}=(0,A.u)(),a=(0,N.Y2)(),t=c.useMemo(()=>{var l,n,a,t,s,r;let o=(null==(l=(null!=(r=null==i||null==(a=i.MediaListCollection)||null==(n=a.lists)?void 0:n.filter(e=>"DROPPED"!==e.status).map(e=>null==e?void 0:e.entries).flat())?r:[]).map(e=>null==e?void 0:e.media))?void 0:l.filter(Boolean)).filter(e=>{var l;return!!(null==(l=e.nextAiringEpisode)?void 0:l.episode)}).sort((e,l)=>e.nextAiringEpisode.timeUntilAiring-l.nextAiringEpisode.timeUntilAiring);return(null==e||null==(s=e.settings)||null==(t=s.anilist)?void 0:t.enableAdultContent)?o:o.filter(e=>!e.isAdult)},[i]);return(0,n.jsxs)(v.KZ,{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"hidden lg:block space-y-2",children:[(0,n.jsx)("h2",{children:"Release schedule"}),(0,n.jsx)("p",{className:"text-[--muted]",children:"Based on your anime list"})]}),(0,n.jsx)(_.T,{media:t,missingEpisodes:a}),t.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Coming up next"}),(0,n.jsx)("p",{className:"text-[--muted]",children:"Based on your anime list"})]}),(0,n.jsxs)(g.FN,{className:"w-full max-w-full",gap:"md",opts:{align:"start"},autoScroll:!0,children:[(0,n.jsx)(g.h1,{}),(0,n.jsx)(g.Wk,{children:t.map(e=>{var i,a,t,s,o,d;return(0,n.jsx)(g.A7,{className:"md:basis-1/2 lg:basis-1/3 2xl:basis-1/4 min-[2000px]:basis-1/5",children:(0,n.jsx)(r.U,{image:e.bannerImage||(null==(i=e.coverImage)?void 0:i.large),topTitle:null==(a=e.title)?void 0:a.userPreferred,title:"Episode ".concat(null==(t=e.nextAiringEpisode)?void 0:t.episode),meta:(0,k.m)((0,C.p)(new Date,null==(s=e.nextAiringEpisode)?void 0:s.timeUntilAiring),{addSuffix:!0}),imageClass:"opacity-50",actionIcon:null,onClick:()=>{l.push("/entry?id=".concat(e.id))},anime:{id:e.id,image:null==(o=e.coverImage)?void 0:o.large,title:null==(d=e.title)?void 0:d.userPreferred}},e.id)},e.id)})})]})]})]})}var I=i(45754),T=i(2091);let E="force-static";function w(){let e,l,i,r,o=(0,a.c)(8),{data:d,isLoading:u}=(0,t.Cf)();if(u){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(T.kt,{}),o[0]=e):e=o[0],e}return o[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(s.z,{discrete:!0}),o[1]=e):e=o[1],o[2]!==d||o[3]!==u?(l=(0,n.jsx)(j,{data:d,isLoading:u}),o[2]=d,o[3]=u,o[4]=l):l=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(S,{}),o[5]=i):i=o[5],o[6]!==l?(r=(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsxs)(I.f,{className:"p-4 sm:p-8 space-y-10 pb-10",children:[l,i]})]}),o[6]=l,o[7]=r):r=o[7],r}}},e=>{var l=l=>e(e.s=l);e.O(0,[7518,3873,3380,844,2150,6711,9204,585,5897,5479,4506,6446,8087,9910,5760,7753,8429,7949,8481,2362,512,4613,2202,7825,2592,8095,4791,3351,7401,8211,7654,1597,1518,4809,4500,7814,9499,2571,8154,2,1341,1920,4343,295,9582,6094,2148,5764,5354,6069,7492,8193,1520,582,857,6883,1691,9979,2796,8441,6891,7358],()=>l(445)),_N_E=e.O()}]);