(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9124],{8890:(e,a,t)=>{Promise.resolve().then(t.bind(t,79847))},22960:(e,a,t)=>{"use strict";t.d(a,{F:()=>u});var r=t(95155),l=t(19749),n=t(69528),i=t(21335),d=t(12115),o=t(91360);let s=(0,o.u)({root:(0,i.F)(["UI-ScrollArea__root","relative overflow-hidden"]),viewport:(0,i.F)(["UI-ScrollArea__viewport","h-full w-full rounded-[inherit]","[&>div]:!block"]),scrollbar:(0,i.F)(["UI-ScrollArea__scrollbar","flex touch-none select-none transition-colors"],{variants:{orientation:{vertical:"h-full w-2.5 border-l border-l-transparent p-[1px]",horizontal:"h-2.5 flex-col border-t border-t-transparent p-[1px]"}},defaultVariants:{orientation:"vertical"}}),thumb:(0,i.F)(["UI-ScrollArea__thumb","relative flex-1 rounded-full bg-[--border]"])}),u=d.forwardRef((e,a)=>{let t,i,d,u,m,v,f,h,p,b,g,y,x,M,S=(0,l.c)(28);S[0]!==e?({className:i,scrollbarClass:u,thumbClass:v,viewportClass:f,children:t,orientation:m,viewportRef:h,...d}=e,S[0]=e,S[1]=t,S[2]=i,S[3]=d,S[4]=u,S[5]=m,S[6]=v,S[7]=f,S[8]=h):(t=S[1],i=S[2],d=S[3],u=S[4],m=S[5],v=S[6],f=S[7],h=S[8]);let E=void 0===m?"vertical":m;return S[9]!==i?(p=(0,o.cn)(s.root(),i),S[9]=i,S[10]=p):p=S[10],S[11]!==f?(b=(0,o.cn)(s.viewport(),f),S[11]=f,S[12]=b):b=S[12],S[13]!==t||S[14]!==b||S[15]!==h?(g=(0,r.jsx)(n.LM,{ref:h,className:b,children:t}),S[13]=t,S[14]=b,S[15]=h,S[16]=g):g=S[16],S[17]!==E||S[18]!==u||S[19]!==v?(y=(0,r.jsx)(c,{className:u,thumbClass:v,orientation:E}),S[17]=E,S[18]=u,S[19]=v,S[20]=y):y=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.jsx)(n.OK,{}),S[21]=x):x=S[21],S[22]!==a||S[23]!==d||S[24]!==p||S[25]!==g||S[26]!==y?(M=(0,r.jsxs)(n.bL,{ref:a,className:p,...d,children:[g,y,x]}),S[22]=a,S[23]=d,S[24]=p,S[25]=g,S[26]=y,S[27]=M):M=S[27],M});u.displayName="ScrollArea";let c=d.forwardRef((e,a)=>{let t,i,d,u,c,m,v,f,h=(0,l.c)(18);h[0]!==e?({className:t,thumbClass:u,orientation:d,...i}=e,h[0]=e,h[1]=t,h[2]=i,h[3]=d,h[4]=u):(t=h[1],i=h[2],d=h[3],u=h[4]);let p=void 0===d?"vertical":d;return h[5]!==t||h[6]!==p?(c=(0,o.cn)(s.scrollbar({orientation:p}),t),h[5]=t,h[6]=p,h[7]=c):c=h[7],h[8]!==u?(m=(0,o.cn)(s.thumb(),u),h[8]=u,h[9]=m):m=h[9],h[10]!==m?(v=(0,r.jsx)(n.lr,{className:m}),h[10]=m,h[11]=v):v=h[11],h[12]!==p||h[13]!==a||h[14]!==i||h[15]!==c||h[16]!==v?(f=(0,r.jsx)(n.VM,{ref:a,orientation:p,className:c,...i,children:v}),h[12]=p,h[13]=a,h[14]=i,h[15]=c,h[16]=v,h[17]=f):f=h[17],f});c.displayName="ScrollBar"},41275:(e,a,t)=>{"use strict";t.d(a,{p:()=>u});var r=t(95155),l=t(19749),n=t(99639),i=t(91360),d=t(91332),o=t(35089);t(12115);var s=t(38310);function u(e){let a,t,u,c,m,v,f=(0,l.c)(12),{bannerImage:h}=e,p=(0,d.Ky)(),b=(p.hideTopNavbar||"desktop"===s.env.NEXT_PUBLIC_PLATFORM)&&"h-[27rem]",g=!p.disableSidebarTransparency&&n.j;return f[0]!==b||f[1]!==g?(a=(0,i.cn)("h-[30rem] w-full flex-none object-cover object-center absolute -top-[5rem] overflow-hidden bg-[--background]",b,g),f[0]=b,f[1]=g,f[2]=a):a=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{"data-media-entry-page-small-banner-gradient":!0,className:"w-full absolute z-[2] top-0 h-[8rem] opacity-40 bg-gradient-to-b from-[--background] to-transparent via"}),f[3]=t):t=f[3],f[4]!==h?(u=!!h&&(0,r.jsx)(o.default,{"data-media-entry-page-small-banner-image":!0,src:h||"",alt:"banner image",fill:!0,quality:100,priority:!0,sizes:"100vw",className:"object-cover object-center z-[1]"}),f[4]=h,f[5]=u):u=f[5],f[6]!==u?(c=(0,r.jsx)("div",{"data-media-entry-page-small-banner-image-container":!0,className:"absolute w-full h-full",children:u}),f[6]=u,f[7]=c):c=f[7],f[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)("div",{"data-media-entry-page-small-banner-bottom-gradient":!0,className:"w-full z-[3] absolute bottom-0 h-[32rem] bg-gradient-to-t from-[--background] via-[--background] via-50% to-transparent"}),f[8]=m):m=f[8],f[9]!==a||f[10]!==c?(v=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{"data-media-entry-page-small-banner":!0,className:a,children:[t,c,m]})}),f[9]=a,f[10]=c,f[11]=v):v=f[11],v}},44304:(e,a,t)=>{"use strict";t.d(a,{O4:()=>u,kA:()=>s,lC:()=>o,nP:()=>c});var r=t(19749),l=t(7675),n=t(74889),i=t(46278),d=t(69554);function o(e){let a,t,i=(0,r.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(a=[n.S.MEDIASTREAM.GetMediastreamSettings.key],i[0]=a):a=i[0],i[1]!==e?(t={endpoint:n.S.MEDIASTREAM.GetMediastreamSettings.endpoint,method:n.S.MEDIASTREAM.GetMediastreamSettings.methods[0],queryKey:a,enabled:e},i[1]=e,i[2]=t):t=i[2],(0,l.fl)(t)}function s(){let e,a,t=(0,r.c)(3),o=(0,i.jE)();return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[n.S.MEDIASTREAM.SaveMediastreamSettings.key],t[0]=e):e=t[0],t[1]!==o?(a={endpoint:n.S.MEDIASTREAM.SaveMediastreamSettings.endpoint,method:n.S.MEDIASTREAM.SaveMediastreamSettings.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[n.S.MEDIASTREAM.GetMediastreamSettings.key]}),await o.invalidateQueries({queryKey:[n.S.STATUS.GetStatus.key]}),d.oR.success("Settings saved")}},t[1]=o,t[2]=a):a=t[2],(0,l.qk)(a)}function u(e,a){let t,i,d=(0,r.c)(7),o=null==e?void 0:e.path,s=null==e?void 0:e.streamType;d[0]!==o||d[1]!==s?(t=[n.S.MEDIASTREAM.RequestMediastreamMediaContainer.key,o,s],d[0]=o,d[1]=s,d[2]=t):t=d[2];let u=!!e.path&&!!e.streamType&&a;return d[3]!==t||d[4]!==e||d[5]!==u?(i={endpoint:n.S.MEDIASTREAM.RequestMediastreamMediaContainer.endpoint,method:n.S.MEDIASTREAM.RequestMediastreamMediaContainer.methods[0],queryKey:t,data:e,enabled:u},d[3]=t,d[4]=e,d[5]=u,d[6]=i):i=d[6],(0,l.fl)(i)}function c(){let e,a=(0,r.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:n.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.endpoint,method:n.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.methods[0],mutationKey:[n.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.key],onSuccess:m},a[0]=e):e=a[0],(0,l.qk)(e)}async function m(){}},52885:(e,a,t)=>{"use strict";t.d(a,{z:()=>m});var r=t(95155),l=t(52424),n=t(21335),i=t(12115),d=t(3481),o=t(91360),s=t(77868),u=t(71527);let c=(0,o.u)({root:(0,n.F)(["UI-RadioGroup__root"]),item:(0,n.F)(["UI-RadioGroup__item","block aspect-square rounded-full border text-brand ring-offset-1 ring-offset-[--background]","focus:outline-none focus-visible:ring-2 focus-visible:ring-[--ring] focus-visible:ring-offset-2","disabled:cursor-not-allowed data-[disabled=true]:opacity-50 data-[readonly=true]:cursor-not-allowed","data-[state=unchecked]:bg-white dark:data-[state=unchecked]:bg-gray-700","data-[state=unchecked]:hover:bg-gray-100 dark:data-[state=unchecked]:hover:bg-gray-600","data-[state=checked]:bg-brand data-[state=checked]:border-transparent","data-[error=true]:border-red-500 data-[error=true]:dark:border-red-500 data-[error=true]:data-[state=checked]:border-red-500 data-[error=true]:dark:data-[state=checked]:border-red-500"],{variants:{size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{size:"md"}}),itemIndicator:(0,n.F)(["UI-RadioGroup__itemIndicator","flex items-center justify-center"]),itemLabel:(0,n.F)(["UI-Checkbox_itemLabel","font-normal block","data-[disabled=true]:opacity-50"],{variants:{size:{md:"text-md",lg:"text-lg"}},defaultVariants:{size:"md"}}),itemContainer:(0,n.F)(["UI-RadioGroup__itemContainer","flex gap-2 items-center relative"]),itemCheckIcon:(0,n.F)(["UI-RadioGroup__itemCheckIcon","text-white"],{variants:{size:{sm:"h-4 w-4",md:"h-4 w-4",lg:"h-5 w-5"}},defaultVariants:{size:"md"}})}),m=i.forwardRef((e,a)=>{let t=i.useId(),[{size:n,className:m,stackClass:v,value:f,onValueChange:h,options:p,inputRef:b,defaultValue:g,itemClass:y,itemIndicatorClass:x,itemLabelClass:M,itemContainerClass:S,itemCheckIcon:E,itemCheckIconClass:A},I]=(0,d.I)(e,t),w=i.useRef(!0),k=i.useRef(null),[R,j]=i.useState(null!=f?f:g),T=i.useCallback(e=>{j(e),null==h||h(e)},[]);return i.useEffect(()=>{g&&w.current||j(f),w.current=!1},[f]),(0,r.jsxs)(d.$e,{...I,children:[(0,r.jsx)(l.bL,{value:R,onValueChange:T,defaultValue:g,className:(0,o.cn)(c.root(),m),disabled:I.disabled||I.readonly,"data-error":!!I.error,"data-disabled":I.disabled,"data-readonly":I.readonly,"aria-readonly":I.readonly,loop:!0,children:(0,r.jsx)("div",{className:(0,o.cn)("UI-RadioGroup__stack space-y-1",v),children:p.map(e=>{var i;return(0,r.jsxs)("label",{className:(0,o.cn)(c.itemContainer(),S),htmlFor:t+e.value,"data-error":!!I.error,"data-disabled":I.disabled||e.disabled,"data-readonly":I.readonly||e.readonly,"data-state":R===e.value?"checked":"unchecked",children:[(0,r.jsx)(l.q7,{ref:(0,s.P)([k,a]),id:t+e.value,value:e.value,disabled:I.disabled||I.readonly||e.disabled||e.readonly,"data-error":!!I.error,"data-disabled":I.disabled||e.disabled,"data-readonly":I.readonly||e.readonly,className:(0,o.cn)(c.item({size:n}),y),children:(0,r.jsx)(l.C1,{className:(0,o.cn)(c.itemIndicator(),x),"data-error":!!I.error,"data-disabled":I.disabled||e.disabled,"data-readonly":I.readonly||e.readonly,children:E||(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",stroke:"currentColor",fill:"currentColor",className:(0,o.cn)(c.itemCheckIcon({size:n}),A),children:(0,r.jsx)("path",{d:"M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})})})},e.value),(0,r.jsx)("label",{className:(0,o.cn)(c.itemLabel(),M),htmlFor:t+e.value,"aria-disabled":e.disabled,"data-error":!!I.error,"data-disabled":I.disabled||e.disabled||e.disabled,"data-readonly":I.readonly||e.readonly,"data-state":R===e.value?"checked":"unchecked",children:null!=(i=e.label)?i:e.value})]},e.value)})})}),(0,r.jsx)("input",{ref:b,type:"radio",name:I.name,className:u.dK,value:null!=R?R:"",checked:!!R,"aria-hidden":"true",required:I.required,tabIndex:-1,onChange:()=>{},onFocusCapture:()=>{var e;return null==(e=k.current)?void 0:e.focus()}})]})});m.displayName="RadioGroup"},55226:(e,a,t)=>{"use strict";function r(e){return(navigator.userAgent||"").includes(e)}t.d(a,{Fr:()=>l});function l(){let e="";return navigator.userAgent&&(e=navigator.userAgent),!!/iPhone|iPad|iPod|Android/.test(e)||navigator.vendor.includes("Apple")&&!function(){return r("Tizen")}()&&navigator.maxTouchPoints>1}},60695:(e,a,t)=>{"use strict";t.d(a,{d:()=>f});var r=t(95155),l=t(71527),n=t(75435),i=t(76153),d=t(21335),o=t(12115),s=t(78453),u=t(3481),c=t(91360),m=t(77868);let v=(0,c.u)({root:(0,d.F)(["UI-Switch__root","peer inline-flex shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-colors","disabled:cursor-not-allowed data-[disabled=true]:opacity-50","outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--ring] focus-visible:ring-offset-1","data-[state=unchecked]:bg-gray-200 dark:data-[state=unchecked]:bg-gray-700","data-[state=unchecked]:hover:bg-gray-300 dark:data-[state=unchecked]:hover:bg-gray-600","data-[state=checked]:bg-brand","data-[error=true]:border-red-500"],{variants:{size:{sm:"h-5 w-9",md:"h-6 w-11",lg:"h-7 w-14"}},defaultVariants:{size:"md"}}),container:(0,d.F)(["UI-Switch__container","inline-flex gap-2 items-center"],{variants:{side:{left:"",right:"w-full flex-row-reverse"}},defaultVariants:{side:"left"}}),thumb:(0,d.F)(["UI-Switch__thumb","pointer-events-none block rounded-full bg-white shadow-lg ring-0 transition-transform","data-[state=unchecked]:translate-x-1"],{variants:{size:{sm:"h-3 w-3 data-[state=checked]:translate-x-[1.1rem]",md:"h-4 w-4 data-[state=checked]:translate-x-[1.4rem]",lg:"h-5 w-5 data-[state=checked]:translate-x-[1.9rem]"}},defaultVariants:{size:"md"}}),label:(0,d.F)(["UI-Switch__label","relative font-normal","data-[disabled=true]:text-gray-300 cursor-pointer user-select-none select-none"])}),f=o.forwardRef((e,a)=>{var t;let[{size:d,value:f,className:h,onValueChange:p,labelClass:b,containerClass:g,thumbClass:y,defaultValue:x,inputRef:M,side:S,moreHelp:E,...A},{label:I,...w}]=(0,u.I)(e,o.useId()),k=o.useRef(!0),R=o.useRef(null),[j,T]=o.useState(null!=(t=null!=f?f:x)&&t),N=o.useCallback(e=>{T(e),null==p||p(e)},[]);return o.useEffect(()=>{x&&k.current||T(f),k.current=!1},[f]),(0,r.jsx)(u.$e,{...w,id:w.id,fieldClass:(0,c.cn)("w-fit","right"===S&&"w-full group/switch hover:bg-white/5 rounded-[--radius] p-2 w-[calc(100%_+_1rem)] -ml-2"),fieldHelpTextClass:(0,c.cn)(""),children:(0,r.jsxs)("div",{className:(0,c.cn)(v.container({side:S}),g),children:[(0,r.jsx)(i.bL,{ref:(0,m.P)([R,a]),id:w.id,className:(0,c.cn)(v.root({size:d}),h),disabled:w.disabled||w.readonly,"data-disabled":w.disabled,"data-readonly":w.readonly,"data-error":!!w.error,checked:j,onCheckedChange:N,defaultChecked:x,...A,children:(0,r.jsx)(i.zi,{className:(0,c.cn)(v.thumb({size:d}),y)})}),(0,r.jsx)("div",{className:"flex flex-1"}),!!I&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("label",{className:(0,c.cn)(v.label(),b,"right"===S&&"font-semibold transition-transform __group-hover/switch:-translate-y-0.5"),htmlFor:w.id,"data-disabled":w.disabled,children:I}),E&&(0,r.jsx)(n.A,{className:"text-sm",trigger:(0,r.jsx)(s.ExT,{className:"transition-opacity opacity-45 hover:opacity-90"}),children:E})]}),(0,r.jsx)("input",{ref:M,type:"checkbox",name:w.name,className:l.dK,value:j?"on":"off",checked:!w.required||j,"aria-hidden":"true",required:void 0===f&&w.required,tabIndex:-1,onChange:()=>{},onFocusCapture:()=>{var e;return null==(e=R.current)?void 0:e.focus()}})]})})});f.displayName="Switch"},63352:(e,a,t)=>{"use strict";t.d(a,{Sc:()=>m,$Q:()=>f,aw:()=>v});var r=t(95155),l=t(91676),n=t(21335),i=t(12115),d=t(3481),o=t(91360),s=t(77868),u=t(71527);let c=(0,o.u)({container:(0,n.F)("UI-Checkbox__container inline-flex gap-2 items-center"),root:(0,n.F)(["UI-Checkbox__root","appearance-none peer block relative overflow-hidden transition h-5 w-5 shrink-0 text-white rounded-[--radius-md] ring-offset-1 border ring-offset-[--background]","border-gray-300 dark:border-gray-700","outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--ring] disabled:cursor-not-allowed data-[disabled=true]:opacity-50","data-[state=unchecked]:bg-white dark:data-[state=unchecked]:bg-gray-700","data-[state=unchecked]:hover:bg-gray-100 dark:data-[state=unchecked]:hover:bg-gray-600","data-[state=checked]:bg-brand dark:data-[state=checked]:bg-brand data-[state=checked]:border-brand","data-[state=indeterminate]:bg-[--muted] dark:data-[state=indeterminate]:bg-gray-700 data-[state=indeterminate]:text-white data-[state=indeterminate]:border-transparent","data-[error=true]:border-red-500 data-[error=true]:dark:border-red-500 data-[error=true]:data-[state=checked]:border-red-500 data-[error=true]:dark:data-[state=checked]:border-red-500"],{variants:{size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{size:"md"}}),label:(0,n.F)(["UI-Checkbox_label","font-normal","data-[disabled=true]:opacity-50"],{variants:{size:{sm:"text-sm",md:"text-md",lg:"text-lg"}},defaultVariants:{size:"md"}}),indicator:(0,n.F)(["UI-Checkbox__indicator","flex h-full w-full items-center justify-center relative"]),checkIcon:(0,n.F)("UI-Checkbox__checkIcon absolute",{variants:{size:{sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"}},defaultVariants:{size:"md"}})}),m=i.forwardRef((e,a)=>{var t,n;let[{className:m,hideError:f,containerClass:h,checkIconClass:p,labelClass:b,indicatorClass:g,onValueChange:y,defaultValue:x,value:M,size:S,inputRef:E,...A},{label:I,...w}]=(0,d.I)(e,i.useId()),k=i.useContext(v),R=null!=(t=null==k?void 0:k.group_size)?t:S,j=i.useRef(!0),T=i.useRef(null),[N,C]=i.useState(null!=(n=null!=M?M:x)&&n),D=i.useCallback(e=>{C(e),null==y||y(e)},[]);return i.useEffect(()=>{x&&j.current||C(null!=M&&M),j.current=!1},[M]),(0,r.jsx)(d.$e,{fieldClass:"flex gap-2",...w,error:f?void 0:w.error,children:(0,r.jsxs)("label",{className:(0,o.cn)(c.container(),h),htmlFor:w.id,children:[(0,r.jsx)(l.bL,{ref:(0,s.P)([T,a]),id:w.id,className:(0,o.cn)(c.root({size:R}),m),disabled:w.disabled||w.readonly,"data-error":!!w.error,"data-disabled":w.disabled,"aria-readonly":w.readonly,"data-readonly":w.readonly,checked:N,onCheckedChange:D,...A,children:(0,r.jsxs)(l.P7,{className:(0,o.cn)(c.indicator(),g),children:["indeterminate"!==N&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",stroke:"currentColor",fill:"currentColor",className:(0,o.cn)(c.checkIcon({size:R}),p),children:(0,r.jsx)("path",{d:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"})}),"indeterminate"===N&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:(0,o.cn)(c.checkIcon({size:R}),p),children:(0,r.jsx)("line",{x1:"5",x2:"19",y1:"12",y2:"12"})})]})}),!!I&&(0,r.jsx)("label",{className:(0,o.cn)(c.label({size:R}),b),htmlFor:w.id,"data-disabled":w.disabled,"data-checked":!0===N,children:I}),(0,r.jsx)("input",{ref:E,type:"checkbox",name:w.name,className:u.dK,value:"indeterminate"===N?"indeterminate":N?"on":"off",checked:!w.required||!0===N,"aria-hidden":"true",required:void 0===M&&w.required,tabIndex:-1,onChange:()=>{},onFocusCapture:()=>{var e;return null==(e=T.current)?void 0:e.focus()}})]})})});m.displayName="Checkbox";let v=i.createContext(null),f=i.forwardRef((e,a)=>{let[{value:t,defaultValue:l=[],onValueChange:n,stackClass:s,itemLabelClass:c,itemClass:f,itemContainerClass:h,itemCheckIconClass:p,options:b,size:g},y]=(0,d.I)(e,i.useId()),[x,M]=i.useState(null!=t?t:l),S=i.useCallback(e=>a=>{M(t=>{let r=!0===a?[...t,...t.includes(e)?[]:[e]]:!1===a?t.filter(a=>a!==e):[...t];return null==n||n(r),r})},[]);return i.useEffect(()=>{void 0!==t&&M(t)},[t]),(0,r.jsx)(v.Provider,{value:{group_size:g},children:(0,r.jsxs)(d.$e,{...y,children:[(0,r.jsx)("div",{className:(0,o.cn)("UI-CheckboxGroup__stack space-y-1",s),children:b.map(e=>(0,r.jsx)(m,{label:e.label,value:x.includes(e.value),onValueChange:S(e.value),hideError:!0,error:y.error,className:f,labelClass:c,containerClass:h,checkIconClass:p,disabled:y.disabled||e.disabled,readonly:y.readonly||e.readonly,tabIndex:0},e.value))}),(0,r.jsx)("input",{ref:a,type:"text",id:y.name,name:y.name,className:u.dK,value:y.required?x.length?JSON.stringify(x):"":JSON.stringify(x),"aria-hidden":"true",required:y.required,tabIndex:-1,onChange:()=>{}})]})})});f.displayName="CheckboxGroup"},71689:(e,a,t)=>{"use strict";t.d(a,{NY:()=>v,bx:()=>c,ju:()=>s});var r=t(19749),l=t(37817),n=t(29724),i=t(21842),d=t(12115);let o=(0,i.tG)("sea-mediastream-filepath",void 0,void 0,{getOnInit:!0});function s(){let e,a=(0,r.c)(3),[t,l]=(0,n.fp)(o);return a[0]!==t||a[1]!==l?(e={filePath:t,setFilePath:l},a[0]=t,a[1]=l,a[2]=e):e=a[2],e}let u=(0,i.tG)("sea-mediastream-jassub-offscreen-render",!1,void 0,{getOnInit:!0});function c(){let e,a=(0,r.c)(3),[t,l]=(0,n.fp)(u);return a[0]!==t||a[1]!==l?(e={jassubOffscreenRender:t,setJassubOffscreenRender:l},a[0]=t,a[1]=l,a[2]=e):e=a[2],e}let m=(0,i.tG)("sea-mediastream-active-on-device",null,void 0,{getOnInit:!0});function v(){let e,a,t,i=(0,r.c)(10),o=(0,l.v1)(),[s,u]=(0,n.fp)(m);i[0]!==s||i[1]!==o||i[2]!==u?(e=()=>{o&&null===s&&((null==o?void 0:o.clientDevice)!=="desktop"?u(!0):u(!1))},i[0]=s,i[1]=o,i[2]=u,i[3]=e):e=i[3];let c=null==o?void 0:o.clientUserAgent;return i[4]!==s||i[5]!==c?(a=[c,s],i[4]=s,i[5]=c,i[6]=a):a=i[6],d.useLayoutEffect(e,a),i[7]!==s||i[8]!==u?(t={activeOnDevice:s,setActiveOnDevice:u},i[7]=s,i[8]=u,i[9]=t):t=i[9],t}},75435:(e,a,t)=>{"use strict";t.d(a,{A:()=>u,x:()=>s});var r=t(95155),l=t(19749),n=t(21096),i=t(21335),d=t(12115),o=t(91360);let s=(0,o.u)({root:(0,i.F)(["UI-Popover__root","z-50 w-72 rounded-[--radius] border bg-[--background] p-4 text-base shadow-sm outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0","data-[state=open]:fade-in-50 data-[state=closed]:zoom-out-100 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"])}),u=d.forwardRef((e,a)=>{let t,i,d,u,m,v,f,h,p,b,g,y,x,M,S=(0,l.c)(29);S[0]!==e?({trigger:p,triggerProps:b,defaultOpen:d,open:m,onOpenChange:u,modal:v,className:t,align:f,sideOffset:h,...i}=e,S[0]=e,S[1]=t,S[2]=i,S[3]=d,S[4]=u,S[5]=m,S[6]=v,S[7]=f,S[8]=h,S[9]=p,S[10]=b):(t=S[1],i=S[2],d=S[3],u=S[4],m=S[5],v=S[6],f=S[7],h=S[8],p=S[9],b=S[10]);let E=void 0===v||v,A=void 0===f?"center":f,I=void 0===h?8:h;return S[11]!==p||S[12]!==b?(g=(0,r.jsx)(n.l9,{asChild:!0,...b,children:p}),S[11]=p,S[12]=b,S[13]=g):g=S[13],S[14]!==t?(y=(0,o.cn)(s.root(),t),S[14]=t,S[15]=y):y=S[15],S[16]!==A||S[17]!==i||S[18]!==a||S[19]!==I||S[20]!==y?(x=(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:a,align:A,sideOffset:I,className:y,onOpenAutoFocus:c,...i})}),S[16]=A,S[17]=i,S[18]=a,S[19]=I,S[20]=y,S[21]=x):x=S[21],S[22]!==d||S[23]!==E||S[24]!==u||S[25]!==m||S[26]!==g||S[27]!==x?(M=(0,r.jsxs)(n.bL,{defaultOpen:d,open:m,onOpenChange:u,modal:E,children:[g,x]}),S[22]=d,S[23]=E,S[24]=u,S[25]=m,S[26]=g,S[27]=x,S[28]=M):M=S[28],M});function c(e){return e.preventDefault()}u.displayName="Popover"},77717:(e,a,t)=>{"use strict";t.d(a,{E:()=>s});var r=t(95155),l=t(19749),n=t(21335),i=t(12115),d=t(91360);let o=(0,d.u)({root:(0,n.F)(["UI-Skeleton__root","animate-pulse rounded-[--radius-md] bg-[--subtle] w-full h-12"])}),s=i.forwardRef((e,a)=>{let t,n,i,s,u=(0,l.c)(9);return u[0]!==e?({className:t,...n}=e,u[0]=e,u[1]=t,u[2]=n):(t=u[1],n=u[2]),u[3]!==t?(i=(0,d.cn)(o.root(),t),u[3]=t,u[4]=i):i=u[4],u[5]!==a||u[6]!==n||u[7]!==i?(s=(0,r.jsx)("div",{ref:a,className:i,...n}),u[5]=a,u[6]=n,u[7]=i,u[8]=s):s=u[8],s});s.displayName="Skeleton"},79847:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>G});var r=t(95155),l=t(2159),n=t(26589),i=t(41275),d=t(77166),o=t(38584),s=t(812),u=t(37817),c=t(45886),m=t(83394),v=t(44304),f=t(55226),h=t(14490),p=t(71689),b=t(73826),g=t(93715),y=t(90711),x=t(23862),M=t(83846),S=t(85594),E=t(92430),A=t(29724),I=t(6066),w=t(12115),k=t(69554);function R(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}R();let j=()=>{let e={default:{maxTimeToFirstByteMs:Number.POSITIVE_INFINITY,maxLoadTimeMs:3e5,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0}}};return{autoStartLoad:!0,abrEwmaDefaultEstimate:35e6,abrEwmaDefaultEstimateMax:5e7,startLevel:0,lowLatencyMode:!1,initialLiveManifestSize:0,fragLoadPolicy:{default:{maxTimeToFirstByteMs:Number.POSITIVE_INFINITY,maxLoadTimeMs:6e4,timeoutRetry:{maxNumRetry:5,retryDelayMs:100,maxRetryDelayMs:0},errorRetry:{maxNumRetry:15,retryDelayMs:100,maxRetryDelayMs:100}}},keyLoadPolicy:e,certLoadPolicy:e,playlistLoadPolicy:e,manifestLoadPolicy:e,steeringManifestLoadPolicy:e}};var T=t(50558),N=t(36808),C=t(84127),D=t(63352),_=t(76049),F=t(98836),P=t(77717);t(76182),t(73015);var U=t(62477),L=t.n(U);t(25667);var z=t(70376),O=t(10653),q=t(9693);function G(){var e,a,U,G,V,K,H,B,$,J,W,Z,Q,Y,X,ee,ea,et,er,el,en;(0,u.v1)();let ei=(0,I.useRouter)(),ed=(0,I.useSearchParams)().get("id"),{data:eo,isLoading:es}=(0,l._8)(ed),eu=w.useRef(null),{filePath:ec}=(0,p.ju)(),em=w.useMemo(()=>{var e,a;return null!=(a=null==eo||null==(e=eo.episodes)?void 0:e.filter(e=>"main"===e.type))?a:[]},[null==eo?void 0:eo.episodes]),ev=w.useMemo(()=>{var e,a;return null!=(a=null==eo||null==(e=eo.episodes)?void 0:e.filter(e=>"special"===e.type))?a:[]},[null==eo?void 0:eo.episodes]),ef=w.useMemo(()=>{var e,a;return null!=(a=null==eo||null==(e=eo.episodes)?void 0:e.filter(e=>"nc"===e.type))?a:[]},[null==eo?void 0:eo.episodes]),eh=w.useMemo(()=>[...em,...ev,...ef],[em,ev,ef]),{url:ep,isError:eb,isMediaContainerLoading:eg,mediaContainer:ey,subtitles:ex,subtitleEndpointUri:eM,onProviderChange:eS,onProviderSetup:eE,onCanPlay:eA,playNextEpisode:eI,onPlayFile:ew,isCodecSupported:ek,setStreamType:eR,disabledAutoSwitchToDirectPlay:ej,handleUpdateWatchHistory:eT,episode:eN,duration:eC}=function(e){var a,r;let{playerRef:l,episodes:n,mediaId:i}=e;(0,I.useRouter)();let{filePath:d,setFilePath:o}=(0,p.ju)(),{data:s,isFetching:u}=(0,v.lC)(!0),T=w.useRef(void 0),N=w.useRef(void 0),[C,D]=w.useState(void 0),[_,F]=w.useState("transcode"),P=w.useRef(0);w.useRef(!1);let U=(0,A.md)(b.O1),{waitForWatchHistory:L}=(0,m.vy)(i),{data:z,isError:O,isPending:q,isFetching:G,refetch:V}=(0,v.O4)({path:d,streamType:_,clientId:null!=U?U:R()},!!s&&!u&&!L),K=w.useMemo(()=>q||G?void 0:z,[z,q,G]),[H,B]=w.useState(!1),[$,J]=w.useState(0);w.useEffect(()=>{q&&((0,g.v)("MEDIASTREAM").info("Loading media container"),X(void 0),(0,g.v)("MEDIASTREAM").info("Setting URL to undefined"))},[q]);let{mutate:W}=(0,v.nP)(),Z=!!K&&!C,{isCodecSupported:Q}={isCodecSupported:e=>{var a;return!(0,f.Fr)()&&(-1===navigator.userAgent.search("Firefox")&&(e=e.replace("video/x-matroska","video/mp4")),"probably"===(null!=(a=document.getElementsByTagName("video").item(0))?a:document.createElement("video")).canPlayType(e))}};w.useEffect(()=>{var e,a,t,r,l,n;(0,g.v)("MEDIASTREAM").info("Media container changed, running effect",K);let i=Q(null!=(a=null==K||null==(e=K.mediaInfo)?void 0:e.mimeCodec)?a:"");if((0,g.v)("MEDIASTREAM").info("Is codec supported",i),(null==K?void 0:K.streamType)==="transcode"){if((0,g.v)("MEDIASTREAM").info("Stream type is transcode"),!i&&(null==s?void 0:s.directPlayOnly)){(0,g.v)("MEDIASTREAM").warning("Codec not supported for direct play",null==K||null==(t=K.mediaInfo)?void 0:t.mimeCodec),(0,g.v)("MEDIASTREAM").warning("Stopping playback"),k.oR.warning("Codec not supported for direct play"),X(void 0),(0,g.v)("MEDIASTREAM").info("Setting URL to undefined");return}if(i&&(!(null==s?void 0:s.disableAutoSwitchToDirectPlay)||(null==s?void 0:s.directPlayOnly))){(0,g.v)("MEDIASTREAM").info("Codec supported",null==K||null==(r=K.mediaInfo)?void 0:r.mimeCodec),(0,g.v)("MEDIASTREAM").warning("Switching to direct play"),F("direct"),X(void 0),(0,g.v)("MEDIASTREAM").info("Setting URL to undefined");return}(0,g.v)("MEDIASTREAM").info("Codec not supported for direct play",null==K||null==(l=K.mediaInfo)?void 0:l.mimeCodec)}if((null==K?void 0:K.streamType)==="direct"&&!i){(0,g.v)("MEDIASTREAM").warning("Codec not supported for direct play",null==K||null==(n=K.mediaInfo)?void 0:n.mimeCodec),(0,g.v)("MEDIASTREAM").warning("Switching to transcode"),F("transcode"),X(void 0),(0,g.v)("MEDIASTREAM").info("Setting URL to undefined");return}if(null==K?void 0:K.streamUrl){(0,g.v)("MEDIASTREAM").info("Stream URL available",K.streamUrl);let e="".concat((0,c.M)()).concat(K.streamUrl);(0,g.v)("MEDIASTREAM").info("Changing URL",e,"streamType:",K.streamType),X(e)}else X(void 0),(0,g.v)("MEDIASTREAM").info("Setting URL to undefined")},[null==K?void 0:K.streamUrl,null==s?void 0:s.disableAutoSwitchToDirectPlay]);let{jassubOffscreenRender:Y}=(0,p.bx)();function X(e){(0,g.v)("MEDIASTREAM").info("[changeUrl] called,","request url:",e),T.current!==e&&((0,g.v)("MEDIASTREAM").info("Resetting playback error status"),B(!1)),D(a=>a===e?((0,g.v)("MEDIASTREAM").info("[changeUrl] URL has not changed"),a):(T.current=a,(0,g.v)("MEDIASTREAM").info("[changeUrl] URL updated"),e)),e&&(N.current=e)}w.useEffect(()=>{var e,a,r,n,i,d,o;if(l.current&&(null==K||null==(a=K.mediaInfo)||null==(e=a.fonts)?void 0:e.length)){(0,g.v)("MEDIASTREAM").info("Adding JASSUB renderer to player",null==K||null==(n=K.mediaInfo)||null==(r=n.fonts)?void 0:r.length,"fonts");let e=(0,y.yU)("/jassub/jassub-worker.wasm.js");(0,g.v)("MEDIASTREAM").info("Loading JASSUB renderer");let a=(null==K||null==(d=K.mediaInfo)||null==(i=d.fonts)?void 0:i.map(e=>"".concat((0,c.M)(),"/api/v1/mediastream/att/").concat(e)))||[],s={},u="";if(null==a?void 0:a.length)for(let e of a){let a=null==(o=e.split("/").pop())?void 0:o.split(".")[0];a&&(u||(u=a.toLowerCase()),s[a.toLowerCase()]=e)}u||(u="liberation sans"),0===Object.keys(s).length&&(s={"liberation sans":(0,c.M)()+"/jassub/default.woff2"}),(0,g.v)("MEDIASTREAM").info("Available fonts:",s),(0,g.v)("MEDIASTREAM").info("Fallback font:",u);let m=new M.Fm7(()=>t.e(9242).then(t.bind(t,9242)),{wasmUrl:"/jassub/jassub-worker.wasm",workerUrl:"/jassub/jassub-worker.js",legacyWasmUrl:e,offscreenRender:Y,prescaleFactor:.8,onDemandRender:!1,fonts:a,availableFonts:s,fallbackFont:u});return l.current.textRenderers.add(m),(0,g.v)("MEDIASTREAM").info("JASSUB renderer added to player"),()=>{l.current.textRenderers.remove(m)}}},[l.current,null==K?void 0:K.streamUrl,null==K||null==(a=K.mediaInfo)?void 0:a.fonts,Y]);let ee=w.useMemo(()=>n.find(e=>{var a,t;return!!(null==(a=e.localFile)?void 0:a.path)&&(null==(t=e.localFile)?void 0:t.path)===d}),[n,d]),{handleUpdateWatchHistory:ea}=(0,m.FE)(l,null==ee?void 0:ee.episodeNumber,i),et=w.useRef(void 0),er=e=>{var a,t;(0,g.v)("MEDIASTREAM").info("Playing file",e),null==(t=l.current)||null==(a=t.destroy)||a.call(t),P.current=0,o(e)};(0,h.oA)({type:x.c.MEDIASTREAM_SHUTDOWN_STREAM,onMessage:e=>{e&&k.oR.error(e),(0,g.v)("MEDIASTREAM").warning("Shutdown stream event received"),X(void 0)}});let el=w.useMemo(()=>(null==K?void 0:K.streamUrl)&&(null==K?void 0:K.streamType)?"".concat((0,c.M)(),"/api/v1/mediastream/subs"):"",[null==K?void 0:K.streamUrl,null==K?void 0:K.streamType]);return{url:C,streamType:_,subtitles:null==K||null==(r=K.mediaInfo)?void 0:r.subtitles,isMediaContainerLoading:q,isError:O||Z,subtitleEndpointUri:el,mediaContainer:z,onPlayFile:er,filePath:d,episode:ee,duration:$,disabledAutoSwitchToDirectPlay:null==s?void 0:s.disableAutoSwitchToDirectPlay,setStreamType:e=>{var a,t;(0,g.v)("MEDIASTREAM").info("[setStreamType] Setting stream type",e),F(e),null==(t=l.current)||null==(a=t.destroy)||a.call(t),X(void 0)},onCanPlay:e=>{(0,g.v)("MEDIASTREAM").info("[onCanPlay] called",e),et.current=void 0,J(e.duration)},playNextEpisode:()=>{(0,g.v)("MEDIASTREAM").info("[playNextEpisode] called");let e=n.findIndex(e=>{var a,t;return!!(null==(a=e.localFile)?void 0:a.path)&&(null==(t=e.localFile)?void 0:t.path)===d});if(-1!==e){var a;let t=n[e+1];(null==t||null==(a=t.localFile)?void 0:a.path)&&er(t.localFile.path)}},onProviderChange:function(e,a){(0,S.ar)(e)&&(null==K?void 0:K.streamType)==="transcode"?((0,g.v)("MEDIASTREAM").info("[onProviderChange] Provider changed to HLS"),e.library=E.Ay,e.config={...j()}):(0,g.v)("MEDIASTREAM").info("[onProviderChange] Provider changed to native")},onProviderSetup:function(e,a){if((0,S.ar)(e))if(C)if(E.Ay.isSupported()&&C.endsWith(".m3u8")){var t,r,n,i,d;(0,g.v)("MEDIASTREAM").info("[onProviderSetup] HLS Provider setup"),(0,g.v)("MEDIASTREAM").info("[onProviderSetup] Loading source",C),null==(t=e.instance)||t.on(E.Ay.Events.MANIFEST_PARSED,function(e,a){(0,g.v)("MEDIASTREAM").info("onManifestParsed",a),a.levels.forEach(e=>{var a;(0,g.v)("MEDIASTREAM").info("Level ".concat(e.id," is live:"),null==(a=e.details)?void 0:a.live)})}),null==(r=e.instance)||r.on(E.Ay.Events.MEDIA_ATTACHED,e=>{(0,g.v)("MEDIASTREAM").info("onMediaAttached")}),null==(n=e.instance)||n.on(E.Ay.Events.MEDIA_DETACHED,e=>{(0,g.v)("MEDIASTREAM").warning("onMediaDetached"),H||(null==K||K.streamType,X(void 0))}),null==(i=e.instance)||i.on(E.Ay.Events.FRAG_LOADED,(e,a)=>{var t,r;P.current=null!=(r=null==(t=l.current)?void 0:t.currentTime)?r:0}),null==(d=e.instance)||d.on(E.Ay.Events.ERROR,(e,a)=>{if(null==a?void 0:a.fatal){var t,r;P.current=null!=(r=null==(t=l.current)?void 0:t.currentTime)?r:0,(0,g.v)("MEDIASTREAM").error("handleFatalError",a),(null==K?void 0:K.streamType)==="transcode"&&W(),B(!0),X(void 0),k.oR.error("Playback error"),V()}})}else!E.Ay.isSupported()&&C.endsWith(".m3u8")&&e.video.canPlayType("application/vnd.apple.mpegurl"),(0,g.v)("MEDIASTREAM").info("HLS not supported, using native HLS"),e.video.src=C;else(0,g.v)("MEDIASTREAM").error("[onProviderSetup] Provider setup - no URL");else(0,g.v)("MEDIASTREAM").info("[onProviderSetup] Provider setup - not HLS")},isCodecSupported:Q,handleUpdateWatchHistory:ea}}({playerRef:eu,episodes:eh,mediaId:ed}),{jassubOffscreenRender:eD,setJassubOffscreenRender:e_}=(0,p.bx)(),eF=w.useMemo(()=>{var e;return(null==(e=eh.find(e=>{var a,t;return!!(null==(a=e.localFile)?void 0:a.path)&&(null==(t=e.localFile)?void 0:t.path)===ec}))?void 0:e.episodeNumber)||-1},[eh,ec]),eP=w.useMemo(()=>{var e;return null==(e=eh.find(e=>{var a,t;return!!(null==(a=e.localFile)?void 0:a.path)&&(null==(t=e.localFile)?void 0:t.path)===ec}))?void 0:e.episodeTitle},[eh,ec]),eU=null==eo||null==(e=eo.listData)?void 0:e.progress;return(w.useEffect(()=>{ed&&(es||eo)&&(es||!eo||ec)||ei.push("/")},[ed,eo,es,ec]),!es&&(null==eo?void 0:eo.media))?(0,r.jsxs)(q.Ky,{media:null==eo?void 0:eo.media,progress:{currentProgress:null!=eU?eU:0,currentEpisodeNumber:-1===eF?null:eF,currentEpisodeTitle:eP||null},children:[(0,r.jsx)(N.KZ,{className:"p-4 lg:p-8 z-[5]",children:(0,r.jsx)(s.t,{mediaId:ed?Number(ed):void 0,title:null==eo||null==(U=eo.media)||null==(a=U.title)?void 0:a.userPreferred,episodes:eh,rightHeaderActions:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)(_.a,{title:"Playback",trigger:(0,r.jsx)(C.$n,{leftIcon:(0,r.jsx)(z.wfp,{}),className:"rounded-full",intent:"gray-basic",size:"sm",children:"Playback info"}),contentClass:"sm:rounded-3xl",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"tracking-wide text-sm text-[--muted] break-all",children:null==ey||null==(G=ey.mediaInfo)?void 0:G.path}),ek((null==ey||null==(V=ey.mediaInfo)?void 0:V.mimeCodec)||"")?(0,r.jsx)(T.F,{intent:"success",description:"File video and audio codecs are compatible with this client. Direct play is recommended."}):(0,r.jsx)(T.F,{intent:"warning",description:"File video and audio codecs are not compatible with this client. Transcoding is needed."}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-bold",children:"Video codec: "}),(0,r.jsx)("span",{children:null==ey||null==(H=ey.mediaInfo)||null==(K=H.video)?void 0:K.mimeCodec})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-bold",children:"Audio codec: "}),(0,r.jsx)("span",{children:L()(null==ey||null==($=ey.mediaInfo)||null==(B=$.audios)?void 0:B.map(e=>e.mimeCodec)).join(", ")})]}),(0,r.jsx)(_.a,{title:"Playback",trigger:(0,r.jsx)(C.$n,{size:"sm",className:"rounded-full",intent:"gray-outline",children:"More data"}),contentClass:"max-w-3xl",children:(0,r.jsx)("pre",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100dvh-300px)] whitespace-pre-wrap p-2 rounded-[--radius-md] bg-gray-900",children:JSON.stringify(ey,null,2)})}),(0,r.jsx)(F.w,{}),(0,r.jsx)("p",{className:"font-semibold text-lg",children:"Jassub"}),(0,r.jsx)(D.Sc,{label:"Offscreen rendering",value:eD,onValueChange:e=>e_(e),help:"Enable this if you are experiencing performance issues"}),(0,r.jsx)(F.w,{}),(null==ey?void 0:ey.streamType)==="direct"&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C.$n,{intent:"primary-subtle",onClick:()=>eR("transcode"),disabled:!ej,children:"Switch to transcoding"}),!ej&&(0,r.jsx)("p",{className:"text-[--muted] text-sm italic opacity-50",children:"Enable 'prefer transcoding' in the media streaming settings if you want to switch to transcoding"})]}),(null==ey?void 0:ey.streamType)==="transcode"&&ek((null==ey||null==(J=ey.mediaInfo)?void 0:J.mimeCodec)||"")&&(0,r.jsx)(C.$n,{intent:"success-subtle",onClick:()=>eR("direct"),children:"Switch to direct play"})]})})})}),mediaPlayer:(0,r.jsx)(o.F,{url:(null==ey?void 0:ey.streamType)==="direct"?{src:ep||"",type:(null==ey||null==(W=ey.mediaInfo)?void 0:W.extension)==="mp4"?"video/mp4":(null==ey||null==(Z=ey.mediaInfo)?void 0:Z.extension)==="avi"?"video/x-msvideo":"video/webm"}:ep,isPlaybackError:eb,isLoading:eg,playerRef:eu,poster:(null==eh||null==(Y=eh.find(e=>{var a;return(null==(a=e.localFile)?void 0:a.path)===(null==ey?void 0:ey.filePath)}))||null==(Q=Y.episodeMetadata)?void 0:Q.image)||(null==eo||null==(X=eo.media)?void 0:X.bannerImage)||(null==eo||null==(ea=eo.media)||null==(ee=ea.coverImage)?void 0:ee.extraLarge),onProviderChange:eS,onProviderSetup:eE,onCanPlay:eA,onGoToNextEpisode:eI,tracks:null==ex?void 0:ex.map(e=>{var a,t;return{src:eM+e.link,label:e.title||e.language,lang:e.language,type:(null==(a=e.extension)?void 0:a.replace(".",""))||"ass",kind:"subtitles",default:e.isDefault||!ex.some(e=>e.isDefault)&&(null==(t=e.language)?void 0:t.startsWith("en"))}}),mediaInfoDuration:null==ey||null==(et=ey.mediaInfo)?void 0:et.duration,loadingText:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Extracting video metadata..."}),(0,r.jsx)("p",{children:"This might take a while."})]})}),episodeList:eh.map(e=>{var a,t,l,i,o,s,u,c,m,v,f,h,p,b,g,y,x,M;return(0,r.jsx)(n.X,{id:"episode-".concat(String(e.episodeNumber)),media:null==e?void 0:e.baseAnime,title:(null==e?void 0:e.displayTitle)||(null==e||null==(t=e.baseAnime)||null==(a=t.title)?void 0:a.userPreferred)||"",image:(null==e||null==(l=e.episodeMetadata)?void 0:l.image)||(null==e||null==(o=e.baseAnime)||null==(i=o.coverImage)?void 0:i.large),episodeTitle:null==e?void 0:e.episodeTitle,fileName:null==e||null==(u=e.localFile)||null==(s=u.parsedInfo)?void 0:s.original,onClick:()=>{var a,t;(null==(a=e.localFile)?void 0:a.path)&&ew((null==(t=e.localFile)?void 0:t.path)||"")},isWatched:!!eU&&eU>=(null==e?void 0:e.progressNumber),isFiller:null==(c=e.episodeMetadata)?void 0:c.isFiller,isSelected:(null==(m=e.localFile)?void 0:m.path)===ec,length:null==(v=e.episodeMetadata)?void 0:v.length,className:"flex-none w-full",episodeNumber:e.episodeNumber,progressNumber:e.progressNumber,action:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.H,{title:e.displayTitle,image:null==(f=e.episodeMetadata)?void 0:f.image,episodeTitle:e.episodeTitle,airDate:null==(h=e.episodeMetadata)?void 0:h.airDate,length:null==(p=e.episodeMetadata)?void 0:p.length,summary:(null==(b=e.episodeMetadata)?void 0:b.summary)||(null==(g=e.episodeMetadata)?void 0:g.overview),isInvalid:e.isInvalid,filename:null==(x=e.localFile)||null==(y=x.parsedInfo)?void 0:y.original}),(0,r.jsx)(O.bv,{isDropdownMenu:!0,type:"mediastream",episode:e})]})},(null==(M=e.localFile)?void 0:M.path)||"")})})}),(0,r.jsx)(i.p,{bannerImage:(null==eo||null==(er=eo.media)?void 0:er.bannerImage)||(null==eo||null==(en=eo.media)||null==(el=en.coverImage)?void 0:el.extraLarge)})]}):(0,r.jsxs)("div",{className:"px-4 lg:px-8 space-y-4",children:[(0,r.jsx)("div",{className:"flex gap-4 items-center relative",children:(0,r.jsx)(P.E,{className:"h-12"})}),(0,r.jsxs)("div",{className:"grid 2xl:grid-cols-[1fr,450px] gap-4 xl:gap-4",children:[(0,r.jsx)("div",{className:"w-full min-h-[70dvh] relative",children:(0,r.jsx)(P.E,{className:"h-full w-full absolute"})}),(0,r.jsx)(P.E,{className:"hidden 2xl:block relative h-[78dvh] overflow-y-auto pr-4 pt-0"})]})]})}},83563:(e,a,t)=>{"use strict";t.d(a,{H:()=>d});var r=t(42500),l=t(29724),n=t(12115);let i=(0,r.eU)({});function d(){let[e,a]=(0,l.fp)(i);return{inject:n.useCallback((e,t)=>{a(a=>{let r=Object.keys(a).map(e=>({injectable:a[e],key:e}));return r.push({injectable:t,key:e}),r.sort((e,a)=>(a.injectable.priority||0)-(e.injectable.priority||0)),r.reduce((e,a)=>(e[a.key]=a.injectable,e),{})})},[]),remove:n.useCallback(e=>{a(a=>{let t={...a};return delete t[e],t})},[]),injectables:e}}}},e=>{var a=a=>e(e.s=a);e.O(0,[7518,3922,3873,2150,3380,844,9204,585,5897,5479,9910,8429,8481,7825,2592,4791,3351,7401,5513,7654,8981,4809,6643,2,3786,8430,2623,9582,6094,1332,6069,2223,582,8441,6891,7358],()=>a(8890)),_N_E=e.O()}]);