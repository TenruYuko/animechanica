(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2076],{7013:(e,t,n)=>{"use strict";n.d(t,{JW:()=>o,M$:()=>d,Ok:()=>c});var a=n(19749),l=n(7675),s=n(74889),r=n(46278),i=n(69554);function o(){let e,t,n=(0,a.c)(3),i=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.SETTINGS.GettingStarted.key],n[0]=e):e=n[0],n[1]!==i?(t={endpoint:s.S.SETTINGS.GettingStarted.endpoint,method:s.S.SETTINGS.GettingStarted.methods[0],mutationKey:e,onSuccess:async()=>{await i.invalidateQueries({queryKey:[s.S.SETTINGS.GetSettings.key]}),await i.invalidateQueries({queryKey:[s.S.STATUS.GetStatus.key]})}},n[1]=i,n[2]=t):t=n[2],(0,l.qk)(t)}function c(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.SETTINGS.SaveSettings.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.SETTINGS.SaveSettings.endpoint,method:s.S.SETTINGS.SaveSettings.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.SETTINGS.GetSettings.key]}),await o.invalidateQueries({queryKey:[s.S.STATUS.GetStatus.key]}),i.oR.success("Settings saved")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}function d(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.SETTINGS.SaveAutoDownloaderSettings.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.SETTINGS.SaveAutoDownloaderSettings.endpoint,method:s.S.SETTINGS.SaveAutoDownloaderSettings.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.SETTINGS.GetSettings.key]}),await o.invalidateQueries({queryKey:[s.S.STATUS.GetStatus.key]}),i.oR.success("Settings saved")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}},17205:(e,t,n)=>{"use strict";n.d(t,{DO:()=>u,ID:()=>c,Iu:()=>p,UT:()=>h,Xu:()=>m,Ym:()=>x,ke:()=>o,nC:()=>d,pK:()=>f});var a=n(19749),l=n(7675),s=n(74889),r=n(46278),i=n(69554);function o(e,t){let n,i,o,c=(0,a.c)(8),d=(0,r.jE)(),u=String(e);return c[0]!==t||c[1]!==u?(n=[s.S.MANGA_DOWNLOAD.DownloadMangaChapters.key,u,t],c[0]=t,c[1]=u,c[2]=n):n=c[2],c[3]!==d?(i=async()=>{await d.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadData.key]})},c[3]=d,c[4]=i):i=c[4],c[5]!==n||c[6]!==i?(o={endpoint:s.S.MANGA_DOWNLOAD.DownloadMangaChapters.endpoint,method:s.S.MANGA_DOWNLOAD.DownloadMangaChapters.methods[0],mutationKey:n,onSuccess:i},c[5]=n,c[6]=i,c[7]=o):o=c[7],(0,l.qk)(o)}function c(e){let t,n,r=(0,a.c)(7),i=String(e.mediaId),o=String(e.cached);r[0]!==i||r[1]!==o?(t=[s.S.MANGA_DOWNLOAD.GetMangaDownloadData.key,i,o],r[0]=i,r[1]=o,r[2]=t):t=r[2];let c=!!e.mediaId;return r[3]!==t||r[4]!==e||r[5]!==c?(n={endpoint:s.S.MANGA_DOWNLOAD.GetMangaDownloadData.endpoint,method:s.S.MANGA_DOWNLOAD.GetMangaDownloadData.methods[0],queryKey:t,data:e,enabled:c},r[3]=t,r[4]=e,r[5]=c,r[6]=n):n=r[6],(0,l.fl)(n)}function d(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.endpoint,method:s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.methods[0],queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key],enabled:!0},t[0]=e):e=t[0],(0,l.fl)(e)}function u(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.MANGA_DOWNLOAD.StartMangaDownloadQueue.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.MANGA_DOWNLOAD.StartMangaDownloadQueue.endpoint,method:s.S.MANGA_DOWNLOAD.StartMangaDownloadQueue.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key]}),i.oR.info("Downloading chapters")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}function m(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.MANGA_DOWNLOAD.StopMangaDownloadQueue.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.MANGA_DOWNLOAD.StopMangaDownloadQueue.endpoint,method:s.S.MANGA_DOWNLOAD.StopMangaDownloadQueue.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key]}),i.oR.success("Download queue stopped")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}function h(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.MANGA_DOWNLOAD.ClearAllChapterDownloadQueue.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.MANGA_DOWNLOAD.ClearAllChapterDownloadQueue.endpoint,method:s.S.MANGA_DOWNLOAD.ClearAllChapterDownloadQueue.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key]}),i.oR.success("Download queue cleared")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}function p(){let e,t,n=(0,a.c)(3),o=(0,r.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.MANGA_DOWNLOAD.ResetErroredChapterDownloadQueue.key],n[0]=e):e=n[0],n[1]!==o?(t={endpoint:s.S.MANGA_DOWNLOAD.ResetErroredChapterDownloadQueue.endpoint,method:s.S.MANGA_DOWNLOAD.ResetErroredChapterDownloadQueue.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key]}),i.oR.success("Reset errored chapters")}},n[1]=o,n[2]=t):t=n[2],(0,l.qk)(t)}function x(e,t){let n,o,c,d=(0,a.c)(8),u=(0,r.jE)(),m=String(e);return d[0]!==t||d[1]!==m?(n=[s.S.MANGA_DOWNLOAD.DeleteMangaDownloadedChapters.key,m,t],d[0]=t,d[1]=m,d[2]=n):n=d[2],d[3]!==u?(o=async()=>{await u.invalidateQueries({queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadData.key]}),i.oR.success("Chapters deleted")},d[3]=u,d[4]=o):o=d[4],d[5]!==n||d[6]!==o?(c={endpoint:s.S.MANGA_DOWNLOAD.DeleteMangaDownloadedChapters.endpoint,method:s.S.MANGA_DOWNLOAD.DeleteMangaDownloadedChapters.methods[0],mutationKey:n,onSuccess:o},d[5]=n,d[6]=o,d[7]=c):c=d[7],(0,l.qk)(c)}function f(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:s.S.MANGA_DOWNLOAD.GetMangaDownloadsList.endpoint,method:s.S.MANGA_DOWNLOAD.GetMangaDownloadsList.methods[0],queryKey:[s.S.MANGA_DOWNLOAD.GetMangaDownloadsList.key],enabled:!0},t[0]=e):e=t[0],(0,l.fl)(e)}},39076:(e,t,n)=>{"use strict";n.d(t,{$0:()=>m,I2:()=>g,Sv:()=>h,Vb:()=>p});var a=n(19749),l=n(17205),s=n(24780),r=n(42500),i=n(29724),o=n(12115),c=n(69554);let d=(0,r.eU)(void 0),u=(0,r.eU)(e=>{let t=[],n=e(d);if(n){for(let e in n.downloaded)t=t.concat(n.downloaded[e].map(t=>({provider:e,chapterId:t.chapterId,chapterNumber:t.chapterNumber,queued:!1,downloaded:!0})));for(let e in n.queued)t=t.concat(n.queued[e].map(t=>({provider:e,chapterId:t.chapterId,chapterNumber:t.chapterNumber,queued:!0,downloaded:!1})))}return t});function m(){return(0,i.md)(u)}function h(e){let t,n,s,r,c=(0,a.c)(11),u=e?Number(e):void 0;c[0]!==u?(t={mediaId:u},c[0]=u,c[1]=t):t=c[1];let{data:m,isLoading:h,isError:p}=(0,l.ID)(t),x=(0,i.Xr)(d);return c[2]!==m||c[3]!==x?(n=()=>{x(m)},c[2]=m,c[3]=x,c[4]=n):n=c[4],c[5]!==m?(s=[m],c[5]=m,c[6]=s):s=c[6],o.useEffect(n,s),c[7]!==m||c[8]!==p||c[9]!==h?(r={downloadData:m,downloadDataLoading:h,downloadDataError:p},c[7]=m,c[8]=p,c[9]=h,c[10]=r):r=c[10],r}function p(e){let t,n,r=(0,a.c)(7),{selectedProvider:i}=(0,s.c2)(e),{mutate:o,isPending:c}=(0,l.ke)(e,i);return r[0]!==e||r[1]!==o||r[2]!==i?(t=t=>{i&&o({mediaId:Number(e),provider:i,chapterIds:t.map(f),startNow:!1},{onSuccess:x})},r[0]=e,r[1]=o,r[2]=i,r[3]=t):t=r[3],r[4]!==c||r[5]!==t?(n={downloadChapters:t,isSendingDownloadRequest:c},r[4]=c,r[5]=t,r[6]=n):n=r[6],n}function x(){c.oR.success("Chapters added to download queue")}function f(e){return e.id}function g(){let e,t=(0,a.c)(12),{data:n,isLoading:s,isError:r}=(0,l.nC)(),{mutate:i,isPending:o}=(0,l.DO)(),{mutate:c,isPending:d}=(0,l.Xu)(),{mutate:u,isPending:m}=(0,l.Iu)(),{mutate:h,isPending:p}=(0,l.UT)();return t[0]!==h||t[1]!==n||t[2]!==p||t[3]!==r||t[4]!==s||t[5]!==m||t[6]!==o||t[7]!==d||t[8]!==u||t[9]!==i||t[10]!==c?(e={downloadQueue:n,downloadQueueLoading:s,downloadQueueError:r,startDownloadQueue:i,isStartingDownloadQueue:o,stopDownloadQueue:c,isStoppingDownloadQueue:d,resetErroredChapters:u,isResettingErroredChapters:m,clearDownloadQueue:h,isClearingDownloadQueue:p},t[0]=h,t[1]=n,t[2]=p,t[3]=r,t[4]=s,t[5]=m,t[6]=o,t[7]=d,t[8]=u,t[9]=i,t[10]=c,t[11]=e):e=t[11],e}},46539:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(38310);function l(e,t){if("desktop"===a.env.NEXT_PUBLIC_PLATFORM){let n=e.replace("{url}",t);return e.startsWith("intent://")&&(n=n.replace("intent://http://","intent://").replace("intent://https://","intent://")),n}let n=e.replace("{url}",t).replace("127.0.0.1",window.location.hostname).replace("localhost",window.location.hostname);return e.startsWith("intent://")&&(n=n.replace("intent://http://","intent://").replace("intent://https://","intent://")),n}},55192:(e,t,n)=>{Promise.resolve().then(n.bind(n,86507))},62322:(e,t,n)=>{"use strict";n.d(t,{W:()=>d,v:()=>c});var a=n(19749),l=n(7675),s=n(74889),r=n(37817),i=n(6066),o=n(69554);function c(){let e,t,n,c,d=(0,a.c)(9),u=(0,i.useRouter)(),m=(0,r.LX)();return d[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s.S.AUTH.Login.key],d[0]=e):e=d[0],d[1]!==u||d[2]!==m?(t=async e=>{e&&(o.oR.success("Successfully authenticated"),setTimeout(()=>{m(e),u.push("/")},1e3))},d[1]=u,d[2]=m,d[3]=t):t=d[3],d[4]!==u?(n=async e=>{o.oR.error(e.message),u.push("/")},d[4]=u,d[5]=n):n=d[5],d[6]!==t||d[7]!==n?(c={endpoint:s.S.AUTH.Login.endpoint,method:s.S.AUTH.Login.methods[0],mutationKey:e,onSuccess:t,onError:n},d[6]=t,d[7]=n,d[8]=c):c=d[8],(0,l.qk)(c)}function d(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:s.S.AUTH.Logout.endpoint,method:s.S.AUTH.Logout.methods[0],mutationKey:[s.S.AUTH.Logout.key],onSuccess:u},t[0]=e):e=t[0],(0,l.qk)(e)}async function u(){o.oR.success("Successfully logged out")}},86507:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ai,dynamic:()=>ao});var a=n(95155),l=n(19749),s=n(7613),r=n(29648),i=n(14490),o=n(45754),c=n(52963),d=n(2091),u=n(6773),m=n(23862),h=n(29724),p=n(12115);function x(){let e,t,n,s,x,f,g,v,b=(0,l.c)(14),[y]=(0,h.fp)(r.gw),[j,N]=(0,p.useState)(0),[w,S]=(0,p.useState)("Scanning...");return(b[0]!==y?(e=()=>{y||(N(0),S("Scanning..."))},t=[y],b[0]=y,b[1]=e,b[2]=t):(e=b[1],t=b[2]),p.useEffect(e,t),b[3]===Symbol.for("react.memo_cache_sentinel")?(n={type:m.c.SCAN_PROGRESS,onMessage:e=>{console.log("Scan progress",e),N(e)}},b[3]=n):n=b[3],(0,i.oA)(n),b[4]===Symbol.for("react.memo_cache_sentinel")?(s={type:m.c.SCAN_STATUS,onMessage:e=>{console.log("Scan status",e),S(e)}},b[4]=s):s=b[4],(0,i.oA)(s),y)?(b[5]!==j?(x=(0,a.jsx)("div",{className:"w-full bg-gray-950 fixed top-0 left-0 z-[100]","data-scan-progress-bar-container":!0,children:(0,a.jsx)(u.z,{size:"xs",value:j})}),b[5]=j,b[6]=x):x=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(d.y$,{className:"size-6"}),b[7]=f):f=b[7],b[8]!==j||b[9]!==w?(g=(0,a.jsx)("div",{className:"z-50 fixed bottom-4 right-4","data-scan-progress-bar-card-container":!0,children:(0,a.jsx)(o.f,{children:(0,a.jsx)(c.Zp,{className:"w-fit max-w-[400px] relative","data-scan-progress-bar-card":!0,children:(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.BT,{className:"flex items-center gap-2 text-base text-[--foregorund]",children:[f," ",j,"% - ",w]})})})})}),b[8]=j,b[9]=w,b[10]=g):g=b[10],b[11]!==x||b[12]!==g?(v=(0,a.jsxs)(a.Fragment,{children:[x,g]}),b[11]=x,b[12]=g,b[13]=v):v=b[13],v):null}var f=n(91360),g=n(42500);let v=(0,g.eU)(!1);function b(){let e,t,n=(0,l.c)(4),[s]=(0,h.fp)(v);return n[0]!==s?(e=s&&(0,a.jsx)("div",{className:(0,f.cn)("error-explainer-ui","fixed z-[100] bottom-8 w-fit left-20 h-fit flex","transition-all duration-300 select-none"),children:(0,a.jsx)("div",{className:(0,f.cn)("p-4 bg-gray-900 border text-white rounded-xl","transition-colors duration-300")})}),n[0]=s,n[1]=e):e=n[1],n[2]!==e?(t=(0,a.jsx)(a.Fragment,{children:e}),n[2]=e,n[3]=t):t=n[3],t}(0,g.eU)(null);var y=n(42094),j=n(38900),N=n(5249),w=n(84127),S=n(30033),_=n(14370),C=n(14180),k=n(13890),A=n(68847),I=n(86694),T=n.n(I),E=n(35089),D=n(6066),M=n(70376),O=n(75780);let L=(0,g.eU)(!1);function P(){var e,t,n,s,r,i,o,c;let u,m,x,g,v,b,I,P,U,H,G,B,q,K,z,W,F,Q=(0,l.c)(36),[V,$]=p.useState(""),X=(0,_.d)(V,500),Y=(0,p.useRef)(null),[Z,J]=p.useState("anime"),ee=(0,D.useRouter)(),[et,en]=(0,h.fp)(L);Q[0]!==et?(u=()=>{et&&setTimeout(()=>{var e;console.log("open",et,Y.current),console.log("focusing"),null==(e=Y.current)||e.focus()},300)},m=[et],Q[0]=et,Q[1]=u,Q[2]=m):(u=Q[1],m=Q[2]),(0,p.useEffect)(u,m),Q[3]===Symbol.for("react.memo_cache_sentinel")?(x=["FINISHED","CANCELLED","NOT_YET_RELEASED","RELEASING"],g=["SEARCH_MATCH"],Q[3]=x,Q[4]=g):(x=Q[3],g=Q[4]),Q[5]!==X?(v={search:X,page:1,perPage:10,status:x,sort:g},Q[5]=X,Q[6]=v):v=Q[6];let{data:ea,isLoading:el,isFetching:es}=(0,y.qN)(v,X.length>0&&"anime"===Z);Q[7]===Symbol.for("react.memo_cache_sentinel")?(b=["FINISHED","CANCELLED","NOT_YET_RELEASED","RELEASING"],I=["SEARCH_MATCH"],Q[7]=b,Q[8]=I):(b=Q[7],I=Q[8]),Q[9]!==X?(P={search:X,page:1,perPage:10,status:b,sort:I},Q[9]=X,Q[10]=P):P=Q[10];let{data:er,isLoading:ei,isFetching:eo}=(0,j.cE)(P,X.length>0&&"manga"===Z),ec="anime"===Z?el:ei,ed="anime"===Z?es:eo;return Q[11]!==(null==ea||null==(e=ea.Page)?void 0:e.media)||Q[12]!==(null==er||null==(t=er.Page)?void 0:t.media)||Q[13]!==Z?(H="anime"===Z?null==ea||null==(s=ea.Page)||null==(n=s.media)?void 0:n.filter(Boolean):null==er||null==(i=er.Page)||null==(r=i.media)?void 0:r.filter(Boolean),Q[11]=null==ea||null==(o=ea.Page)?void 0:o.media,Q[12]=null==er||null==(c=er.Page)?void 0:c.media,Q[13]=Z,Q[14]=H):H=Q[14],U=H,Q[15]===Symbol.for("react.memo_cache_sentinel")?(G=()=>$(""),Q[15]=G):G=Q[15],Q[16]===Symbol.for("react.memo_cache_sentinel")?(B=(0,a.jsx)(C.e.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 transition-opacity backdrop-blur-sm"})}),Q[16]=B):B=Q[16],Q[17]!==en?(q=(0,a.jsx)("div",{className:"absolute right-2 -top-7 z-10",children:(0,a.jsx)(N.i,{href:"/search",className:"text-[--muted] hover:text-[--foreground] font-bold",onClick:()=>en(!1),children:"Advanced search â†’"})}),Q[17]=en,Q[18]=q):q=Q[18],Q[19]!==X||Q[20]!==ed||Q[21]!==ec||Q[22]!==U||Q[23]!==ee||Q[24]!==en||Q[25]!==Z?(K=(0,a.jsx)(k.G,{children:e=>{var t,n,l;let{activeOption:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative border bg-gray-950 shadow-2xl ring-1 ring-black ring-opacity-5 w-full rounded-lg ",children:[(0,a.jsx)(O.CKj,{className:"pointer-events-none absolute top-4 left-4 h-6 w-6 text-[--muted]","aria-hidden":"true"}),(0,a.jsx)(k.G.Input,{ref:Y,className:"h-14 w-full border-0 bg-transparent pl-14 pr-4 text-white placeholder-[--muted] focus:ring-0 sm:text-md",placeholder:"Search...",onChange:e=>$(e.target.value)}),(0,a.jsx)("div",{className:"block fixed lg:absolute top-2 right-2 z-1",children:(0,a.jsx)(S.l,{fieldClass:"w-fit",value:Z,onValueChange:e=>J(e),options:[{value:"anime",label:"Anime"},{value:"manga",label:"Manga"}]})})]}),!!U&&U.length>0&&(0,a.jsxs)(k.G.Options,{as:"div",static:!0,hold:!0,className:"flex divide-[--border] bg-gray-950 shadow-2xl ring-1 ring-black ring-opacity-5 rounded-lg border ",children:[(0,a.jsx)("div",{className:(0,f.cn)("max-h-96 min-w-0 flex-auto scroll-py-2 overflow-y-auto px-6 py-2 my-2",{"sm:h-96":s}),children:(0,a.jsx)("div",{className:"-mx-2 text-sm text-[--foreground]",children:U.map(e=>(0,a.jsx)(k.G.Option,{as:"div",value:e,onClick:()=>{"anime"===Z?ee.push("/entry?id=".concat(e.id)):ee.push("/manga/entry?id=".concat(e.id)),en(!1)},className:R,children:t=>{var n,l,s;let{active:r}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-10 w-10 flex-none rounded-[--radius-md] object-cover object-center relative overflow-hidden",children:(null==(n=e.coverImage)?void 0:n.medium)&&(0,a.jsx)(E.default,{src:null==(l=e.coverImage)?void 0:l.medium,alt:"",fill:!0,quality:50,priority:!0,sizes:"10rem",className:"object-cover object-center"})}),(0,a.jsx)("span",{className:"ml-3 flex-auto truncate",children:null==(s=e.title)?void 0:s.userPreferred}),r&&(0,a.jsx)(M.XWt,{className:"ml-3 h-7 w-7 flex-none text-gray-400","aria-hidden":"true"})]})}},e.id))})}),s&&(0,a.jsxs)("div",{className:"hidden min-h-96 w-1/2 flex-none flex-col overflow-y-auto sm:flex p-4",children:[(0,a.jsxs)("div",{className:"flex-none p-6 text-center",children:[(0,a.jsx)("div",{className:"h-40 w-32 mx-auto flex-none rounded-[--radius-md] object-cover object-center relative overflow-hidden",children:(null==(t=s.coverImage)?void 0:t.large)&&(0,a.jsx)(E.default,{src:null==(n=s.coverImage)?void 0:n.large,alt:"",fill:!0,quality:100,priority:!0,sizes:"10rem",className:"object-cover object-center"})}),(0,a.jsx)("h4",{className:"mt-3 font-semibold text-[--foreground] line-clamp-3",children:null==(l=s.title)?void 0:l.userPreferred}),(0,a.jsxs)("p",{className:"text-sm leading-6 text-[--muted]",children:[s.format,s.season?" - ".concat(T()(s.season)," "):" - ",s.seasonYear?s.seasonYear:"-"]})]}),(0,a.jsx)(N.i,{href:"anime"===Z?"/entry?id=".concat(s.id):"/manga/entry?id=".concat(s.id),onClick:()=>en(!1),children:(0,a.jsx)(w.$n,{type:"button",className:"w-full",intent:"gray-subtle",children:"Open"})})]})]}),""!==X&&(!U||0===U.length)&&(ec||ed)&&(0,a.jsx)(d.kt,{}),""!==X&&!ec&&!ed&&(!U||0===U.length)&&(0,a.jsxs)("div",{className:"py-14 px-6 text-center text-sm sm:px-14",children:[(0,a.jsx)("div",{className:"h-[10rem] w-[10rem] mx-auto flex-none rounded-[--radius-md] object-cover object-center relative overflow-hidden",children:(0,a.jsx)(E.default,{src:"/luffy-01.png",alt:"",fill:!0,quality:100,priority:!0,sizes:"10rem",className:"object-contain object-top"})}),(0,a.jsx)("h5",{className:"mt-4 font-semibold text-[--foreground]",children:"Nothing found"}),(0,a.jsx)("p",{className:"mt-2 text-[--muted]",children:"We couldn't find anything with that name. Please try again."})]})]})}}),Q[19]=X,Q[20]=ed,Q[21]=ec,Q[22]=U,Q[23]=ee,Q[24]=en,Q[25]=Z,Q[26]=K):K=Q[26],Q[27]!==q||Q[28]!==K?(z=(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto p-4 sm:p-6 md:p-20",children:(0,a.jsx)(C.e.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(A.l.Panel,{className:"mx-auto max-w-3xl transform space-y-4 transition-all",children:[q,K]})})}),Q[27]=q,Q[28]=K,Q[29]=z):z=Q[29],Q[30]!==en||Q[31]!==z?(W=(0,a.jsxs)(A.l,{as:"div",className:"relative z-50",onClose:en,children:[B,z]}),Q[30]=en,Q[31]=z,Q[32]=W):W=Q[32],Q[33]!==et||Q[34]!==W?(F=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(C.e.Root,{show:et,as:p.Fragment,afterLeave:G,appear:!0,children:W})}),Q[33]=et,Q[34]=W,Q[35]=F):F=Q[35],F}function R(e){let{active:t}=e;return(0,f.cn)("flex select-none items-center rounded-[--radius-md] p-2 text-[--muted] cursor-pointer",t&&"bg-gray-800 text-white")}var U=n(76793),H=n(74889),G=n(37817),B=n(73832),q=n(46278),K=n(69554);function z(e){var t,n,s,u,x,f,g,v;let b,y,j,N,S,_,C=(0,l.c)(29),k=(0,q.jE)(),A=(0,G.v1)(),[I,T]=(0,p.useState)(null),E=(0,B.C)(!1),D=(0,B.C)(!1),L=(0,B.C)(!1),[P,R]=(0,p.useState)(0),U=(0,h.Xr)(r.ho);C[0]!==E||C[1]!==(null==A||null==(n=A.settings)||null==(t=n.library)?void 0:t.autoScan)?(b={type:m.c.LIBRARY_WATCHER_FILE_ADDED,onMessage:e=>{var t,n;console.log("Library watcher",e),(null==A||null==(n=A.settings)||null==(t=n.library)?void 0:t.autoScan)||(E.on(),T(e))}},C[0]=E,C[1]=null==A||null==(f=A.settings)||null==(x=f.library)?void 0:x.autoScan,C[2]=b):b=C[2],(0,i.oA)(b),C[3]!==D||C[4]!==(null==A||null==(u=A.settings)||null==(s=u.library)?void 0:s.autoScan)?(y={type:m.c.LIBRARY_WATCHER_FILE_REMOVED,onMessage:e=>{var t,n;console.log("Library watcher",e),(null==A||null==(n=A.settings)||null==(t=n.library)?void 0:t.autoScan)||(D.on(),T(e))}},C[3]=D,C[4]=null==A||null==(v=A.settings)||null==(g=v.library)?void 0:g.autoScan,C[5]=y):y=C[5],(0,i.oA)(y),C[6]!==E||C[7]!==D?(j={type:m.c.SCAN_PROGRESS,onMessage:e=>{T(null),E.off(),D.off(),R(e),100===e&&setTimeout(()=>{R(0)},2e3)}},C[6]=E,C[7]=D,C[8]=j):j=C[8],(0,i.oA)(j),C[9]!==L?(N={type:m.c.AUTO_SCAN_STARTED,onMessage:e=>{L.on()}},C[9]=L,C[10]=N):N=C[10],(0,i.oA)(N),C[11]!==L||C[12]!==k?(S={type:m.c.AUTO_SCAN_COMPLETED,onMessage:e=>{L.off(),K.oR.success("Library scanned"),k.invalidateQueries({queryKey:[H.S.ANIME_COLLECTION.GetLibraryCollection.key]}),k.invalidateQueries({queryKey:[H.S.ANIME_ENTRIES.GetMissingEpisodes.key]}),k.invalidateQueries({queryKey:[H.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.key]})}},C[11]=L,C[12]=k,C[13]=S):S=C[13],(0,i.oA)(S),C[14]!==E||C[15]!==D?(_=function(){T(null),E.off(),D.off()},C[14]=E,C[15]=D,C[16]=_):_=C[16];let z=_;if(L.active&&P>0){let e,t;return C[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(d.y$,{className:"size-6"}),C[17]=e):e=C[17],C[18]!==P?(t=(0,a.jsx)("div",{className:"z-50 fixed bottom-4 right-4",children:(0,a.jsx)(o.f,{children:(0,a.jsx)(c.Zp,{className:"w-fit max-w-[400px]",children:(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.BT,{className:"flex items-center gap-2 text-base",children:[e," ",P,"% Refreshing your library..."]})})})})}),C[18]=P,C[19]=t):t=C[19],t}if(I){let e,t,n,l,s;return C[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(M.nlg,{className:"text-brand-400"}),"Library watcher"]}),(0,a.jsx)(c.BT,{className:"flex items-center gap-2 text-base",children:"A change has been detected in your library, refresh your entries."})]}),C[20]=e):e=C[20],C[21]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(O.CKj,{}),C[21]=t):t=C[21],C[22]!==U?(n=(0,a.jsx)(c.wL,{children:(0,a.jsx)(w.$n,{intent:"primary-outline",leftIcon:t,size:"sm",onClick:()=>U(!0),className:"rounded-full",children:"Scan your library"})}),C[22]=U,C[23]=n):n=C[23],C[24]!==z?(l=(0,a.jsx)(w.Jn,{className:"absolute top-2 right-2",onClick:z}),C[24]=z,C[25]=l):l=C[25],C[26]!==n||C[27]!==l?(s=(0,a.jsx)("div",{className:"z-50 fixed bottom-4 right-4",children:(0,a.jsx)(o.f,{children:(0,a.jsxs)(c.Zp,{className:"w-full max-w-[400px] min-h-[150px] relative",children:[e,n,l]})})}),C[26]=n,C[27]=l,C[28]=s):s=C[28],s}return null}var W=n(32754),F=n(62322),Q=n(17946);let V=(0,g.eU)(!1);function $(){let e,t=(0,l.c)(3),[n,a]=(0,h.fp)(V);return t[0]!==a||t[1]!==n?(e={syncIsActive:n,setSyncIsActive:a},t[0]=a,t[1]=n,t[2]=e):e=t[2],e}var X=n(48683),Y=n(21335),Z=n(15388),J=n(39797);let ee=(0,f.u)({root:(0,Y.F)(["UI-NavigationMenu__root","relative inline-block z-10 max-w-full"]),item:(0,Y.F)(["UI-NavigationMenu__item","relative group/navigationMenu_item inline-flex items-center h-full select-none rounded-[--radius] leading-none no-underline outline-none transition-colors","text-[--muted] hover:bg-[--subtle] hover:text-[--foreground] focus:bg-[--subtle]","data-[current=true]:text-[--brand]","font-[600] leading-none","focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[--ring]"],{variants:{size:{sm:"px-3 h-8 text-sm",md:"px-3 h-10 text-sm",lg:"px-3 h-12 text-base"}},defaultVariants:{size:"md"}}),icon:(0,Y.F)(["UI-VerticalNav__icon","flex-shrink-0 mr-3","text-[--muted] group-hover/navigationMenu_item:text-[--foreground] data-[current=true]:text-[--brand] data-[current=true]:group-hover/navigationMenu_item:text-[--brand]"],{variants:{size:{sm:"size-4",md:"size-5",lg:"size-6"}},defaultVariants:{size:"md"}}),itemChevron:(0,Y.F)(["UI-VerticalNav__itemChevron","ml-2 w-4 h-4 transition-transform duration-200 group-hover/navigationMenu_item:rotate-180"]),desktopList:(0,Y.F)(["UI-VerticalNav__desktopList","inline-block space-x-1"],{variants:{switchToDrawerBelow:{sm:"hidden sm:flex",md:"hidden md:flex",lg:"hidden lg:flex",never:"flex"}},defaultVariants:{switchToDrawerBelow:"md"}}),mobileTrigger:(0,Y.F)(["UI-VerticalNav__mobileTrigger","items-center justify-center rounded-[--radius] p-2 text-[--muted] hover:bg-[--subtle] hover:text-[--foreground]","focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[--ring]"],{variants:{switchToDrawerBelow:{sm:"inline-flex sm:hidden",md:"inline-flex md:hidden",lg:"inline-flex lg:hidden",never:"hidden"}},defaultVariants:{switchToDrawerBelow:"md"}}),menuContainer:(0,Y.F)(["UI-NavigationMenu__menuContainer","absolute left-0 top-0 overflow-hidden p-1 data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out","data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52","data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52","data-[motion=to-start]:slide-out-to-left-52 w-full sm:min-w-full"]),viewport:(0,Y.F)(["UI-NavigationMenu__viewport","relative mt-1.5 duration-300 h-[var(--radix-navigation-menu-viewport-height)]","w-full min-w-96 overflow-hidden rounded-[--radius] shadow-sm border bg-[--paper] text-[--foreground]","data-[state=open]:animate-in data-[state=open]:zoom-in-90 data-[state=open]:fade-in-25","data-[state=closed]:animate-out data-[state=closed]:zoom-out-100 data-[state=closed]:fade-out-0"])}),et=p.forwardRef((e,t)=>{let n,s,r,i,o,c,d,u,m,h,x,g,v,b,y,j,w,S,_,C,k,A,I,T,E,D,M,O,L,P,R,U,H,G=(0,l.c)(69);if(G[0]!==e){let{children:t,iconClass:a,itemClass:l,desktopListClass:p,itemChevronClass:f,mobileTriggerClass:j,menuContainerClass:N,viewportClass:w,className:S,switchToDrawerBelow:_,mobileDrawerHeader:C,mobileDrawerContent:k,mobileDrawerProps:A,items:I,size:T,...E}=e;r=a,o=l,s=p,i=f,x=j,d=N,y=w,n=S,b=_,m=C,u=k,h=A,c=I,v=T,g=E,G[0]=e,G[1]=n,G[2]=s,G[3]=r,G[4]=i,G[5]=o,G[6]=c,G[7]=d,G[8]=u,G[9]=m,G[10]=h,G[11]=x,G[12]=g,G[13]=v,G[14]=b,G[15]=y}else n=G[1],s=G[2],r=G[3],i=G[4],o=G[5],c=G[6],d=G[7],u=G[8],m=G[9],h=G[10],x=G[11],g=G[12],v=G[13],b=G[14],y=G[15];let[B,q]=p.useState(!1);G[16]!==r||G[17]!==v?(j=e=>{let{item:t}=e;return t.iconType?(0,a.jsx)(t.iconType,{className:(0,f.cn)(ee.icon({size:v}),r),"aria-hidden":"true","data-current":t.isCurrent}):null},G[16]=r,G[17]=v,G[18]=j):j=G[18];let K=j;return G[19]!==n?(w=(0,f.cn)(ee.root(),n),G[19]=n,G[20]=w):w=G[20],G[21]!==x||G[22]!==b?(S=(0,f.cn)(ee.mobileTrigger({switchToDrawerBelow:b}),x),G[21]=x,G[22]=b,G[23]=S):S=G[23],G[24]===Symbol.for("react.memo_cache_sentinel")?(_=()=>q(en),C=(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),G[24]=_,G[25]=C):(_=G[24],C=G[25]),G[26]!==B?(k=B?(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,a.jsx)("line",{x1:"18",x2:"6",y1:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",x2:"18",y1:"6",y2:"18"})]}):(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,a.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,a.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,a.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),G[26]=B,G[27]=k):k=G[27],G[28]!==S||G[29]!==k?(A=(0,a.jsxs)("button",{className:S,onClick:_,children:[C,k]}),G[28]=S,G[29]=k,G[30]=A):A=G[30],G[31]===Symbol.for("react.memo_cache_sentinel")?(I=e=>q(e),G[31]=I):I=G[31],G[32]===Symbol.for("react.memo_cache_sentinel")?(T=()=>q(!1),G[32]=T):T=G[32],G[33]!==c?(E=(0,a.jsx)(J.m,{items:c,className:"mt-2",onLinkItemClick:T}),G[33]=c,G[34]=E):E=G[34],G[35]!==u||G[36]!==m||G[37]!==h||G[38]!==B||G[39]!==E?(D=(0,a.jsxs)(Z._s,{open:B,onOpenChange:I,side:"left",...h,children:[m,E,u]}),G[35]=u,G[36]=m,G[37]=h,G[38]=B,G[39]=E,G[40]=D):D=G[40],G[41]!==s||G[42]!==b?(M=(0,f.cn)(ee.desktopList({switchToDrawerBelow:b}),s),G[41]=s,G[42]=b,G[43]=M):M=G[43],G[44]!==K||G[45]!==i||G[46]!==o||G[47]!==c||G[48]!==d||G[49]!==B||G[50]!==t||G[51]!==v?(O=c.map(e=>e.subContent?(0,a.jsxs)(X.q7,{children:[(0,a.jsxs)(X.l9,{className:(0,f.cn)(ee.item({size:v}),o),"data-current":e.isCurrent,children:[(0,a.jsx)(K,{item:e}),(0,a.jsx)("span",{className:"flex-none",children:e.name}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,f.cn)(ee.itemChevron(),i),"data-open":"".concat(B),children:(0,a.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),(0,a.jsx)(X.UC,{ref:t,className:(0,f.cn)(ee.menuContainer(),d),children:(0,a.jsx)("div",{className:"w-full",children:e.subContent&&e.subContent})})]},e.name):(0,a.jsx)(X.q7,{children:(0,a.jsx)(X.Ws,{asChild:!0,children:e.href?(0,a.jsxs)(N.i,{href:e.href,className:(0,f.cn)(ee.item({size:v}),o),"data-current":e.isCurrent,children:[(0,a.jsx)(K,{item:e}),(0,a.jsx)("span",{className:"flex-none",children:e.name}),e.addon]}):(0,a.jsxs)("button",{className:(0,f.cn)(ee.item({size:v}),o),"data-current":e.isCurrent,children:[(0,a.jsx)(K,{item:e}),(0,a.jsx)("span",{className:"flex-none",children:e.name}),e.addon]})})},e.name)),G[44]=K,G[45]=i,G[46]=o,G[47]=c,G[48]=d,G[49]=B,G[50]=t,G[51]=v,G[52]=O):O=G[52],G[53]!==M||G[54]!==O?(L=(0,a.jsx)(X.B8,{className:M,children:O}),G[53]=M,G[54]=O,G[55]=L):L=G[55],G[56]===Symbol.for("react.memo_cache_sentinel")?(P=(0,f.cn)("perspective-[2000px] absolute left-0 top-full w-full flex justify-center"),G[56]=P):P=G[56],G[57]!==y?(R=(0,f.cn)(ee.viewport(),y),G[57]=y,G[58]=R):R=G[58],G[59]!==R?(U=(0,a.jsx)("div",{className:P,children:(0,a.jsx)(X.LM,{className:R})}),G[59]=R,G[60]=U):U=G[60],G[61]!==t||G[62]!==g||G[63]!==w||G[64]!==D||G[65]!==L||G[66]!==U||G[67]!==A?(H=(0,a.jsxs)(X.bL,{ref:t,className:w,...g,children:[A,D,L,U]}),G[61]=t,G[62]=g,G[63]=w,G[64]=D,G[65]=L,G[66]=U,G[67]=A,G[68]=H):H=G[68],H});function en(e){return!e}et.displayName="NavigationMenu";let ea=e=>{var t,n,s,r,i,o,c,d;let u,m,h,p,x,f,g=(0,l.c)(12),v=(0,G.v1)(),b=(0,D.usePathname)();null==v||null==(n=v.settings)||null==(t=n.library)||t.enableManga;let y="/offline"===b;g[0]!==y?(m={href:"/offline",isCurrent:y,name:"My library"},g[0]=y,g[1]=m):m=g[1],g[2]!==b||g[3]!==(null==v||null==(r=v.settings)||null==(s=r.library)?void 0:s.enableManga)?(h=(null==v||null==(o=v.settings)||null==(i=o.library)?void 0:i.enableManga)&&{href:"/offline/manga",icon:null,isCurrent:b.includes("/offline/manga"),name:"Manga"},g[2]=b,g[3]=null==v||null==(d=v.settings)||null==(c=d.library)?void 0:c.enableManga,g[4]=h):h=g[4],g[5]!==h?(p=[h].filter(Boolean),g[5]=h,g[6]=p):p=g[6];let j=p;return g[7]!==m||g[8]!==j?(x=[m,...j].filter(Boolean),g[7]=m,g[8]=j,g[9]=x):x=g[9],u=x,g[10]!==u?(f=(0,a.jsx)(et,{className:"p-0 hidden lg:inline-block",itemClass:"text-xl",items:u}),g[10]=u,g[11]=f):f=g[11],f};var el=n(97400),es=n(38628);let er=e=>{let t,n,s,r,i=(0,l.c)(7),{mutate:o,isPending:c}=(0,y.Z_)();return i[0]!==o?(t=()=>o(),i[0]=o,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(es.UF6,{}),i[2]=n):n=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",children:(0,a.jsx)("path",{d:"M6.361 2.943 0 21.056h4.942l1.077-3.133H11.4l1.052 3.133H22.9c.71 0 1.1-.392 1.1-1.101V17.53c0-.71-.39-1.101-1.1-1.101h-6.483V4.045c0-.71-.392-1.102-1.101-1.102h-2.422c-.71 0-1.101.392-1.101 1.102v1.064l-.758-2.166zm2.324 5.948 1.688 5.018H7.144z"})}),i[3]=s):s=i[3],i[4]!==c||i[5]!==t?(r=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(el.m_,{"data-refresh-anilist-button-tooltip":!0,trigger:(0,a.jsx)(w.$n,{"data-refresh-anilist-button":!0,onClick:t,intent:"warning-subtle",size:"sm",rightIcon:n,loading:c,leftIcon:s,className:""}),children:"Refresh AniList"})}),i[4]=c,i[5]=t,i[6]=r):r=i[6],r};var ei=n(67187);function eo(){let e,t,n=(0,l.c)(4),s=(0,D.usePathname)();return n[0]!==s?(e=!s.startsWith("/entry")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-layout-header-background":!0,className:(0,f.cn)("bg-[#000] opacity-50 bg-contain bg-center bg-repeat z-[-2] w-full h-[20rem] absolute bottom-0")}),s.startsWith("/anilist")&&(0,a.jsx)("div",{"data-layout-header-background-anilist-icon-container":!0,className:"w-full flex items-center justify-center absolute bottom-0 h-[5rem] lg:hidden 2xl:flex",children:(0,a.jsx)(ei.vFL,{className:"text-5xl text-white relative z-[2] opacity-40"})}),(0,a.jsx)("div",{"data-layout-header-background-gradient":!0,className:"w-full absolute bottom-0 h-[8rem] bg-gradient-to-t from-[--background] to-transparent z-[-2]"})]}),n[0]=s,n[1]=e):e=n[1],n[2]!==e?(t=(0,a.jsx)(a.Fragment,{children:e}),n[2]=e,n[3]=t):t=n[3],t}var ec=n(52116),ed=n(63717);let eu=e=>{var t,n,s,r,i,o,c,d;let u,m,h,p,x,f,g,v,b,y,j,N,w,S=(0,l.c)(30),_=(0,G.v1)(),C=(0,D.usePathname)(),k=(0,ec.Wk)();null==_||null==(n=_.settings)||null==(t=n.library)||t.enableManga;let A="/"===C;S[0]!==A?(m={href:"/",isCurrent:A,name:"My library"},S[0]=A,S[1]=m):m=S[1],S[2]!==C?(h=C.startsWith("/schedule"),S[2]=C,S[3]=h):h=S[3],S[4]!==k?(p=k>0?(0,a.jsx)(ed.E,{className:"absolute top-1 right-2 h-2 w-2 p-0",size:"sm",intent:"alert-solid"}):void 0,S[4]=k,S[5]=p):p=S[5],S[6]!==h||S[7]!==p?(x={href:"/schedule",icon:null,isCurrent:h,name:"Schedule",addon:p},S[6]=h,S[7]=p,S[8]=x):x=S[8],S[9]!==C||S[10]!==(null==_||null==(r=_.settings)||null==(s=r.library)?void 0:s.enableManga)?(f=(null==_||null==(o=_.settings)||null==(i=o.library)?void 0:i.enableManga)&&{href:"/manga",icon:null,isCurrent:C.startsWith("/manga"),name:"Manga"},S[9]=C,S[10]=null==_||null==(d=_.settings)||null==(c=d.library)?void 0:c.enableManga,S[11]=f):f=S[11],S[12]!==f?(g=[f].filter(Boolean),S[12]=f,S[13]=g):g=S[13];let I=g;return S[14]!==C?(v=C.startsWith("/discover")||C.startsWith("/search"),S[14]=C,S[15]=v):v=S[15],S[16]!==v?(b={href:"/discover",icon:null,isCurrent:v,name:"Discover"},S[16]=v,S[17]=b):b=S[17],S[18]!==C?(y=C.startsWith("/anilist"),S[18]=C,S[19]=y):y=S[19],S[20]!==y?(j={href:"/anilist",icon:null,isCurrent:y,name:"AniList"},S[20]=y,S[21]=j):j=S[21],S[22]!==b||S[23]!==j||S[24]!==m||S[25]!==x||S[26]!==I?(N=[m,x,...I,b,j].filter(Boolean),S[22]=b,S[23]=j,S[24]=m,S[25]=x,S[26]=I,S[27]=N):N=S[27],u=N,S[28]!==u?(w=(0,a.jsx)(et,{className:"p-0 hidden lg:inline-block",itemClass:"text-xl",items:u,"data-top-menu":!0}),S[28]=u,S[29]=w):w=S[29],w};var em=n(10109),eh=n(76049),ep=n(28002);let ex=(0,g.eU)(!1),ef=(0,g.eU)(!1);function eg(e){let t,n,s=(0,l.c)(6),{asSidebarButton:r}=e,[i]=(0,h.fp)(ex),[,o]=(0,h.fp)(ef);return s[0]!==r||s[1]!==i||s[2]!==o?(t=i&&(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(w.K0,{"data-manual-progress-tracking-button":!0,intent:"primary-subtle",className:(0,f.cn)("animate-pulse"),icon:(0,a.jsx)(ep.OpB,{}),onClick:()=>o(!0)}):(0,a.jsx)(w.$n,{"data-manual-progress-tracking-button":!0,intent:"primary",className:(0,f.cn)("animate-pulse"),leftIcon:(0,a.jsx)(ep.OpB,{}),onClick:()=>o(!0),children:"Currently watching"})}),s[0]=r,s[1]=i,s[2]=o,s[3]=t):t=s[3],s[4]!==t?(n=(0,a.jsx)(a.Fragment,{children:t}),s[4]=t,s[5]=n):n=s[5],n}function ev(){let e,t,n,s,r,o,c,d,u,x,f,g,v,b=(0,l.c)(38),[y,j]=(0,h.fp)(ex),N=p.useRef(null),[S,_]=p.useState(null),[C,k]=(0,h.fp)(ef);b[0]!==y||b[1]!==j?(e={type:m.c.PLAYBACK_MANAGER_MANUAL_TRACKING_PLAYBACK_STATE,onMessage:e=>{y||j(!0),_(e)}},b[0]=y,b[1]=j,b[2]=e):e=b[2],(0,i.oA)(e),b[3]!==k||b[4]!==S?(t=()=>{null===N.current&&k(!0),N.current=S},b[3]=k,b[4]=S,b[5]=t):t=b[5],b[6]!==S?(n=[S],b[6]=S,b[7]=n):n=b[7],p.useEffect(t,n),b[8]!==j||b[9]!==k?(s={type:m.c.PLAYBACK_MANAGER_MANUAL_TRACKING_STOPPED,onMessage:()=>{j(!1),k(!1),_(null)}},b[8]=j,b[9]=k,b[10]=s):s=b[10],(0,i.oA)(s);let{mutate:A,isPending:I}=(0,em.gv)(),{isPending:T}=(0,em.a8)();b[11]!==j||b[12]!==k?(r={onSuccess:()=>{k(!1),_(null),j(!1)}},b[11]=j,b[12]=k,b[13]=r):r=b[13];let{mutate:D,isPending:M}=(0,em.mS)(r),O=C&&y;b[14]!==k?(o=e=>k(e),b[14]=k,b[15]=o):o=b[15],b[16]!==S?(c=S&&(0,a.jsxs)("div",{"data-manual-progress-tracking-modal-content":!0,className:"text-center relative overflow-hidden space-y-2",children:[(0,a.jsx)("p",{className:"text-[--muted]",children:"Playing externally"}),S.mediaCoverImage&&(0,a.jsx)("div",{className:"size-16 rounded-full relative mx-auto overflow-hidden mb-3",children:(0,a.jsx)(E.default,{src:S.mediaCoverImage,alt:"cover image",fill:!0,className:"object-cover object-center"})}),(0,a.jsx)("h3",{className:"text-lg font-medium line-clamp-1",children:null==S?void 0:S.mediaTitle}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["Episode ",null==S?void 0:S.episodeNumber,(0,a.jsxs)("span",{className:"text-[--muted]",children:[" / ",(null==S?void 0:S.mediaTotalEpisodes)&&(null==S?void 0:S.mediaTotalEpisodes)>0?null==S?void 0:S.mediaTotalEpisodes:"-"]})]})]}),b[16]=S,b[17]=c):c=b[17];let L=I||T||M;b[18]!==A?(d=()=>A(),b[18]=A,b[19]=d):d=b[19],b[20]!==I||b[21]!==L||b[22]!==d?(u=(0,a.jsx)(w.$n,{intent:"primary-subtle",disabled:L,onClick:d,className:"w-full",loading:I,children:"Update progress now"}),b[20]=I,b[21]=L,b[22]=d,b[23]=u):u=b[23];let P=I||T||M;return b[24]!==D?(x=()=>D(),b[24]=D,b[25]=x):x=b[25],b[26]!==M||b[27]!==P||b[28]!==x?(f=(0,a.jsx)(w.$n,{intent:"alert-subtle",disabled:P,onClick:x,className:"w-full",loading:M,children:"Stop"}),b[26]=M,b[27]=P,b[28]=x,b[29]=f):f=b[29],b[30]!==u||b[31]!==f?(g=(0,a.jsxs)("div",{"data-manual-progress-tracking-modal-buttons":!0,className:"flex gap-2 w-full",children:[u,f]}),b[30]=u,b[31]=f,b[32]=g):g=b[32],b[33]!==g||b[34]!==O||b[35]!==o||b[36]!==c?(v=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(eh.a,{"data-manual-progress-tracking-modal":!0,open:O,onOpenChange:o,titleClass:"text-center",contentClass:"!space-y-2 relative max-w-2xl",children:[c,g]})}),b[33]=g,b[34]=O,b[35]=o,b[36]=c,b[37]=v):v=b[37],v}var eb=n(82449),ey=n(75733),ej=n(35656),eN=n(93715),ew=n(4573),eS=n.n(ew),e_=n(41452);let eC=(0,g.eU)(!1),ek=(0,g.eU)(!1),eA=(0,g.eU)(!1),eI=(0,g.eU)(!1);function eT(e){let t,n,s=(0,l.c)(6),{asSidebarButton:r}=e,[,i]=(0,h.fp)(eC),o=(0,h.md)(eA),c=(0,h.md)(eI),d=o||c;return s[0]!==r||s[1]!==i||s[2]!==d?(t=d&&(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(w.K0,{"data-progress-tracking-button":!0,intent:"primary-subtle",className:(0,f.cn)("animate-pulse"),icon:(0,a.jsx)(ep.OpB,{}),onClick:()=>i(!0)}):(0,a.jsx)(w.$n,{"data-progress-tracking-button":!0,intent:"primary",className:(0,f.cn)("animate-pulse"),leftIcon:(0,a.jsx)(ep.OpB,{}),onClick:()=>i(!0),children:"Currently watching"})}),s[0]=r,s[1]=i,s[2]=d,s[3]=t):t=s[3],s[4]!==t?(n=(0,a.jsx)(a.Fragment,{children:t}),s[4]=t,s[5]=n):n=s[5],n}function eE(){var e,t,n,s,r,o,c,d,x,g,v,b,y,j,N;let S,_,C,k,A,I,T,D,O,L,P,R,U,B,z,W,F,Q,V,$,X,Y,Z,J,ee,et,en,ea,el,es,er,ei,eo,ec,ed=(0,l.c)(127),eu=(0,G.v1)(),ep=(0,q.jE)(),[ex,ef]=(0,h.fp)(eC),[eg,ev]=(0,h.fp)(ek),[ew,eT]=(0,h.fp)(eA),[eE,eO]=(0,h.fp)(eI),eL=ew||eE,[eP,eR]=p.useState(null),[eU,eH]=p.useState(null),[eG,eB]=p.useState(!1),eq=p.useRef(!1),[eK,ez]=p.useState(5),{data:eW,mutate:eF,isPending:eQ,reset:eV}=(0,em.X8)(),{mutate:e$}=(0,em.yN)(),{mutate:eX,isPending:eY}=(0,em.gv)(),eZ=null==eU||null==(e=eU.current)?void 0:e.name;ed[0]!==eZ?(S=[eZ],ed[0]=eZ,ed[1]=S):S=ed[1];let{mutate:eJ,isSuccess:e0}=(0,em.YI)(S),e1=null==eU||null==(t=eU.current)?void 0:t.name;ed[2]!==e1?(_=[e1],ed[2]=e1,ed[3]=_):_=ed[3];let{mutate:e2,isSuccess:e3}=(0,em.QQ)(_),e4=null==eP?void 0:eP.filename;ed[4]!==e4?(C=[e4],ed[4]=e4,ed[5]=C):C=ed[5];let{mutate:e5,isSuccess:e6,isPending:e8}=(0,em.R7)(C);ed[6]!==eO||ed[7]!==eT||ed[8]!==ef?(k={type:m.c.PLAYBACK_MANAGER_PROGRESS_TRACKING_STARTED,onMessage:e=>{(0,eN.v)("PlaybackManagerProgressTracking").info("Tracking started",e),eT(!0),eO(!1),ef(!0),eR(e)}},ed[6]=eO,ed[7]=eT,ed[8]=ef,ed[9]=k):k=ed[9],(0,i.oA)(k),ed[10]!==eO?(A={type:m.c.PLAYBACK_MANAGER_PROGRESS_VIDEO_COMPLETED,onMessage:e=>{(0,eN.v)("PlaybackManagerProgressTracking").info("Video completed",e),eO(!0),eR(e)}},ed[10]=eO,ed[11]=A):A=ed[11],(0,i.oA)(A);let{hasNextTorrentstreamEpisode:e7,autoplayNextTorrentstreamEpisode:e9,resetTorrentstreamAutoplayInfo:te}=(0,eb.j)(),{hasNextDebridstreamEpisode:tt,autoplayNextDebridstreamEpisode:tn,resetDebridstreamAutoplayInfo:ta}=(0,eb.ZH)();ed[12]!==eF||ed[13]!==eQ||ed[14]!==eU||ed[15]!==ep||ed[16]!==eV||ed[17]!==(null==eu||null==(s=eu.settings)||null==(n=s.library)?void 0:n.autoPlayNextEpisode)||ed[18]!==eO||ed[19]!==eT||ed[20]!==(null==eP?void 0:eP.completionPercentage)||ed[21]!==(null==eP?void 0:eP.progressUpdated)?(I={type:m.c.PLAYBACK_MANAGER_PROGRESS_TRACKING_STOPPED,onMessage:e=>{if((0,eN.v)("PlaybackManagerProgressTracking").info("Tracking stopped",e,"Completion percentage:",null==eP?void 0:eP.completionPercentage),eT(!1),(null==eP?void 0:eP.progressUpdated)&&((0,eN.v)("PlaybackManagerProgressTracking").info("Progress updated, setting isCompleted to false"),eO(!1)),"Player closed"===e?(K.oR.info("Player closed"),.8>=((null==eP?void 0:eP.completionPercentage)||0)&&eO(!1)):"Tracking stopped"===e?K.oR.info("Tracking stopped"):K.oR.error(e),ep.invalidateQueries({queryKey:[H.S.CONTINUITY.GetContinuityWatchHistory.key]}).then(),!eU&&(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7){var t,n;(null==eu||null==(n=eu.settings)||null==(t=n.library)?void 0:t.autoPlayNextEpisode)&&!eq.current&&!eQ&&(eV(),p.startTransition(()=>{eB(!0),eq.current=!0,eF(),ez(5)}))}eR(null)}},ed[12]=eF,ed[13]=eQ,ed[14]=eU,ed[15]=ep,ed[16]=eV,ed[17]=null==eu||null==(d=eu.settings)||null==(c=d.library)?void 0:c.autoPlayNextEpisode,ed[18]=eO,ed[19]=eT,ed[20]=null==eP?void 0:eP.completionPercentage,ed[21]=null==eP?void 0:eP.progressUpdated,ed[22]=I):I=ed[22],(0,i.oA)(I),ed[23]===Symbol.for("react.memo_cache_sentinel")?(T={isActive:!1,timerRef:null,countdownRef:null},ed[23]=T):T=ed[23];let tl=p.useRef(T);ed[24]===Symbol.for("react.memo_cache_sentinel")?(D=function(){try{tl.current.countdownRef&&clearInterval(tl.current.countdownRef),tl.current.timerRef&&clearTimeout(tl.current.timerRef)}catch(e){}},ed[24]=D):D=ed[24];let ts=D;ed[25]!==e$||ed[26]!==tn||ed[27]!==e9||ed[28]!==tt||ed[29]!==e7||ed[30]!==eQ||ed[31]!==eW||ed[32]!==ev?(O=()=>(eq.current&&!eQ&&(eW||e7||tt)&&(ts(),ev(!0),tl.current.countdownRef=setInterval(()=>{ez(eM)},1e3),tl.current.timerRef=setTimeout(()=>{eq.current&&(ev(!1),eW?e$():e7?e9():tt&&tn(),eB(!1),eq.current=!1),ts()},5e3)),()=>{ts()}),ed[25]=e$,ed[26]=tn,ed[27]=e9,ed[28]=tt,ed[29]=e7,ed[30]=eQ,ed[31]=eW,ed[32]=ev,ed[33]=O):O=ed[33],ed[34]!==tt||ed[35]!==e7||ed[36]!==eQ||ed[37]!==eW||ed[38]!==eG?(L=[eW,e7,tt,eG,eQ],ed[34]=tt,ed[35]=e7,ed[36]=eQ,ed[37]=eW,ed[38]=eG,ed[39]=L):L=ed[39],p.useEffect(O,L),ed[40]!==ew||ed[41]!==eT?(P={type:m.c.PLAYBACK_MANAGER_PROGRESS_PLAYBACK_STATE,onMessage:e=>{ew||eT(!0),eR(e)}},ed[40]=ew,ed[41]=eT,ed[42]=P):P=ed[42],(0,i.oA)(P);let tr=(0,q.jE)();ed[43]!==tr?(R={type:m.c.PLAYBACK_MANAGER_PROGRESS_UPDATED,onMessage:e=>{e&&(tr.invalidateQueries({queryKey:[H.S.ANIME_ENTRIES.GetAnimeEntry.key,String(e.mediaId)]}),tr.invalidateQueries({queryKey:[H.S.ANIME_COLLECTION.GetLibraryCollection.key]}),tr.invalidateQueries({queryKey:[H.S.ANILIST.GetAnimeCollection.key]}),eR(e),K.oR.success("Progress updated"))}},ed[43]=tr,ed[44]=R):R=ed[44],(0,i.oA)(R),ed[45]===Symbol.for("react.memo_cache_sentinel")?(U={type:m.c.PLAYBACK_MANAGER_PLAYLIST_STATE,onMessage:e=>{eH(e)}},ed[45]=U):U=ed[45],(0,i.oA)(U),ed[46]!==eJ||ed[47]!==e0?(B={title:"Play next episode",description:"Are you sure you want to play the next episode?",actionText:"Confirm",actionIntent:"success",onConfirm:()=>{e0||eJ()}},ed[46]=eJ,ed[47]=e0,ed[48]=B):B=ed[48];let ti=(0,ey.J)(B);ed[49]!==eY||ed[50]!==e5||ed[51]!==eJ||ed[52]!==eU||ed[53]!==(null==eP?void 0:eP.canPlayNext)||ed[54]!==(null==eP?void 0:eP.completionPercentage)||ed[55]!==eX?(z=()=>(eS().bind("u",()=>{!eY&&(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7&&eX()}),eS().bind("space",()=>{!eY&&(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7&&(eB(!1),eq.current=!1,(null==eP?void 0:eP.canPlayNext)&&!eU&&e5(),(null==eU?void 0:eU.next)&&eJ())}),eD),ed[49]=eY,ed[50]=e5,ed[51]=eJ,ed[52]=eU,ed[53]=null==eP?void 0:eP.canPlayNext,ed[54]=null==eP?void 0:eP.completionPercentage,ed[55]=eX,ed[56]=z):z=ed[56];let to=(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7,tc=null==eP?void 0:eP.canPlayNext,td=!!(null==eU?void 0:eU.next);ed[57]!==to||ed[58]!==tc||ed[59]!==td?(W=[to,tc,td],ed[57]=to,ed[58]=tc,ed[59]=td,ed[60]=W):W=ed[60],p.useEffect(z,W),ed[61]!==e5||ed[62]!==e6?(F={title:"Play next episode",description:"Are you sure you want to play the next episode?",actionText:"Confirm",actionIntent:"success",onConfirm:()=>{e6||e5()}},ed[61]=e5,ed[62]=e6,ed[63]=F):F=ed[63];let tu=(0,ey.J)(F);ed[64]!==e2||ed[65]!==e3?(Q={title:"Play next",actionText:"Confirm",actionIntent:"alert",description:"Are you sure you want to stop the playlist? It will be deleted.",onConfirm:()=>{e3||e2()}},ed[64]=e2,ed[65]=e3,ed[66]=Q):Q=ed[66];let tm=(0,ey.J)(Q);ed[67]!==ta||ed[68]!==te||ed[69]!==ev?(V=function(){ev(!1),eB(!1),eq.current=!1,te(),ta(),ts()},ed[67]=ta,ed[68]=te,ed[69]=ev,ed[70]=V):V=ed[70];let th=V;ed[71]!==eX?($=function(){eX()},ed[71]=eX,ed[72]=$):$=ed[72];let tp=$,tx=ex&&eL;ed[73]!==ef?(X=e=>ef(e),ed[73]=ef,ed[74]=X):X=ed[74],ed[75]!==eP?(Y=!!(null==eP?void 0:eP.completionPercentage)&&(0,a.jsx)("div",{"data-progress-tracking-modal-progress-bar":!0,className:"absolute left-0 top-0 w-full",children:(0,a.jsx)(u.z,{className:"h-2 rounded-lg",value:100*eP.completionPercentage})}),ed[75]=eP,ed[76]=Y):Y=ed[76],ed[77]!==(null==eu||null==(o=eu.settings)||null==(r=o.library)?void 0:r.autoUpdateProgress)||ed[78]!==eP?(Z=eP&&(0,a.jsxs)("div",{"data-progress-tracking-main-content":!0,className:"text-center relative overflow-hidden py-2 space-y-2",children:[eP.mediaCoverImage&&(0,a.jsx)("div",{className:"size-16 rounded-full relative mx-auto overflow-hidden mb-3",children:(0,a.jsx)(E.default,{src:eP.mediaCoverImage,alt:"cover image",fill:!0,className:"object-cover object-center"})}),(0,a.jsxs)("div",{"data-progress-tracking-title":!0,children:[(0,a.jsx)("h3",{className:"text-lg font-medium line-clamp-1",children:null==eP?void 0:eP.mediaTitle}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["Episode ",null==eP?void 0:eP.episodeNumber,(0,a.jsxs)("span",{className:"text-[--muted]",children:[" / ",(null==eP?void 0:eP.mediaTotalEpisodes)||"-"]})]})]}),(null==eu||null==(g=eu.settings)||null==(x=g.library)?void 0:x.autoUpdateProgress)&&!(null==eP?void 0:eP.progressUpdated)&&(0,a.jsx)("p",{"data-progress-tracking-auto-update-progress":!0,className:"text-[--muted] text-center text-sm",children:"Your progress will be automatically updated"}),(null==eP?void 0:eP.progressUpdated)&&(0,a.jsx)("p",{"data-progress-tracking-progress-updated":!0,className:"text-green-300 text-center",children:"Progress updated"})]}),ed[77]=null==eu||null==(b=eu.settings)||null==(v=b.library)?void 0:v.autoUpdateProgress,ed[78]=eP,ed[79]=Z):Z=ed[79],ed[80]!==tp||ed[81]!==eY||ed[82]!==eP?(J=!!(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7&&!eP.progressUpdated&&(0,a.jsx)("div",{"data-progress-tracking-update-progress-button":!0,className:"flex gap-2 justify-center items-center",children:(0,a.jsx)(w.$n,{intent:"primary-subtle",disabled:eY||(null==eP?void 0:eP.progressUpdated),onClick:tp,className:"w-full animate-pulse",loading:eY,children:"Update progress now"})}),ed[80]=tp,ed[81]=eY,ed[82]=eP,ed[83]=J):J=ed[83],ed[84]!==th||ed[85]!==tu||ed[86]!==eU||ed[87]!==(null==eP?void 0:eP.canPlayNext)||ed[88]!==(null==eP?void 0:eP.completionPercentage)||ed[89]!==e6||ed[90]!==e8?(ee=!!(null==eP?void 0:eP.completionPercentage)&&(null==eP?void 0:eP.completionPercentage)>.7&&(null==eP?void 0:eP.canPlayNext)&&!eU&&(0,a.jsx)("div",{"data-progress-tracking-play-next-episode-button":!0,className:"flex gap-2 justify-center items-center",children:(0,a.jsx)(w.$n,{intent:"gray-subtle",onClick:()=>{th(),tu.open()},className:"w-full",disabled:e6,loading:e8,leftIcon:(0,a.jsx)(M.XTW,{className:"text-2xl"}),children:"Play next episode"})}),ed[84]=th,ed[85]=tu,ed[86]=eU,ed[87]=null==eP?void 0:eP.canPlayNext,ed[88]=null==eP?void 0:eP.completionPercentage,ed[89]=e6,ed[90]=e8,ed[91]=ee):ee=ed[91],ed[92]!==th||ed[93]!==ti||ed[94]!==tm||ed[95]!==eU||ed[96]!==e0||ed[97]!==e3?(et=!!(null==eU?void 0:eU.next)&&(0,a.jsx)("div",{"data-progress-tracking-playlist":!0,className:"border rounded-[--radius-md] p-4 text-center relative overflow-hidden",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-center text-[--muted] mb-2 uppercase tracking-wide",children:"Playlist"}),!!eU.remaining&&(0,a.jsxs)("p",{"data-progress-tracking-playlist-remaining":!0,className:"text-[--muted]",children:[eU.remaining," episode",eU.remaining>1?"s":""," after this one"]}),(0,a.jsxs)("p",{"data-progress-tracking-playlist-next":!0,className:"text-center truncate line-clamp-1",children:["Next: ",(0,a.jsx)("span",{className:"font-semibold",children:null==eU||null==(y=eU.next)?void 0:y.name})]})]}),(0,a.jsxs)("div",{"data-progress-tracking-playlist-next-episode-button":!0,className:(0,f.cn)("w-full rounded-[--radius-md] relative overflow-hidden",e0?"opacity-50 pointer-events-none":"cursor-pointer"),onClick:()=>{e0||(th(),ti.open())},children:[(null==(j=eU.next)?void 0:j.mediaImage)&&(0,a.jsx)(E.default,{"data-progress-tracking-playlist-next-episode-button-image":!0,src:(null==(N=eU.next)?void 0:N.mediaImage)||"",placeholder:(0,ej.r)(700,475),sizes:"10rem",fill:!0,alt:"",className:"object-center object-cover z-[1]"}),(0,a.jsx)("div",{"data-progress-tracking-playlist-next-episode-button-container":!0,className:"inset-0 relative z-[2] bg-black border bg-opacity-70 hover:bg-opacity-80 transition flex flex-col gap-2 items-center justify-center p-4",children:(0,a.jsxs)("p",{"data-progress-tracking-playlist-next-episode-button-text":!0,className:"flex gap-2 items-center",children:[(0,a.jsx)(M.XTW,{className:"block text-2xl"})," Play next"]})})]}),(0,a.jsx)("div",{"data-progress-tracking-playlist-next-episode-button-stop-button-container":!0,className:"absolute -top-0.5 right-2",children:(0,a.jsx)(w.K0,{intent:"alert-subtle",onClick:()=>{e3||(th(),tm.open())},size:"sm",disabled:e0,loading:e3,icon:(0,a.jsx)(e_.uDv,{})})})]})}),ed[92]=th,ed[93]=ti,ed[94]=tm,ed[95]=eU,ed[96]=e0,ed[97]=e3,ed[98]=et):et=ed[98],ed[99]!==tx||ed[100]!==X||ed[101]!==Y||ed[102]!==Z||ed[103]!==J||ed[104]!==ee||ed[105]!==et?(en=(0,a.jsxs)(eh.a,{"data-progress-tracking-modal":!0,open:tx,onOpenChange:X,titleClass:"text-center",contentClass:"!space-y-0 relative max-w-2xl overflow-hidden",children:[Y,Z,J,ee,et]}),ed[99]=tx,ed[100]=X,ed[101]=Y,ed[102]=Z,ed[103]=J,ed[104]=ee,ed[105]=et,ed[106]=en):en=ed[106];let tf=eg&&eG;return ed[107]!==th?(ea=e=>{e||((0,eN.v)("PlaybackManagerProgressTracking").info("Auto play cancelled"),th())},ed[107]=th,ed[108]=ea):ea=ed[108],ed[109]!==eK?(el=(0,a.jsx)("div",{"data-progress-tracking-modal-auto-play-countdown-content":!0,className:"rounded-[--radius-md] text-center relative overflow-hidden",children:(0,a.jsx)("h3",{className:"text-5xl font-bold",children:eK})}),ed[109]=eK,ed[110]=el):el=ed[110],ed[111]!==tf||ed[112]!==ea||ed[113]!==el?(es=(0,a.jsx)(eh.a,{"data-progress-tracking-modal-auto-play-countdown":!0,open:tf,onOpenChange:ea,title:"Playing next episode in",titleClass:"text-center",contentClass:"!space-y-2 relative max-w-xl border-transparent !rounded-3xl",closeClass:"!text-[--red]",children:el}),ed[111]=tf,ed[112]=ea,ed[113]=el,ed[114]=es):es=ed[114],ed[115]!==ti?(er=(0,a.jsx)(ey.K,{...ti}),ed[115]=ti,ed[116]=er):er=ed[116],ed[117]!==tm?(ei=(0,a.jsx)(ey.K,{...tm}),ed[117]=tm,ed[118]=ei):ei=ed[118],ed[119]!==tu?(eo=(0,a.jsx)(ey.K,{...tu}),ed[119]=tu,ed[120]=eo):eo=ed[120],ed[121]!==en||ed[122]!==es||ed[123]!==er||ed[124]!==ei||ed[125]!==eo?(ec=(0,a.jsxs)(a.Fragment,{children:[en,es,er,ei,eo]}),ed[121]=en,ed[122]=es,ed[123]=er,ed[124]=ei,ed[125]=eo,ed[126]=ec):ec=ed[126],ec}function eD(){eS().unbind("u"),eS().unbind("space")}function eM(e){return e-1}var eO=n(17205),eL=n(61585),eP=n(39076),eR=n(78106),eU=n(22960),eH=n(80893);let eG=(0,g.eU)(!1);function eB(e){let t,n,s,r,i=(0,l.c)(9),[o,c]=(0,h.fp)(eG),{data:d}=(0,j.QJ)();return i[0]!==d?(t=(0,a.jsx)(eq,{mangaCollection:d}),i[0]=d,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(eQ,{}),i[2]=n):n=i[2],i[3]!==t?(s=(0,a.jsxs)("div",{className:"py-4 space-y-8","data-chapter-downloads-modal-content":!0,children:[t,n]}),i[3]=t,i[4]=s):s=i[4],i[5]!==o||i[6]!==c||i[7]!==s?(r=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eh.a,{open:o,onOpenChange:c,contentClass:"max-w-5xl",title:"Downloaded chapters","data-chapter-downloads-modal":!0,children:s})}),i[5]=o,i[6]=c,i[7]=s,i[8]=r):r=i[8],r}function eq(e){let t,n,s,r,i,o,m,h,p=(0,l.c)(31),{mangaCollection:x}=e,{downloadQueue:g,downloadQueueLoading:v,downloadQueueError:b,startDownloadQueue:y,stopDownloadQueue:j,isStartingDownloadQueue:S,isStoppingDownloadQueue:_,resetErroredChapters:C,isResettingErroredChapters:k,clearDownloadQueue:A,isClearingDownloadQueue:I}=(0,eP.I2)(),T=S||_||k||I;return p[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("h3",{children:"Queue"}),n=(0,a.jsx)("div",{className:"flex flex-1","data-chapter-download-queue-header-spacer":!0}),p[0]=t,p[1]=n):(t=p[0],n=p[1]),p[2]!==A||p[3]!==g||p[4]!==b||p[5]!==v||p[6]!==I||p[7]!==T||p[8]!==k||p[9]!==S||p[10]!==_||p[11]!==C||p[12]!==y||p[13]!==j?(s=!v&&!b&&(0,a.jsxs)("div",{className:"flex gap-2 items-center","data-chapter-download-queue-header-actions":!0,children:[!!(null==g?void 0:g.find(eF))&&(0,a.jsx)(w.$n,{intent:"warning-outline",size:"sm",disabled:T,onClick:()=>C(),loading:k,children:"Reset errored chapters"}),(null==g?void 0:g.find(eW))?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w.$n,{intent:"alert-subtle",size:"sm",onClick:()=>j(),loading:_,children:"Stop"})}):(0,a.jsxs)(a.Fragment,{children:[!!(null==g?void 0:g.length)&&(0,a.jsx)(w.$n,{intent:"alert-subtle",size:"sm",disabled:T,onClick:()=>A(),leftIcon:(0,a.jsx)(e_.Tfw,{className:"text-xl"}),loading:I,children:"Clear all"}),!!(null==g?void 0:g.length)&&!!(null==g?void 0:g.find(ez))&&(0,a.jsx)(w.$n,{intent:"success",size:"sm",disabled:T,onClick:()=>y(),leftIcon:(0,a.jsx)(eH.EnF,{className:"text-xl"}),loading:S,children:"Start"})]})]}),p[2]=A,p[3]=g,p[4]=b,p[5]=v,p[6]=I,p[7]=T,p[8]=k,p[9]=S,p[10]=_,p[11]=C,p[12]=y,p[13]=j,p[14]=s):s=p[14],p[15]!==s?(r=(0,a.jsxs)("div",{className:"flex w-full items-center","data-chapter-download-queue-header":!0,children:[t,n,s]}),p[15]=s,p[16]=r):r=p[16],p[17]!==b||p[18]!==v?(i=v?(0,a.jsx)(d.kt,{}):b?(0,a.jsx)(eR.D,{title:"Oops!",children:(0,a.jsx)("p",{children:"Could not fetch the download queue"})}):null,p[17]=b,p[18]=v,p[19]=i):i=p[19],p[20]!==g||p[21]!==b||p[22]!==v||p[23]!==(null==x?void 0:x.lists)?(o=(null==g?void 0:g.length)?(0,a.jsx)(eU.F,{className:"h-[14rem]","data-chapter-download-queue-scroll-area":!0,children:(0,a.jsx)("div",{className:"space-y-2","data-chapter-download-queue-scroll-area-content":!0,children:g.map(e=>{var t,n,l,s;let r=null==x||null==(l=x.lists)||null==(n=l.flatMap(eK))||null==(t=n.find(t=>{var n;return(null==t||null==(n=t.media)?void 0:n.id)===e.mediaId}))?void 0:t.media;return(0,a.jsxs)(c.Zp,{className:(0,f.cn)("px-3 py-2 bg-gray-900 space-y-1.5","errored"===e.status&&"border-[--orange]"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!!r&&(0,a.jsx)(N.i,{className:"font-semibold max-w-[180px] text-ellipsis truncate underline",href:"/manga/entry?id=".concat(r.id),children:null==(s=r.title)?void 0:s.userPreferred}),(0,a.jsxs)("p",{children:["Chapter ",e.chapterNumber," ",(0,a.jsxs)("span",{className:"text-[--muted] italic",children:["(id: ",e.chapterId,")"]})]}),"errored"===e.status&&(0,a.jsxs)("div",{className:"flex gap-1 items-center text-[--orange]",children:[(0,a.jsx)(ep.ZtR,{className:"text-2xl text-[--orange]"}),(0,a.jsx)("p",{children:"Errored"})]})]}),"downloading"===e.status&&(0,a.jsx)(u.z,{size:"sm",isIndeterminate:!0})]},e.mediaId+e.provider+e.chapterId)})})}):!v&&!b&&(0,a.jsx)("p",{className:"text-center text-[--muted] italic","data-chapter-download-queue-empty-state":!0,children:"Nothing in the queue"}),p[20]=g,p[21]=b,p[22]=v,p[23]=null==x?void 0:x.lists,p[24]=o):o=p[24],p[25]!==i||p[26]!==o?(m=(0,a.jsxs)(c.Zp,{className:"p-4 space-y-2","data-chapter-download-queue-card":!0,children:[i,o]}),p[25]=i,p[26]=o,p[27]=m):m=p[27],p[28]!==r||p[29]!==m?(h=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-4","data-chapter-download-queue-container":!0,children:[r,m]})}),p[28]=r,p[29]=m,p[30]=h):h=p[30],h}function eK(e){return e.entries}function ez(e){return"not_started"===e.status}function eW(e){return"downloading"===e.status}function eF(e){return"errored"===e.status}function eQ(e){let t,n,s,r,i=(0,l.c)(11),{data:o,isLoading:c,isError:u}=(0,eO.pK)();return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{className:"flex w-full items-center","data-chapter-download-list-header":!0,children:[(0,a.jsx)("h3",{children:"Downloaded"}),(0,a.jsx)("div",{className:"flex flex-1","data-chapter-download-list-header-spacer":!0})]}),i[0]=t):t=i[0],i[1]!==u||i[2]!==c?(n=c?(0,a.jsx)(d.kt,{}):u?(0,a.jsx)(eR.D,{title:"Oops!",children:(0,a.jsx)("p",{children:"Could not fetch the download queue"})}):null,i[1]=u,i[2]=c,i[3]=n):n=i[3],i[4]!==o||i[5]!==u||i[6]!==c?(s=(null==o?void 0:o.length)?(0,a.jsxs)(a.Fragment,{children:[null==o?void 0:o.filter(e8).sort(e6).sort(e3).map(e1),(0,a.jsx)("div",{"data-chapter-download-list-media-grid":!0,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 gap-4",children:null==o?void 0:o.filter(e0).sort(eJ).sort(eX).map(eV)})]}):!c&&!u&&(0,a.jsx)("p",{className:"text-center text-[--muted] italic","data-chapter-download-list-empty-state":!0,children:"No chapters downloaded"}),i[4]=o,i[5]=u,i[6]=c,i[7]=s):s=i[7],i[8]!==n||i[9]!==s?(r=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-4","data-chapter-download-list-container":!0,children:[t,(0,a.jsxs)("div",{className:"py-4 space-y-2","data-chapter-download-list-content":!0,children:[n,s]})]})}),i[8]=n,i[9]=s,i[10]=r):r=i[10],r}function eV(e){var t;let n=Object.values(e.downloadData).flatMap(e$).length;return(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(eL.V,{media:e.media,type:"manga",hideUnseenCountBadge:!0,hideAnilistEntryEditButton:!0,overlay:(0,a.jsxs)(ed.E,{className:"font-semibold text-white bg-gray-950 !bg-opacity-100 rounded-[--radius-md] text-base rounded-bl-none rounded-tr-none",intent:"gray",size:"lg",children:[n," chapter",1===n?"":"s"]})})},null==(t=e.media)?void 0:t.id)}function e$(e){return e}function eX(e,t){return Object.values(t.downloadData).flatMap(eZ).length-Object.values(e.downloadData).flatMap(eY).length}function eY(e){return e}function eZ(e){return e}function eJ(e,t){return e.mediaId-t.mediaId}function e0(e){return!!e.media}function e1(e){return(0,a.jsxs)(c.Zp,{className:(0,f.cn)("px-3 py-2 bg-gray-900 space-y-1"),children:[(0,a.jsxs)(N.i,{className:"font-semibold underline",href:"/manga/entry?id=".concat(e.mediaId),children:["Media ",e.mediaId]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("p",{children:[Object.values(e.downloadData).flatMap(e2).length," chapters"]})," - ",(0,a.jsx)("em",{className:"text-[--muted]",children:"Not in your AniList collection"})]})]},e.mediaId)}function e2(e){return e}function e3(e,t){return Object.values(t.downloadData).flatMap(e5).length-Object.values(e.downloadData).flatMap(e4).length}function e4(e){return e}function e5(e){return e}function e6(e,t){return e.mediaId-t.mediaId}function e8(e){return!e.media}var e7=n(3692);function e9(e){let t,n,s,r=(0,l.c)(5),i=(0,D.usePathname)(),o=(0,h.Xr)(eG);return i.startsWith("/manga")?(r[0]!==o?(t=()=>o(!0),r[0]=o,r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(e7.WCW,{}),r[2]=n):n=r[2],r[3]!==t?(s=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w.$n,{onClick:t,intent:"white-subtle",rounded:!0,size:"sm",leftIcon:n,children:"Downloads"})}),r[3]=t,r[4]=s):s=r[4],s):null}var te=n(36808),tt=n(57885),tn=n(91332),ta=n(63352),tl=n(69402),ts=n(52885),tr=n(60695),ti=n(53712),to=n(21410),tc=n(69779),td=n(31561);function tu(e){return{label:e.label,value:String(e.value)}}function tm(e){return{label:e.label,value:String(e.value)}}function th(e,t){var n;return t.name&&(e[t.name]=null!=(n=t.value)?n:""),e}function tp(e,t){if(!t.name)return e;switch(t.type){case"input":case"select":case"radio":e[t.name]=tc.Yj().optional();break;case"number":e[t.name]=tc.ai().optional();break;case"checkbox":e[t.name]=tc.zM().optional();break;case"date":e[t.name]=tc.p6().optional()}return e}var tx=n(77885);let tf=new Map([["flex",function(e){let t,n,s,r,i,o,c=(0,l.c)(16),{items:d,direction:u,gap:m,style:h,className:p}=e;c[0]!==d?(t=void 0===d?[]:d,c[0]=d,c[1]=t):t=c[1];let x=t,g=void 0===u?"row":u;c[2]!==p?(n=(0,f.cn)("flex",p),c[2]=p,c[3]=n):n=c[3],c[4]!==h?(s=h||{},c[4]=h,c[5]=s):s=c[5];let v="".concat(.25*(void 0===m?2:m),"rem");return c[6]!==g||c[7]!==s||c[8]!==v?(r={...s,gap:v,flexDirection:g},c[6]=g,c[7]=s,c[8]=v,c[9]=r):r=c[9],c[10]!==x?(i=x&&x.length>0&&(0,a.jsx)(tb,{data:x}),c[10]=x,c[11]=i):i=c[11],c[12]!==n||c[13]!==r||c[14]!==i?(o=(0,a.jsx)("div",{className:n,style:r,children:i}),c[12]=n,c[13]=r,c[14]=i,c[15]=o):o=c[15],o}],["text",function(e){let t,n,s=(0,l.c)(6),{text:r,style:i,className:o}=e;return s[0]!==o?(t=(0,f.cn)("w-full break-all",o),s[0]=o,s[1]=t):t=s[1],s[2]!==i||s[3]!==t||s[4]!==r?(n=(0,a.jsx)("p",{className:t,style:i,children:r}),s[2]=i,s[3]=t,s[4]=r,s[5]=n):n=s[5],n}],["div",function(e){let t,n,s,r,i=(0,l.c)(10),{items:o,style:c,className:d}=e;i[0]!==o?(t=void 0===o?[]:o,i[0]=o,i[1]=t):t=i[1];let u=t;return i[2]!==d?(n=(0,f.cn)("relative",d),i[2]=d,i[3]=n):n=i[3],i[4]!==u?(s=u&&u.length>0&&(0,a.jsx)(tb,{data:u}),i[4]=u,i[5]=s):s=i[5],i[6]!==c||i[7]!==n||i[8]!==s?(r=(0,a.jsx)("div",{className:n,style:c,children:s}),i[6]=c,i[7]=n,i[8]=s,i[9]=r):r=i[9],r}],["stack",function(e){let t,n,s,r,i,o,c=(0,l.c)(15),{items:d,style:u,gap:m,className:h}=e;c[0]!==d?(t=void 0===d?[]:d,c[0]=d,c[1]=t):t=c[1];let p=t;c[2]!==h?(n=(0,f.cn)("flex",h),c[2]=h,c[3]=n):n=c[3],c[4]!==u?(s=u||{},c[4]=u,c[5]=s):s=c[5];let x="".concat(.25*(void 0===m?2:m),"rem");return c[6]!==s||c[7]!==x?(r={...s,gap:x,flexDirection:"column"},c[6]=s,c[7]=x,c[8]=r):r=c[8],c[9]!==p?(i=p&&p.length>0&&(0,a.jsx)(tb,{data:p}),c[9]=p,c[10]=i):i=c[10],c[11]!==n||c[12]!==r||c[13]!==i?(o=(0,a.jsx)("div",{className:n,style:r,children:i}),c[11]=n,c[12]=r,c[13]=i,c[14]=o):o=c[14],o}],["input",function(e){var t,n,s;let r,i,o,c,d,u=(0,l.c)(21),{trayIcon:m}=tI(),{sendEventHandlerTriggeredEvent:h}=(0,td._L)(),{sendFieldRefSendValueEvent:x}=(0,td.B8)(),[f,g]=p.useState(e.value||(null==(t=e.fieldRef)?void 0:t.current)),v=(0,_.d)(f,200),b=p.useRef(!0);u[0]!==v||u[1]!==e.fieldRef||u[2]!==e.onChange||u[3]!==h||u[4]!==x||u[5]!==m.extensionId?(r=()=>{if(b.current){b.current=!1;return}e.onChange&&h({handlerName:e.onChange,event:{value:v}},m.extensionId),e.fieldRef&&x({fieldRef:e.fieldRef.__ID,value:v},m.extensionId)},u[0]=v,u[1]=e.fieldRef,u[2]=e.onChange,u[3]=h,u[4]=x,u[5]=m.extensionId,u[6]=r):r=u[6],u[7]!==v?(i=[v],u[7]=v,u[8]=i):i=u[8],(0,p.useEffect)(r,i),u[9]!==(null==(n=e.fieldRef)?void 0:n.__ID)?(o=t=>{var n;t.fieldRef===(null==(n=e.fieldRef)?void 0:n.__ID)&&g(t.value)},u[9]=null==(s=e.fieldRef)?void 0:s.__ID,u[10]=o):o=u[10],(0,td.Ql)(o,m.extensionId),u[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>g(e),u[11]=c):c=u[11];let y=e.size||"md";return u[12]!==e.className||u[13]!==e.disabled||u[14]!==e.id||u[15]!==e.label||u[16]!==e.placeholder||u[17]!==e.style||u[18]!==y||u[19]!==f?(d=(0,a.jsx)(ti.k,{id:e.id,label:e.label,placeholder:e.placeholder,style:e.style,value:f,onValueChange:c,disabled:e.disabled,size:y,fieldClass:e.className}),u[12]=e.className,u[13]=e.disabled,u[14]=e.id,u[15]=e.label,u[16]=e.placeholder,u[17]=e.style,u[18]=y,u[19]=f,u[20]=d):d=u[20],d}],["button",function(e){let t,n,s=(0,l.c)(13),{sendEventHandlerTriggeredEvent:r}=(0,td._L)(),{trayIcon:i}=tI();s[0]!==e.onClick||s[1]!==r||s[2]!==i?(t=function(){e.onClick&&r({handlerName:e.onClick,event:{}},i.extensionId)},s[0]=e.onClick,s[1]=r,s[2]=i,s[3]=t):t=s[3];let o=t,c=e.intent||"white-subtle",d=e.size||"sm",u=e.label||"Button";return s[4]!==o||s[5]!==e.className||s[6]!==e.disabled||s[7]!==e.loading||s[8]!==e.style||s[9]!==c||s[10]!==d||s[11]!==u?(n=(0,a.jsx)(w.$n,{intent:c,style:e.style,onClick:o,disabled:e.disabled,loading:e.loading,size:d,className:e.className,children:u}),s[4]=o,s[5]=e.className,s[6]=e.disabled,s[7]=e.loading,s[8]=e.style,s[9]=c,s[10]=d,s[11]=u,s[12]=n):n=s[12],n}],["form",function(e){let t,n,s,r,o,c,u,m,h=(0,l.c)(24),{name:x,fields:f}=e;(0,i.Y0)();let[g,v]=p.useState(f);tc.Ik(g.reduce(tp,{})),h[0]!==g?(t=g.reduce(th,{}),h[0]=g,h[1]=t):t=h[1],h[2]!==t?(n={defaultValues:t},h[2]=t,h[3]=n):n=h[3];let b=(0,to.mN)(n),{trayIcon:y}=tI(),{sendFormSubmittedEvent:j}=(0,td.q_)();h[4]!==x||h[5]!==j||h[6]!==y.extensionId?(s=e=>{j({formName:x,data:e},y.extensionId)},h[4]=x,h[5]=j,h[6]=y.extensionId,h[7]=s):s=h[7];let N=s;return h[8]!==f||h[9]!==b||h[10]!==x?(r=e=>{e.formName===x&&(e.fieldToReset?b.resetField(e.fieldToReset):(b.reset(),v([]),setTimeout(()=>{v(f)},250)))},h[8]=f,h[9]=b,h[10]=x,h[11]=r):r=h[11],(0,td.Fp)(r,y.extensionId),h[12]!==b||h[13]!==x?(o=e=>{if(e.formName===x)for(let[t,n]of Object.entries(e.data))b.setValue(t,n)},h[12]=b,h[13]=x,h[14]=o):o=h[14],(0,td.iA)(o,y.extensionId),h[15]!==b||h[16]!==N?(c=b.handleSubmit(N),h[15]=b,h[16]=N,h[17]=c):c=h[17],h[18]!==g||h[19]!==b?(u=(null==g?void 0:g.length)?g.map(e=>{var t,n,l,s,r;if(!e.name&&"submit"!==e.type)return null;switch(e.type){case"input":return(0,a.jsx)(ti.k,{label:e.label,placeholder:e.placeholder,...b.register(e.name)},e.id);case"number":return(0,a.jsx)(ti.k,{type:"number",label:e.label,placeholder:e.placeholder,...b.register(e.name)},e.id);case"select":return(0,a.jsx)(to.xI,{control:b.control,name:e.name,defaultValue:null!=(t=e.value)?t:"",render:t=>{var n,l;let{field:s}=t;return(0,a.jsx)(S.l,{label:e.label,name:e.name,options:null!=(l=null==(n=e.options)?void 0:n.map(tm))?l:[],placeholder:e.placeholder,value:s.value,onValueChange:e=>s.onChange(e)},e.id)}},e.id);case"checkbox":return(0,a.jsx)(to.xI,{control:b.control,name:e.name,defaultValue:null!=(n=e.value)&&n,render:t=>{let{field:n}=t;return(0,a.jsx)(ta.Sc,{label:e.label,value:n.value,onValueChange:e=>n.onChange(e)},e.id)}},e.id);case"switch":return(0,a.jsx)(to.xI,{control:b.control,name:e.name,defaultValue:null!=(l=e.value)&&l,render:t=>{let{field:n}=t;return(0,a.jsx)(tr.d,{label:e.label,value:n.value,onValueChange:e=>n.onChange(e)},e.id)}},e.id);case"radio":return(0,a.jsx)(to.xI,{control:b.control,name:e.name,defaultValue:null!=(s=e.value)?s:"",render:t=>{var n,l;let{field:s}=t;return(0,a.jsx)(ts.z,{label:e.label,name:e.name,options:null!=(l=null==(n=e.options)?void 0:n.map(tu))?l:[],value:s.value,onValueChange:e=>s.onChange(e)},e.id)}},e.id);case"date":return(0,a.jsx)(to.xI,{control:b.control,name:e.name,defaultValue:null!=(r=e.value)?r:"",render:t=>{let{field:n}=t;return(0,a.jsx)(tl.lr,{name:e.name,label:e.label,value:n.value,onValueChange:e=>n.onChange(e)},e.id)}},e.id);case"submit":return(0,a.jsx)(w.$n,{type:"submit",children:e.label},e.id);default:return null}}):(0,a.jsx)(d.kt,{}),h[18]=g,h[19]=b,h[20]=u):u=h[20],h[21]!==c||h[22]!==u?(m=(0,a.jsx)("form",{onSubmit:c,className:"space-y-4",children:u}),h[21]=c,h[22]=u,h[23]=m):m=h[23],m}],["switch",function(e){var t,n,s;let r,i,o,c,d,u=(0,l.c)(21),{trayIcon:m}=tI(),{sendEventHandlerTriggeredEvent:h}=(0,td._L)(),{sendFieldRefSendValueEvent:x}=(0,td.B8)(),[f,g]=p.useState(e.value||(null==(t=e.fieldRef)?void 0:t.current)),v=(0,_.d)(f,200),b=p.useRef(!0);u[0]!==e.fieldRef||u[1]!==e.onChange||u[2]!==h||u[3]!==x||u[4]!==m.extensionId||u[5]!==f?(r=()=>{if(b.current){b.current=!1;return}e.onChange&&h({handlerName:e.onChange,event:{value:f}},m.extensionId),e.fieldRef&&x({fieldRef:e.fieldRef.__ID,value:f},m.extensionId)},u[0]=e.fieldRef,u[1]=e.onChange,u[2]=h,u[3]=x,u[4]=m.extensionId,u[5]=f,u[6]=r):r=u[6],u[7]!==v?(i=[v],u[7]=v,u[8]=i):i=u[8],(0,p.useEffect)(r,i),u[9]!==(null==(n=e.fieldRef)?void 0:n.__ID)?(o=t=>{var n;t.fieldRef===(null==(n=e.fieldRef)?void 0:n.__ID)&&g(t.value)},u[9]=null==(s=e.fieldRef)?void 0:s.__ID,u[10]=o):o=u[10],(0,td.Ql)(o,m.extensionId);let y=e.side||"right";u[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>"boolean"==typeof e&&g(e),u[11]=c):c=u[11];let j=e.size||"sm";return u[12]!==e.className||u[13]!==e.disabled||u[14]!==e.id||u[15]!==e.label||u[16]!==e.style||u[17]!==y||u[18]!==j||u[19]!==f?(d=(0,a.jsx)(tr.d,{side:y,id:e.id,label:e.label,style:e.style,value:f,onValueChange:c,disabled:e.disabled,size:j,fieldClass:e.className}),u[12]=e.className,u[13]=e.disabled,u[14]=e.id,u[15]=e.label,u[16]=e.style,u[17]=y,u[18]=j,u[19]=f,u[20]=d):d=u[20],d}],["radio-group",function(e){var t,n,s;let r,i,o,c,d,u=(0,l.c)(20),{trayIcon:m}=tI(),{sendEventHandlerTriggeredEvent:h}=(0,td._L)(),{sendFieldRefSendValueEvent:x}=(0,td.B8)(),[f,g]=p.useState(e.value||(null==(t=e.fieldRef)?void 0:t.current)),v=(0,_.d)(f,200),b=p.useRef(!0);u[0]!==e.fieldRef||u[1]!==e.onChange||u[2]!==h||u[3]!==x||u[4]!==m.extensionId||u[5]!==f?(r=()=>{if(b.current){b.current=!1;return}e.onChange&&h({handlerName:e.onChange,event:{value:f}},m.extensionId),e.fieldRef&&x({fieldRef:e.fieldRef.__ID,value:f},m.extensionId)},u[0]=e.fieldRef,u[1]=e.onChange,u[2]=h,u[3]=x,u[4]=m.extensionId,u[5]=f,u[6]=r):r=u[6],u[7]!==v?(i=[v],u[7]=v,u[8]=i):i=u[8],(0,p.useEffect)(r,i),u[9]!==(null==(n=e.fieldRef)?void 0:n.__ID)?(o=t=>{var n;t.fieldRef===(null==(n=e.fieldRef)?void 0:n.__ID)&&g(t.value)},u[9]=null==(s=e.fieldRef)?void 0:s.__ID,u[10]=o):o=u[10],(0,td.Ql)(o,m.extensionId),u[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>g(e),u[11]=c):c=u[11];let y=e.size||"md";return u[12]!==e.className||u[13]!==e.disabled||u[14]!==e.id||u[15]!==e.label||u[16]!==e.options||u[17]!==y||u[18]!==f?(d=(0,a.jsx)(ts.z,{id:e.id,label:e.label,options:e.options,value:f,onValueChange:c,disabled:e.disabled,size:y,fieldClass:e.className}),u[12]=e.className,u[13]=e.disabled,u[14]=e.id,u[15]=e.label,u[16]=e.options,u[17]=y,u[18]=f,u[19]=d):d=u[19],d}],["checkbox",function(e){var t,n,s;let r,i,o,c,d,u=(0,l.c)(20),{trayIcon:m}=tI(),{sendEventHandlerTriggeredEvent:h}=(0,td._L)(),{sendFieldRefSendValueEvent:x}=(0,td.B8)(),[f,g]=p.useState(e.value||(null==(t=e.fieldRef)?void 0:t.current)),v=(0,_.d)(f,200),b=p.useRef(!0);u[0]!==e.fieldRef||u[1]!==e.onChange||u[2]!==h||u[3]!==x||u[4]!==m.extensionId||u[5]!==f?(r=()=>{if(b.current){b.current=!1;return}e.onChange&&h({handlerName:e.onChange,event:{value:f}},m.extensionId),e.fieldRef&&x({fieldRef:e.fieldRef.__ID,value:f},m.extensionId)},u[0]=e.fieldRef,u[1]=e.onChange,u[2]=h,u[3]=x,u[4]=m.extensionId,u[5]=f,u[6]=r):r=u[6],u[7]!==v?(i=[v],u[7]=v,u[8]=i):i=u[8],(0,p.useEffect)(r,i),u[9]!==(null==(n=e.fieldRef)?void 0:n.__ID)?(o=t=>{var n;t.fieldRef===(null==(n=e.fieldRef)?void 0:n.__ID)&&g(t.value)},u[9]=null==(s=e.fieldRef)?void 0:s.__ID,u[10]=o):o=u[10],(0,td.Ql)(o,m.extensionId),u[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>"boolean"==typeof e&&g(e),u[11]=c):c=u[11];let y=e.size||"md";return u[12]!==e.className||u[13]!==e.disabled||u[14]!==e.id||u[15]!==e.label||u[16]!==e.style||u[17]!==y||u[18]!==f?(d=(0,a.jsx)(ta.Sc,{id:e.id,label:e.label,style:e.style,value:f,onValueChange:c,disabled:e.disabled,size:y,fieldClass:e.className}),u[12]=e.className,u[13]=e.disabled,u[14]=e.id,u[15]=e.label,u[16]=e.style,u[17]=y,u[18]=f,u[19]=d):d=u[19],d}],["select",function(e){var t,n,s;let r,i,o,c,d,u=(0,l.c)(21),{trayIcon:m}=tI(),{sendEventHandlerTriggeredEvent:h}=(0,td._L)(),{sendFieldRefSendValueEvent:x}=(0,td.B8)(),[f,g]=p.useState(e.value||(null==(t=e.fieldRef)?void 0:t.current)),v=(0,_.d)(f,200),b=p.useRef(!0);u[0]!==v||u[1]!==e.fieldRef||u[2]!==e.onChange||u[3]!==h||u[4]!==x||u[5]!==m.extensionId?(r=()=>{if(b.current){b.current=!1;return}e.onChange&&h({handlerName:e.onChange,event:{value:v}},m.extensionId),e.fieldRef&&x({fieldRef:e.fieldRef.__ID,value:v},m.extensionId)},u[0]=v,u[1]=e.fieldRef,u[2]=e.onChange,u[3]=h,u[4]=x,u[5]=m.extensionId,u[6]=r):r=u[6],u[7]!==v?(i=[v],u[7]=v,u[8]=i):i=u[8],(0,p.useEffect)(r,i),u[9]!==(null==(n=e.fieldRef)?void 0:n.__ID)?(o=t=>{var n;t.fieldRef===(null==(n=e.fieldRef)?void 0:n.__ID)&&g(t.value)},u[9]=null==(s=e.fieldRef)?void 0:s.__ID,u[10]=o):o=u[10],(0,td.Ql)(o,m.extensionId),u[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>g(e),u[11]=c):c=u[11];let y=e.size||"md";return u[12]!==e.className||u[13]!==e.disabled||u[14]!==e.id||u[15]!==e.label||u[16]!==e.options||u[17]!==e.style||u[18]!==y||u[19]!==f?(d=(0,a.jsx)(S.l,{id:e.id,label:e.label,style:e.style,options:e.options,value:f,onValueChange:c,disabled:e.disabled,size:y,fieldClass:e.className}),u[12]=e.className,u[13]=e.disabled,u[14]=e.id,u[15]=e.label,u[16]=e.options,u[17]=e.style,u[18]=y,u[19]=f,u[20]=d):d=u[20],d}]]);function tg(e){let t,n=(0,l.c)(2),{type:s}=e;return n[0]!==s?(t=(0,a.jsxs)("div",{className:"p-4 text-muted-foreground",children:['Component type "',s,'" not found']}),n[0]=s,n[1]=t):t=n[1],t}function tv(e){let t,n,s=(0,l.c)(3),{error:r}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("p",{children:"Something went wrong:"}),s[0]=t):t=s[0],s[1]!==r.message?(n=(0,a.jsxs)("div",{className:"p-4 text-destructive",role:"alert",children:[t,(0,a.jsx)("pre",{className:"mt-2 text-sm",children:r.message})]}),s[1]=r.message,s[2]=n):n=s[2],n}function tb(e){let t,n,s=(0,l.c)(17),{data:r,fallback:i}=e,o=void 0===i?tg:i,c=function(){let e=(0,p.useContext)(ty);if(!e)throw Error("usePluginRegistry must be used within a PluginProvider");return e}();if(Array.isArray(r)){let e,t;if(s[0]!==o||s[1]!==r){let t;s[3]!==o?(t=e=>(0,a.jsx)(tb,{data:e,fallback:o},e.key||e.id),s[3]=o,s[4]=t):t=s[4],e=r.map(t),s[0]=o,s[1]=r,s[2]=e}else e=s[2];return s[5]!==e?(t=(0,a.jsx)(a.Fragment,{children:e}),s[5]=e,s[6]=t):t=s[6],t}s[7]!==r.type||s[8]!==c?(t=c.get(r.type),s[7]=r.type,s[8]=c,s[9]=t):t=s[9];let d=t;if(!d){let e;return s[10]!==o||s[11]!==r.type?(e=(0,a.jsx)(o,{type:r.type}),s[10]=o,s[11]=r.type,s[12]=e):e=s[12],e}return s[13]!==d||s[14]!==r.id||s[15]!==r.props?(n=(0,a.jsx)(tx.tH,{FallbackComponent:tv,children:(0,a.jsx)(d,{...r.props},r.id)}),s[13]=d,s[14]=r.id,s[15]=r.props,s[16]=n):n=s[16],n}let ty=(0,p.createContext)(null);function tj(e){let t,n=(0,l.c)(3),{children:s,registry:r}=e;return n[0]!==s||n[1]!==r?(t=(0,a.jsx)(ty.Provider,{value:r,children:s}),n[0]=s,n[1]=r,n[2]=t):t=n[2],t}var tN=n(75435);function tw(e,t){var n;let a=((null==(n=e.ownerDocument)?void 0:n.defaultView)||window).getComputedStyle(e);return a.getPropertyValue(t)||a[t]}function tS(e){return e?tw(e,"fontSize")||tS(e.parentElement):tw(window.document.documentElement,"fontSize")}var t_=n(21096),tC=n(43994);let tk=p.createContext({place:"sidebar",width:null,isPinned:!1,trayIcon:{extensionId:"",extensionName:"",iconUrl:"",withContent:!1,tooltipText:"",badgeNumber:0,badgeIntent:"info",width:"30rem",minHeight:"auto"}});function tA(e){let t,n=(0,l.c)(3);return n[0]!==e.children||n[1]!==e.props?(t=(0,a.jsx)(tk.Provider,{value:e.props,children:e.children}),n[0]=e.children,n[1]=e.props,n[2]=t):t=n[2],t}function tI(){let e=p.useContext(tk);if(!e)throw Error("usePluginTray must be used within a PluginTrayProvider");return e}function tT(e){let t,n,s,r,i,o,c,d,u,m,x,g,v,b,y,j,N,w,S=(0,l.c)(59),[_,C]=p.useState(!1),[k,A]=p.useState(0),[I,T]=p.useState("info"),{sendTrayOpenedEvent:D}=(0,td.ob)(),{sendTrayClosedEvent:M}=(0,td.z0)(),{sendTrayClickedEvent:O}=(0,td._n)(),L=(0,h.md)(tL),[P,R]=(0,h.fp)(tP),U=p.useRef(!0);S[0]!==_||S[1]!==e.trayIcon.extensionId||S[2]!==M||S[3]!==D?(t=()=>{if(U.current){U.current=!1;return}_?D({},e.trayIcon.extensionId):M({},e.trayIcon.extensionId)},S[0]=_,S[1]=e.trayIcon.extensionId,S[2]=M,S[3]=D,S[4]=t):t=S[4],S[5]!==_?(n=[_],S[5]=_,S[6]=n):n=S[6],p.useEffect(t,n);let H=p.useRef(!1);S[7]!==e.trayIcon.extensionId||S[8]!==(null==P?void 0:P.extensionId)?(s=()=>{if((null==P?void 0:P.extensionId)===e.trayIcon.extensionId&&!H.current){let e=setTimeout(()=>{H.current=!0,C(!0)},100);return()=>clearTimeout(e)}},S[7]=e.trayIcon.extensionId,S[8]=null==P?void 0:P.extensionId,S[9]=s):s=S[9],S[10]!==P?(r=[P],S[10]=P,S[11]=r):r=S[11],p.useEffect(s,r),S[12]!==_||S[13]!==e.trayIcon.extensionId||S[14]!==R||S[15]!==(null==P?void 0:P.extensionId)?(i=()=>{(null==P?void 0:P.extensionId)===e.trayIcon.extensionId&&!_&&H.current&&(R(null),H.current=!1)},S[12]=_,S[13]=e.trayIcon.extensionId,S[14]=R,S[15]=null==P?void 0:P.extensionId,S[16]=i):i=S[16],S[17]!==_?(o=[_],S[17]=_,S[18]=o):o=S[18],p.useEffect(i,o),S[19]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{A(e.badgeNumber),T(e.badgeIntent)},S[19]=c):c=S[19],(0,td.Y8)(c,e.trayIcon.extensionId),S[20]!==L||S[21]!==e.isPinned?(d=t=>{L&&e.isPinned&&C(!0)},S[20]=L,S[21]=e.isPinned,S[22]=d):d=S[22],(0,td.yi)(d,e.trayIcon.extensionId),S[23]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{C(!1)},S[23]=u):u=S[23],(0,td.of)(u,e.trayIcon.extensionId),S[24]!==e.trayIcon.extensionId||S[25]!==O?(m=function(){O({},e.trayIcon.extensionId)},S[24]=e.trayIcon.extensionId,S[25]=O,S[26]=m):m=S[26];let G=m,B=e.trayIcon.extensionName;S[27]!==I||S[28]!==k||S[29]!==G||S[30]!==e.trayIcon.iconUrl?(x=()=>(0,a.jsxs)("div",{"data-plugin-tray-icon":!0,className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-800 cursor-pointer transition-all relative select-none",onClick:G,children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center overflow-hidden relative","data-plugin-tray-icon-inner-container":!0,children:e.trayIcon.iconUrl?(0,a.jsx)(E.default,{src:e.trayIcon.iconUrl,alt:"logo",fill:!0,className:"p-1 w-full h-full object-contain","data-plugin-tray-icon-image":!0}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center","data-plugin-tray-icon-image-fallback":!0,children:(0,a.jsx)(tC.Low,{className:"text-2xl"})})}),!!k&&(0,a.jsx)(ed.E,{intent:"".concat(I,"-solid"),size:"sm",className:"absolute -top-2 -right-2 z-10 select-none pointer-events-none","data-plugin-tray-icon-badge":!0,children:k})]}),S[27]=I,S[28]=k,S[29]=G,S[30]=e.trayIcon.iconUrl,S[31]=x):x=S[31];let q=x,K=function e(t,n){var a,l;if(t.trim().startsWith("calc(")){let a=t.replace(/^calc\(\s*/,"").replace(/\s*\)$/,"").replace(/(-?[\d.]+[a-z%]+)/g,t=>isNaN(Number(t))?e(t,n).toString():t);try{let e=a.replace(/\s+/g," ").replace(/\s*([+\-*/()])\s*/g,"$1");return Function("'use strict'; return (".concat(e,")"))()}catch(e){return console.error("Error evaluating calc() expression:",e),0}}let s=null!=(l=null==n||null==(a=n.ownerDocument)?void 0:a.defaultView)?l:window,r=s.document.documentElement||s.document.body,[i,o]=function(e){var t,n;let a=e||"0";if(a.trim().startsWith("calc(")){return n=0,[0,"calc"]}let l=Number.parseFloat(a),s=a.match(/[\d-.]+(\w+)$/);return[l,(null!=(t=null==s?void 0:s[1])?t:"").toLowerCase()]}(t);switch(o){case"rem":return i*e(tS(window.document.documentElement));case"em":return i*e(tS(n),null==n?void 0:n.parentElement);case"in":return 96*i;case"q":return 96*i/25.4/4;case"mm":return 96*i/25.4;case"cm":return 96*i*10/25.4;case"pt":return 96*i/72;case"pc":return 96*i/6;case"vh":return(i*s.innerHeight||r.clientWidth)/100;case"vw":return(i*s.innerWidth||r.clientHeight)/100;case"vmin":return i*Math.min(s.innerWidth||r.clientWidth,s.innerHeight||r.clientHeight)/100;case"vmax":return i*Math.max(s.innerWidth||r.clientWidth,s.innerHeight||r.clientHeight)/100;default:return i}}(e.trayIcon.width||"30rem"),z=e.width&&e.width<1024?K>=e.width?"calc(100vw - 30px)":K:e.trayIcon.width||"30rem";if(!e.trayIcon.withContent){let e;return S[32]!==q||S[33]!==B?(e=(0,a.jsx)("div",{className:"cursor-pointer",children:B?(0,a.jsx)(el.m_,{side:"right",trigger:(0,a.jsx)("div",{"data-plugin-tray-icon-tooltip-trigger":!0,children:(0,a.jsx)(q,{})}),"data-plugin-tray-icon-tooltip":!0,children:B}):(0,a.jsx)(q,{})}),S[32]=q,S[33]=B,S[34]=e):e=S[34],e}S[35]!==q||S[36]!==e.place||S[37]!==B?(g=(0,a.jsx)(t_.l9,{asChild:!0,children:(0,a.jsx)("div",{"data-plugin-tray-icon-trigger":!0,children:B?(0,a.jsx)(el.m_,{side:"sidebar"===e.place?"right":"bottom",trigger:(0,a.jsx)("div",{"data-plugin-tray-icon-tooltip-trigger":!0,children:(0,a.jsx)(q,{})}),"data-plugin-tray-icon-tooltip":!0,children:B}):(0,a.jsx)(q,{})})}),S[35]=q,S[36]=e.place,S[37]=B,S[38]=g):g=S[38];let W="sidebar"===e.place?"right":"bottom";S[39]===Symbol.for("react.memo_cache_sentinel")?(v=(0,f.cn)(tN.x.root(),"bg-gray-950 p-0 shadow-xl rounded-xl mb-4"),S[39]=v):v=S[39];let F=e.trayIcon.minHeight||"auto",Q=e.width&&e.width<1024?"10px":void 0;return S[40]!==z||S[41]!==F||S[42]!==Q?(b={width:z,minHeight:F,marginLeft:Q},S[40]=z,S[41]=F,S[42]=Q,S[43]=b):b=S[43],S[44]!==_||S[45]!==e?(y=(0,a.jsx)(tD,{open:_,setOpen:C,...e}),S[44]=_,S[45]=e,S[46]=y):y=S[46],S[47]!==e||S[48]!==y?(j=(0,a.jsx)(tA,{props:e,children:y}),S[47]=e,S[48]=y,S[49]=j):j=S[49],S[50]!==W||S[51]!==v||S[52]!==b||S[53]!==j?(N=(0,a.jsx)(t_.ZL,{children:(0,a.jsx)(t_.UC,{sideOffset:10,side:W,className:v,onOpenAutoFocus:tE,style:b,children:j})}),S[50]=W,S[51]=v,S[52]=b,S[53]=j,S[54]=N):N=S[54],S[55]!==_||S[56]!==g||S[57]!==N?(w=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(t_.bL,{open:_,onOpenChange:C,modal:!1,children:[g,N]})}),S[55]=_,S[56]=g,S[57]=N,S[58]=w):w=S[58],w}function tE(e){return e.preventDefault()}function tD(e){let t,n,s,r,i,o=(0,l.c)(10),{trayIcon:c,open:u}=e,{sendRenderTrayEvent:m}=(0,td.$w)();o[0]!==u||o[1]!==m||o[2]!==c.extensionId?(t=()=>{u&&m({},c.extensionId)},o[0]=u,o[1]=m,o[2]=c.extensionId,o[3]=t):t=o[3],o[4]!==u?(n=[u],o[4]=u,o[5]=n):n=o[5],p.useEffect(t,n);let[h,x]=p.useState(null);return o[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{x(e)},o[6]=s):s=o[6],(0,td.lg)(s,c.extensionId),o[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,f.cn)("max-h-[35rem] overflow-y-auto p-3"),o[7]=r):r=o[7],o[8]!==h?(i=(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:r,children:(0,a.jsx)(tj,{registry:tf,children:h&&h.components?(0,a.jsx)(tb,{data:h.components}):(0,a.jsx)(d.kt,{})})})}),o[8]=h,o[9]=i):i=o[9],i}var tM=n(50943);let tO=(0,g.eU)([]),tL=(0,g.eU)(!1),tP=(0,g.eU)(null),tR=e=>{let t,n,s,r=(0,l.c)(50),{place:i,developmentModeExtensions:o,isReloadingExtension:c,reloadExternalExtension:d,trayIcons:u,settings:m,width:x}=e,{mutate:g,isPending:v}=(0,Q.D3)();r[0]!==(null==m?void 0:m.pinnedTrayPluginIds)?(t=(null==m?void 0:m.pinnedTrayPluginIds)||[],r[0]=null==m?void 0:m.pinnedTrayPluginIds,r[1]=t):t=r[1];let b=t;r[2]!==b?(n=e=>b.includes(e),r[2]=b,r[3]=n):n=r[3];let y=n,[j,N]=(0,h.fp)(tP),[S,_]=p.useState(!1);if(r[4]!==o||r[5]!==y||r[6]!==c||r[7]!==v||r[8]!==b||r[9]!==i||r[10]!==d||r[11]!==g||r[12]!==N||r[13]!==S||r[14]!==u||r[15]!==(null==j?void 0:j.extensionId)||r[16]!==x){let e,t,n,l,m,h,p,C,k;r[18]!==y||r[19]!==(null==j?void 0:j.extensionId)?(e=e=>y(e.extensionId)||e.extensionId===(null==j?void 0:j.extensionId),r[18]=y,r[19]=null==j?void 0:j.extensionId,r[20]=e):e=r[20];let A=u.filter(e),I="top"===i&&"flex-row w-auto my-0 justify-start px-2 py-2 border-none",T=A.length>0&&"border-[--border]";r[21]!==I||r[22]!==T?(t=(0,f.cn)("w-10 mx-auto p-1 my-2","flex flex-col gap-1 items-center border border-transparent justify-center rounded-full transition-all duration-300 select-none",I,T),r[21]=I,r[22]=T,r[23]=t):t=r[23];let D="top"===i?"bottom":"right";r[24]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{children:(0,a.jsx)(el.m_,{side:"right",trigger:(0,a.jsx)(w.K0,{intent:"gray-basic",size:"sm",icon:(0,a.jsx)(tC.Cu$,{className:"size-5 text-[--muted]"}),className:"rounded-full hover:rotate-360 transition-all duration-300"}),children:"Tray plugins"})}),r[24]=n):n=r[24],r[25]!==y||r[26]!==v||r[27]!==b||r[28]!==g||r[29]!==N||r[30]!==u?(l=null==u?void 0:u.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-between bg-[--subtle] rounded-md px-2 py-1 max-w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer max-w-full",onClick:()=>{N(e),_(!1)},children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center overflow-hidden relative flex-none",children:e.iconUrl?(0,a.jsx)(E.default,{src:e.iconUrl,alt:"logo",fill:!0,className:"p-1 w-full h-full object-contain","data-plugin-tray-icon-image":!0}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-none","data-plugin-tray-icon-image-fallback":!0,children:(0,a.jsx)(tC.Low,{className:"text-2xl"})})}),(0,a.jsx)("p",{className:"text-sm font-medium line-clamp-1 tracking-wide",children:e.extensionName})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(el.m_,{trigger:(0,a.jsx)("div",{children:y(e.extensionId)?(0,a.jsx)(w.K0,{intent:"primary-basic",size:"sm",icon:(0,a.jsx)(eH.lur,{className:"size-5"}),className:"rounded-full",onClick:()=>{g({pinnedTrayPluginIds:b.filter(t=>t!==e.extensionId)})},disabled:v}):(0,a.jsx)(w.K0,{intent:"gray-basic",size:"sm",icon:(0,a.jsx)(eH.xi4,{className:"size-5 text-[--muted]"}),className:"rounded-full",onClick:()=>{g({pinnedTrayPluginIds:[...b,e.extensionId]})},disabled:v})}),children:y(e.extensionId)?"Unpin":"Pin"})})]},e.extensionId)),r[25]=y,r[26]=v,r[27]=b,r[28]=g,r[29]=N,r[30]=u,r[31]=l):l=r[31],r[32]!==u.length?(m=!u.length&&(0,a.jsx)("p",{className:"text-sm text-[--muted] py-1 text-center w-full",children:"No tray plugins"}),r[32]=u.length,r[33]=m):m=r[33],r[34]!==l||r[35]!==m?(h=(0,a.jsxs)("div",{className:"space-y-1 max-h-[310px] overflow-y-auto","data-plugin-sidebar-debug-popover-content":!0,children:[l,m]}),r[34]=l,r[35]=m,r[36]=h):h=r[36],r[37]!==h||r[38]!==D||r[39]!==S?(p=(0,a.jsx)(tN.A,{open:S,onOpenChange:_,side:D,trigger:n,className:"p-2 w-[300px]","data-plugin-sidebar-debug-popover":!0,modal:!1,children:h}),r[37]=h,r[38]=D,r[39]=S,r[40]=p):p=r[40],r[41]!==o||r[42]!==c||r[43]!==i||r[44]!==d?(C=!!o.length&&(0,a.jsx)(tN.A,{side:"top"===i?"bottom":"right",trigger:(0,a.jsx)("div",{children:(0,a.jsx)(w.K0,{intent:"warning-basic",size:"sm",icon:(0,a.jsx)(tC.OCx,{className:"size-4"}),className:"rounded-full"})}),className:"p-2","data-plugin-sidebar-debug-popover":!0,modal:!1,children:(0,a.jsxs)("div",{className:"space-y-2","data-plugin-sidebar-debug-popover-content":!0,children:[(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsx)("p",{className:"font-bold",children:"Debug"}),(0,a.jsx)("p",{className:"text-xs text-[--muted]",children:"These extensions are loaded in development mode."})]}),null==o?void 0:o.sort(tG).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-between bg-[--subtle] rounded-md px-2 py-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.id}),(0,a.jsx)("div",{children:(0,a.jsx)(w.K0,{intent:"warning-basic",size:"sm",icon:(0,a.jsx)(tC.JbZ,{className:"size-5"}),className:"rounded-full",onClick:()=>d({id:e.id}),loading:c})})]},e.id))]})}),r[41]=o,r[42]=c,r[43]=i,r[44]=d,r[45]=C):C=r[45],r[46]!==y||r[47]!==i||r[48]!==x?(k=(e,t)=>(0,a.jsx)(tT,{trayIcon:e,isPinned:y(e.extensionId),place:i,width:x},t),r[46]=y,r[47]=i,r[48]=x,r[49]=k):k=r[49],s=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{"data-plugin-sidebar-tray":!0,className:t,children:[p,C,A.map(k)]})}),r[4]=o,r[5]=y,r[6]=c,r[7]=v,r[8]=b,r[9]=i,r[10]=d,r[11]=g,r[12]=N,r[13]=S,r[14]=u,r[15]=null==j?void 0:j.extensionId,r[16]=x,r[17]=s}else s=r[17];return s};function tU(e){let t,n,s,r,o,c,d,u,x,f=(0,l.c)(35),{place:g}=e,{width:v}=(0,tM.lW)(),[b,y]=(0,h.fp)(tO),[j,N]=(0,h.fp)(tL),S=(0,D.usePathname)(),{data:_}=(0,Q.s8)(),C=p.useRef(!0);f[0]!==j||f[1]!==N?(t=()=>{if(C.current){C.current=!1;return}j||N(!0)},f[0]=j,f[1]=N,f[2]=t):t=f[2],f[3]!==j||f[4]!==S?(n=[S,j],f[3]=j,f[4]=S,f[5]=n):n=f[5],p.useEffect(t,n);let{sendListTrayIconsEvent:k}=(0,td.$M)();f[6]!==k?(s=()=>{k({},"")},f[6]=k,f[7]=s):s=f[7],f[8]===Symbol.for("react.memo_cache_sentinel")?(r=[],f[8]=r):r=f[8],p.useEffect(s,r),f[9]!==y?(o=(e,t)=>{y(n=>[...n.filter(e=>e.extensionId!==t),{...e}].sort(tH))},f[9]=y,f[10]=o):o=f[10],(0,td.l9)(o,"");let{data:A,refetch:I}=(0,Q.EZ)(),{mutate:T,isPending:E}=(0,Q.dh)();f[11]!==I||f[12]!==y?(c={type:m.c.PLUGIN_UNLOADED,onMessage:e=>{y(t=>t.filter(t=>t.extensionId!==e)),setTimeout(()=>{I()},1e3)}},f[11]=I,f[12]=y,f[13]=c):c=f[13],(0,i.oA)(c);let M=v&&v<1024;return b?(f[14]!==A||f[15]!==M||f[16]!==E||f[17]!==g||f[18]!==_||f[19]!==T||f[20]!==b||f[21]!==v?(d=!M&&"sidebar"===g&&(0,a.jsx)(tR,{place:g,developmentModeExtensions:A||[],isReloadingExtension:E,reloadExternalExtension:T,trayIcons:b,settings:_,width:v}),f[14]=A,f[15]=M,f[16]=E,f[17]=g,f[18]=_,f[19]=T,f[20]=b,f[21]=v,f[22]=d):d=f[22],f[23]!==A||f[24]!==M||f[25]!==E||f[26]!==g||f[27]!==_||f[28]!==T||f[29]!==b||f[30]!==v?(u=M&&"top"===g&&(0,a.jsx)("div",{className:"",children:(0,a.jsx)(tN.A,{side:"bottom",trigger:(0,a.jsx)("div",{children:(0,a.jsx)(w.K0,{intent:"gray-basic",size:"sm",icon:(0,a.jsx)(tC.sVt,{className:"size-5 text-[--muted]"})})}),className:"rounded-full p-0 overflow-y-auto bg-[--background] mx-4",style:{width:v?v-50:"100%"},children:(0,a.jsx)(tR,{place:g,developmentModeExtensions:A||[],isReloadingExtension:E,reloadExternalExtension:T,trayIcons:b,settings:_,width:v})})}),f[23]=A,f[24]=M,f[25]=E,f[26]=g,f[27]=_,f[28]=T,f[29]=b,f[30]=v,f[31]=u):u=f[31],f[32]!==d||f[33]!==u?(x=(0,a.jsxs)(a.Fragment,{children:[d,u]}),f[32]=d,f[33]=u,f[34]=x):x=f[34],x):null}function tH(e,t){return e.extensionId.localeCompare(t.extensionId,void 0,{numeric:!0})}function tG(e,t){return e.id.localeCompare(t.id,void 0,{numeric:!0})}var tB=n(38310);function tq(e){let t,n,s,r,i,o,c,d,u,m,h,p,x=(0,l.c)(21),g=(0,G.v1)(),v=null==g?void 0:g.isOffline,b=((0,tn.Ky)().hideTopNavbar||"desktop"===tB.env.NEXT_PUBLIC_PLATFORM)&&"lg:hidden";return x[0]!==b?(t=(0,f.cn)("w-full h-[5rem] relative overflow-hidden flex items-center",b),x[0]=b,x[1]=t):t=x[1],x[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(te.Mz,{}),x[2]=n):n=x[2],x[3]!==v?(s=v?(0,a.jsx)(ea,{}):(0,a.jsx)(eu,{}),x[3]=v,x[4]=s):s=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(eT,{}),i=(0,a.jsx)(eg,{}),o=(0,a.jsx)("div",{"data-top-navbar-content-separator":!0,className:"flex flex-1"}),c=(0,a.jsx)(tU,{place:"top"}),x[5]=r,x[6]=i,x[7]=o,x[8]=c):(r=x[5],i=x[6],o=x[7],c=x[8]),x[9]!==v?(d=!v&&(0,a.jsx)(e9,{}),x[9]=v,x[10]=d):d=x[10],x[11]!==v?(u=!v&&(0,a.jsx)(er,{}),x[11]=v,x[12]=u):u=x[12],x[13]!==s||x[14]!==d||x[15]!==u?(m=(0,a.jsx)("div",{"data-top-navbar-content-container":!0,className:"relative z-10 px-4 w-full flex flex-row md:items-center overflow-x-auto",children:(0,a.jsxs)("div",{"data-top-navbar-content":!0,className:"flex items-center w-full gap-3",children:[n,s,r,i,o,c,d,u]})}),x[13]=s,x[14]=d,x[15]=u,x[16]=m):m=x[16],x[17]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(eo,{}),x[17]=h):h=x[17],x[18]!==t||x[19]!==m?(p=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{"data-top-navbar":!0,className:t,children:[m,h]})}),x[18]=t,x[19]=m,x[20]=p):p=x[20],p}function tK(e){let t,n,s,r,i,o,c=(0,l.c)(16),{isCollapsed:d,handleExpandSidebar:u,handleUnexpandedSidebar:m}=e,p=(0,G.v1)(),x=(0,tn.Ky)(),f=(0,D.usePathname)(),g=(0,h.Xr)(eG);c[0]!==f?(t=f.startsWith("/manga"),c[0]=f,c[1]=t):t=c[1];let v=t,{mutate:b,isPending:j}=(0,y.Z_)();return x.hideTopNavbar||"desktop"===tB.env.NEXT_PUBLIC_PLATFORM?(c[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{"data-sidebar-navbar-spacer":!0,className:"px-4 lg:py-1",children:(0,a.jsx)(tt.w,{className:"px-4"})}),c[2]=n):n=c[2],c[3]!==u||c[4]!==m||c[5]!==d||c[6]!==v||c[7]!==j||c[8]!==g||c[9]!==b||c[10]!==(null==p?void 0:p.isOffline)?(s=!(null==p?void 0:p.isOffline)&&(0,a.jsx)(J.m,{"data-sidebar-navbar-vertical-menu":!0,className:"px-4",collapsed:d,itemClass:"relative",onMouseEnter:u,onMouseLeave:m,items:[{iconType:es.UF6,name:"Refresh AniList",onClick:()=>{j||b()}},...v?[{iconType:e7.WCW,name:"Manga downloads",onClick:()=>{g(!0)}}]:[]]}),c[3]=u,c[4]=m,c[5]=d,c[6]=v,c[7]=j,c[8]=g,c[9]=b,c[10]=null==p?void 0:p.isOffline,c[11]=s):s=c[11],c[12]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("div",{"data-sidebar-navbar-playback-manager-progress-tracking-button":!0,className:"flex justify-center",children:(0,a.jsx)(eT,{asSidebarButton:!0})}),c[12]=r):r=c[12],c[13]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("div",{"data-sidebar-navbar-manual-progress-tracking-button":!0,className:"flex justify-center",children:(0,a.jsx)(eg,{asSidebarButton:!0})}),c[13]=i):i=c[13],c[14]!==s?(o=(0,a.jsxs)("div",{"data-sidebar-navbar":!0,className:"flex flex-col gap-1",children:[n,s,r,i]}),c[14]=s,c[15]=o):o=c[15],o):null}var tz=n(31780),tW=n(61816),tF=n(10554),tQ=n(28296),tV=n(22148),t$=n(50558),tX=n(78453),tY=n(66380);let tZ=(0,g.eU)(!1),tJ=(0,g.eU)(!1);function t0(e){var t,n,s,r,o;let c,d,u,x,f,g,v,b,y,j,S,_,C,k,A,I,T,E,D,L,P,R,U,H,B,q=(0,l.c)(62),K=(0,G.v1)(),[z,W]=(0,h.fp)(tZ),[,F]=(0,h.fp)(tJ),{data:Q,isLoading:V,refetch:$}=(0,tF.A2)(!!K&&!(null==K||null==(n=K.settings)||null==(t=n.library)?void 0:t.disableUpdateCheck));q[0]!==$?(c={type:m.c.CHECK_FOR_UPDATES,onMessage:()=>{$()}},q[0]=$,q[1]=c):c=q[1],(0,i.oA)(c);let{mutate:X,isPending:Y}=(0,tF.zf)();p.useState(""),q[2]!==W||q[3]!==Q?(d=()=>{if(Q&&Q.release){localStorage.setItem("latest-available-update",JSON.stringify(Q.release.version));let e=localStorage.getItem("notified-available-update");e&&e===JSON.stringify(Q.release.version)||W(!0)}},q[2]=W,q[3]=Q,q[4]=d):d=q[4],q[5]!==Q?(u=[Q],q[5]=Q,q[6]=u):u=q[6],p.useEffect(d,u),q[7]!==W||q[8]!==Q?(x=()=>{Q&&Q.release&&(localStorage.setItem("notified-available-update",JSON.stringify(Q.release.version)),W(!1))},q[7]=W,q[8]=Q,q[9]=x):x=q[9];let Z=x;q[10]!==X?(f=function(){X({fallback_destination:""})},q[10]=X,q[11]=f):f=q[11];let ee=f;if((null==K||null==(r=K.settings)||null==(s=r.library)?void 0:s.disableUpdateCheck)||V||!Q||!Q.release)return null;q[12]!==W?(g=[{iconType:tX.$S7,name:"Update available",onClick:()=>W(!0)}],q[12]=W,q[13]=g):g=q[13],q[14]!==e.collapsed||q[15]!==g?(v=(0,a.jsx)(J.m,{collapsed:e.collapsed,items:g,itemIconClass:"text-brand-300"}),q[14]=e.collapsed,q[15]=g,q[16]=v):v=q[16],q[17]!==Z?(b=()=>Z(),q[17]=Z,q[18]=b):b=q[18],q[19]!==Q.release?(y=(0,a.jsx)(t1,{release:Q.release}),q[19]=Q.release,q[20]=y):y=q[20],q[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)("h3",{className:"text-center",children:"A new update is available!"}),q[21]=j):j=q[21],q[22]!==Q.current_version?(S=(0,a.jsx)("span",{className:"text-[--muted]",children:Q.current_version}),q[22]=Q.current_version,q[23]=S):S=q[23],q[24]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)(O.dyV,{}),q[24]=_):_=q[24],q[25]!==Q.release.version?(C=(0,a.jsx)("span",{className:"text-indigo-200",children:Q.release.version}),q[25]=Q.release.version,q[26]=C):C=q[26],q[27]!==S||q[28]!==C?(k=(0,a.jsxs)("h4",{className:"font-bold flex gap-2 text-center items-center justify-center",children:[S," ",_,C]}),q[27]=S,q[28]=C,q[29]=k):k=q[29],q[30]!==(null==K?void 0:K.isDesktopSidecar)?(A=(null==K?void 0:K.isDesktopSidecar)&&(0,a.jsx)(t$.F,{intent:"info",description:"Update Seanime from the desktop application."}),q[30]=null==K?void 0:K.isDesktopSidecar,q[31]=A):A=q[31],q[32]!==Q?(I=(0,a.jsx)(tQ.O,{updateData:Q}),q[32]=Q,q[33]=I):I=q[33],q[34]!==ee||q[35]!==Y||q[36]!==(null==K?void 0:K.isDesktopSidecar)?(T=!(null==K?void 0:K.isDesktopSidecar)&&(0,a.jsx)(eh.a,{trigger:(0,a.jsx)(w.$n,{leftIcon:(0,a.jsx)(tY.$Wp,{className:"text-2xl"}),children:"Update now"}),contentClass:"max-w-xl",title:(0,a.jsx)("span",{children:"Update Seanime"}),children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{children:"Seanime will perform an update by downloading and replacing existing files. Refer to the documentation for more information."}),(0,a.jsx)(w.$n,{className:"w-full",onClick:ee,disabled:Y,children:"Download and Install"})]})}),q[34]=ee,q[35]=Y,q[36]=null==K?void 0:K.isDesktopSidecar,q[37]=T):T=q[37],q[38]===Symbol.for("react.memo_cache_sentinel")?(E=(0,a.jsx)("div",{className:"flex flex-1"}),q[38]=E):E=q[38];let et=(null==Q||null==(o=Q.release)?void 0:o.html_url)||"";return q[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsx)(w.$n,{intent:"white-subtle",rightIcon:(0,a.jsx)(M.zaF,{}),children:"See on GitHub"}),q[39]=D):D=q[39],q[40]!==et?(L=(0,a.jsx)(N.i,{href:et,target:"_blank",children:D}),q[40]=et,q[41]=L):L=q[41],q[42]!==(null==K?void 0:K.isDesktopSidecar)||q[43]!==F?(P=!(null==K?void 0:K.isDesktopSidecar)&&(0,a.jsx)(w.$n,{intent:"white",leftIcon:(0,a.jsx)(M.Ah9,{}),onClick:()=>F(!0),children:"Download"}),q[42]=null==K?void 0:K.isDesktopSidecar,q[43]=F,q[44]=P):P=q[44],q[45]!==T||q[46]!==L||q[47]!==P?(R=(0,a.jsxs)("div",{className:"flex gap-2 w-full items-center !mt-4",children:[T,E,L,P]}),q[45]=T,q[46]=L,q[47]=P,q[48]=R):R=q[48],q[49]!==k||q[50]!==A||q[51]!==I||q[52]!==R?(U=(0,a.jsxs)("div",{className:"space-y-2",children:[j,k,A,I,R]}),q[49]=k,q[50]=A,q[51]=I,q[52]=R,q[53]=U):U=q[53],q[54]!==U||q[55]!==b||q[56]!==y||q[57]!==z?(H=(0,a.jsxs)(eh.a,{open:z,onOpenChange:b,contentClass:"max-w-3xl",children:[y,U]}),q[54]=U,q[55]=b,q[56]=y,q[57]=z,q[58]=H):H=q[58],q[59]!==H||q[60]!==v?(B=(0,a.jsxs)(a.Fragment,{children:[v,H]}),q[59]=H,q[60]=v,q[61]=B):B=q[61],B}function t1(e){let t,n,s,r,i,o,c,d,u,m,x,g=(0,l.c)(28),[v,b]=(0,h.fp)(tJ),[y,j]=p.useState(""),[N,S]=p.useState(""),{release:_}=e,{mutate:C,isPending:k}=(0,tW.F)();g[0]!==N||g[1]!==y||g[2]!==C||g[3]!==b?(t=function(){if(!N||!y)return K.oR.error("Missing options");C({destination:y,download_url:N},{onSuccess:()=>{b(!1)}})},g[0]=N,g[1]=y,g[2]=C,g[3]=b,g[4]=t):t=g[4];let A=t;if(!_)return null;if(g[5]!==b?(n=()=>b(!1),g[5]=b,g[6]=n):n=g[6],g[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,f.cn)("border-transparent absolute top-2 right-2 bg-transparent dark:bg-transparent dark:data-[state=unchecked]:bg-transparent","data-[state=unchecked]:bg-transparent data-[state=unchecked]:hover:bg-transparent dark:data-[state=unchecked]:hover:bg-transparent","focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent"),g[7]=s):s=g[7],g[8]===Symbol.for("react.memo_cache_sentinel")?(r=(0,f.cn)("items-start cursor-pointer transition border-transparent rounded-[--radius] py-1.5 px-2 w-full","bg-gray-50 hover:bg-[--subtle] dark:bg-gray-900","data-[state=checked]:bg-white dark:data-[state=checked]:bg-gray-950","focus:ring-2 ring-transparent dark:ring-transparent outline-none ring-offset-1 ring-offset-[--background] focus-within:ring-2 transition","border border-transparent data-[state=checked]:border-[--brand] data-[state=checked]:ring-offset-0"),g[8]=r):r=g[8],g[9]===Symbol.for("react.memo_cache_sentinel")?(i=e=>e?S(e):{},g[9]=i):i=g[9],g[10]!==_.assets){var I;o=(null==(I=_.assets)?void 0:I.filter(t3).map(t2))||[],g[10]=_.assets,g[11]=o}else o=g[11];g[12]!==N||g[13]!==o?(c=(0,a.jsx)("div",{children:(0,a.jsx)(ts.z,{itemClass:s,itemIndicatorClass:"hidden",itemLabelClass:"font-normal tracking-wide line-clamp-1 truncate flex flex-col items-center data-[state=checked]:text-[--brand] cursor-pointer",itemContainerClass:r,value:N,onValueChange:i,options:o})}),g[12]=N,g[13]=o,g[14]=c):c=g[14];let T="/seanime-".concat(_.version);return g[15]!==y||g[16]!==T?(d=(0,a.jsx)(tV.j,{label:"Select destination",onSelect:j,value:y,rightAddon:T}),g[15]=y,g[16]=T,g[17]=d):d=g[17],g[18]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(M.Ah9,{}),g[18]=u):u=g[18],g[19]!==A||g[20]!==k?(m=(0,a.jsx)("div",{className:"flex gap-2 justify-end mt-2",children:(0,a.jsx)(w.$n,{intent:"white",leftIcon:u,onClick:A,loading:k,children:"Download"})}),g[19]=A,g[20]=k,g[21]=m):m=g[21],g[22]!==v||g[23]!==n||g[24]!==m||g[25]!==c||g[26]!==d?(x=(0,a.jsxs)(eh.a,{open:v,onOpenChange:n,title:"Download new release",contentClass:"space-y-4 max-w-2xl overflow-hidden",children:[c,d,m]}),g[22]=v,g[23]=n,g[24]=m,g[25]=c,g[26]=d,g[27]=x):x=g[27],x}function t2(e){return{label:e.name,value:e.browser_download_url}}function t3(e){return!e.name.endsWith(".txt")}let t4=(0,g.eU)([]),t5=(0,g.eU)(e=>e(t4).length);var t6=n(6759),t8=n(41940);let t7=(0,f.u)({root:(0,Y.F)(["UI-Avatar__root","relative flex shrink-0 overflow-hidden rounded-full"],{variants:{size:{xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"}},defaultVariants:{size:"md"}}),image:(0,Y.F)(["UI-Avatar__image","aspect-square h-full w-full"]),fallback:(0,Y.F)(["UI-Avatar__fallback","flex h-full w-full items-center justify-center rounded-full bg-[--muted] text-white dark:text-gray-800 font-semibold"]),fallbackIcon:(0,Y.F)(["UI-Avatar__fallback-icon","fill-transparent"])}),t9=p.forwardRef((e,t)=>{let n,s,r,i,o,c,d,u,m,h,p,x,g,v,b,y,j=(0,l.c)(34);if(j[0]!==e){let{className:t,children:a,imageRef:l,fallbackRef:h,asChild:p,imageClass:x,fallbackClass:f,fallback:g,fallbackIconClass:v,size:b,...y}=e;n=t,d=l,o=h,c=x,r=f,s=g,i=v,m=b,u=y,j[0]=e,j[1]=n,j[2]=s,j[3]=r,j[4]=i,j[5]=o,j[6]=c,j[7]=d,j[8]=u,j[9]=m}else n=j[1],s=j[2],r=j[3],i=j[4],o=j[5],c=j[6],d=j[7],u=j[8],m=j[9];return j[10]!==n||j[11]!==m?(h=(0,f.cn)(t7.root({size:m}),n),j[10]=n,j[11]=m,j[12]=h):h=j[12],j[13]!==c?(p=(0,f.cn)(t7.image(),c),j[13]=c,j[14]=p):p=j[14],j[15]!==d||j[16]!==u||j[17]!==p?(x=(0,a.jsx)(t8._V,{ref:d,className:p,...u}),j[15]=d,j[16]=u,j[17]=p,j[18]=x):x=j[18],j[19]!==r?(g=(0,f.cn)(t7.fallback(),r),j[19]=r,j[20]=g):g=j[20],j[21]!==s||j[22]!==i?(v=!s&&(0,a.jsxs)("svg",{viewBox:"0 0 128 128",className:(0,f.cn)(t7.fallbackIcon(),i),role:"img","aria-label":"avatar",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),j[21]=s,j[22]=i,j[23]=v):v=j[23],j[24]!==s||j[25]!==o||j[26]!==g||j[27]!==v?(b=(0,a.jsxs)(t8.H4,{ref:o,className:g,children:[v,s]}),j[24]=s,j[25]=o,j[26]=g,j[27]=v,j[28]=b):b=j[28],j[29]!==t||j[30]!==h||j[31]!==x||j[32]!==b?(y=(0,a.jsxs)(t8.bL,{ref:t,className:h,children:[x,b]}),j[29]=t,j[30]=h,j[31]=x,j[32]=b,j[33]=y):y=j[33],y});t9.displayName="Avatar";var ne=n(17934),nt=n(84118);let nn=(0,f.u)({root:(0,Y.F)(["UI-HoverCard__root","z-50 w-64 rounded-[--radius-md] border bg-[--paper] p-4 shadow-sm outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0","data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-100 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"])}),na=p.forwardRef((e,t)=>{let n,s,r,i,o,c,d,u,m=(0,l.c)(18);m[0]!==e?({className:n,align:r,sideOffset:i,...s}=e,m[0]=e,m[1]=n,m[2]=s,m[3]=r,m[4]=i):(n=m[1],s=m[2],r=m[3],i=m[4]);let h=void 0===r?"center":r,p=void 0===i?8:i;return m[5]!==e.trigger?(o=(0,a.jsx)(nt.l9,{asChild:!0,children:e.trigger}),m[5]=e.trigger,m[6]=o):o=m[6],m[7]!==n?(c=(0,f.cn)(nn.root(),n),m[7]=n,m[8]=c):c=m[8],m[9]!==h||m[10]!==t||m[11]!==s||m[12]!==p||m[13]!==c?(d=(0,a.jsx)(nt.UC,{ref:t,align:h,sideOffset:p,className:c,...s}),m[9]=h,m[10]=t,m[11]=s,m[12]=p,m[13]=c,m[14]=d):d=m[14],m[15]!==o||m[16]!==d?(u=(0,a.jsxs)(nt.bL,{openDelay:1,closeDelay:0,children:[o,d]}),m[15]=o,m[16]=d,m[17]=u):u=m[17],u});na.displayName="HoverCard";var nl=n(43756),ns=n(21068),nr=n(24151),ni=n(65160),no=n(38310);function nc(){var e,t,n,s,r,o,c,d,u,x,g,v,b,y,j,N,S,_,C,k,A,I,T,E,P,R,U,H,q,K,z,W,V,X,Y,Z,ee,et,en,ea,el,er,eo,eu,em;let ex,ef,eg,ev,eb,ej,eN,ew,eS,e_,eC,ek,eA,eI,eT,eE,eD,eM,eO,eL,eP,eR,eU,eG,eB,eq,eK,ez,eW,eF,eQ,eV,e$,eX,eY,eZ,eJ,e0,e1,e2,e3,e4,e5,e6,e8,e9,tt,ta,tl,ts,tr,ti,to=(0,l.c)(160),tc=(0,te.kb)(),td=(0,tn.Ky)(),[tu,tm]=p.useState(!1),[th,tp]=p.useState(!1),tx=td.expandSidebarOnHover?!tc.isBelowBreakpoint&&!tu:!tc.isBelowBreakpoint,tf=(0,D.useRouter)(),tg=(0,D.usePathname)(),tv=(0,G.v1)(),tb=(0,G.LX)(),ty=(0,G.iZ)();(0,tz.KY)();let tj=(0,ec.Wk)(),tN=(0,h.md)(t5),{mutate:tw,data:tS,isPending:t_}=(0,F.W)();to[0]!==tS||to[1]!==t_||to[2]!==tb?(ex=()=>{t_||tb(tS)},to[0]=tS,to[1]=t_,to[2]=tb,to[3]=ex):ex=to[3],to[4]!==tS||to[5]!==t_?(ef=[t_,tS],to[4]=tS,to[5]=t_,to[6]=ef):ef=to[6],p.useEffect(ex,ef);let tC=(0,h.Xr)(L),tk=(0,B.j)(!1);to[7]!==tc.isBelowBreakpoint||to[8]!==td.expandSidebarOnHover?(eg=()=>{!tc.isBelowBreakpoint&&td.expandSidebarOnHover&&tm(!0)},to[7]=tc.isBelowBreakpoint,to[8]=td.expandSidebarOnHover,to[9]=eg):eg=to[9];let tA=eg;to[10]!==tu||to[11]!==td.expandSidebarOnHover?(ev=()=>{tu&&td.expandSidebarOnHover&&tm(!1)},to[10]=tu,to[11]=td.expandSidebarOnHover,to[12]=ev):ev=to[12];let tI=ev;to[13]!==tw?(eb={title:"Sign out",description:"Are you sure you want to sign out?",onConfirm:()=>{tw()}},to[13]=tw,to[14]=eb):eb=to[14];let tT=(0,ey.J)(eb);to[15]===Symbol.for("react.memo_cache_sentinel")?(ej={downloading:0,paused:0,seeding:0},to[15]=ej):ej=to[15];let[tE,tD]=p.useState(ej);to[16]===Symbol.for("react.memo_cache_sentinel")?(eN={type:m.c.ACTIVE_TORRENT_COUNT_UPDATED,onMessage:e=>{tD(e)}},to[16]=eN):eN=to[16],(0,i.oA)(eN);let{syncIsActive:tM}=$(),{data:tO}=(0,Q.Og)(),tL=!tc.isBelowBreakpoint&&tu&&"w-[260px]",tP=!tc.isBelowBreakpoint&&!td.disableSidebarTransparency&&"bg-transparent",tR=!tc.isBelowBreakpoint&&!td.disableSidebarTransparency&&td.expandSidebarOnHover&&"hover:bg-[--background]";to[17]!==tL||to[18]!==tP||to[19]!==tR?(ew=(0,f.cn)("group/main-sidebar h-full flex flex-col justify-between transition-gpu w-full transition-[width] duration-300",tL,tP,tR),to[17]=tL,to[18]=tP,to[19]=tR,to[20]=ew):ew=to[20],to[21]!==tc.isBelowBreakpoint||to[22]!==td.disableSidebarTransparency||to[23]!==td.expandSidebarOnHover?(eS=!tc.isBelowBreakpoint&&td.expandSidebarOnHover&&td.disableSidebarTransparency&&(0,a.jsx)("div",{className:(0,f.cn)("fixed h-full translate-x-0 w-[50px] bg-gradient bg-gradient-to-r via-[--background] from-[--background] to-transparent","group-hover/main-sidebar:translate-x-[250px] transition opacity-0 duration-300 group-hover/main-sidebar:opacity-100")}),to[21]=tc.isBelowBreakpoint,to[22]=td.disableSidebarTransparency,to[23]=td.expandSidebarOnHover,to[24]=eS):eS=to[24],to[25]===Symbol.for("react.memo_cache_sentinel")?(e_=(0,a.jsx)("div",{className:"mb-4 p-4 pb-0 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo.png",alt:"logo",className:"w-15 h-10"})}),to[25]=e_):e_=to[25];let tH="/"===tg;to[26]!==tH?(eC={iconType:es.ItZ,name:"Library",href:"/",isCurrent:tH},to[26]=tH,to[27]=eC):eC=to[27];let tG="/schedule"===tg;to[28]!==tj?(ek=tj>0?(0,a.jsx)(ed.E,{className:"absolute right-0 top-0",size:"sm",intent:"alert-solid",children:tj}):void 0,to[28]=tj,to[29]=ek):ek=to[29],to[30]!==tG||to[31]!==ek?(eA={iconType:M.zBL,name:"Schedule",href:"/schedule",isCurrent:tG,addon:ek},to[30]=tG,to[31]=ek,to[32]=eA):eA=to[32],to[33]!==tg||to[34]!==(null==tv||null==(t=tv.settings)||null==(e=t.library)?void 0:e.enableManga)?(eI=(null==tv||null==(N=tv.settings)||null==(j=N.library)?void 0:j.enableManga)&&{iconType:e7.Svc,name:"Manga",href:"/manga",isCurrent:tg.startsWith("/manga")},to[33]=tg,to[34]=null==tv||null==(_=tv.settings)||null==(S=_.library)?void 0:S.enableManga,to[35]=eI):eI=to[35],to[36]!==eI?(eT=[eI],to[36]=eI,to[37]=eT):eT=to[37];let tB="/discover"===tg;to[38]!==tB?(eE={iconType:M.nQ3,name:"Discover",href:"/discover",isCurrent:tB},to[38]=tB,to[39]=eE):eE=to[39];let tq="/anilist"===tg;to[40]!==tq?(eD={iconType:ei.vFL,name:"AniList",href:"/anilist",isCurrent:tq},to[40]=tq,to[41]=eD):eD=to[41],to[42]!==tN||to[43]!==tg||to[44]!==(null==tv||null==(s=tv.settings)||null==(n=s.library)?void 0:n.torrentProvider)?(eM=(null==tv||null==(k=tv.settings)||null==(C=k.library)?void 0:C.torrentProvider)!==nr.xF.NONE&&{iconType:eH.EnF,name:"Auto Downloader",href:"/auto-downloader",isCurrent:"/auto-downloader"===tg,addon:tN>0?(0,a.jsx)(ed.E,{className:"absolute right-0 top-0",size:"sm",intent:"alert-solid",children:tN}):void 0},to[42]=tN,to[43]=tg,to[44]=null==tv||null==(I=tv.settings)||null==(A=I.library)?void 0:A.torrentProvider,to[45]=eM):eM=to[45],to[46]!==eM?(eO=[eM],to[46]=eM,to[47]=eO):eO=to[47],to[48]!==tE||to[49]!==tg||to[50]!==(null==tv||null==(o=tv.settings)||null==(r=o.library)?void 0:r.torrentProvider)||to[51]!==(null==tv||null==(d=tv.settings)||null==(c=d.torrent)?void 0:c.defaultTorrentClient)||to[52]!==(null==tv||null==(x=tv.settings)||null==(u=x.torrent)?void 0:u.hideTorrentList)||to[53]!==(null==tv||null==(v=tv.settings)||null==(g=v.torrent)?void 0:g.showActiveTorrentCount)?(eL=(null==tv||null==(E=tv.settings)||null==(T=E.library)?void 0:T.torrentProvider)!==nr.xF.NONE&&!(null==tv||null==(R=tv.settings)||null==(P=R.torrent)?void 0:P.hideTorrentList)&&(null==tv||null==(H=tv.settings)||null==(U=H.torrent)?void 0:U.defaultTorrentClient)!==nr.XH.NONE&&{iconType:M.Ah9,name:0!==tE.seeding&&(null==tv||null==(K=tv.settings)||null==(q=K.torrent)?void 0:q.showActiveTorrentCount)?"Torrent list (".concat(tE.seeding," seeding)"):"Torrent list",href:"/torrent-list",isCurrent:"/torrent-list"===tg,addon:tE.downloading+tE.paused>0&&(null==tv||null==(W=tv.settings)||null==(z=W.torrent)?void 0:z.showActiveTorrentCount)?(0,a.jsx)(ed.E,{className:"absolute right-0 top-0 bg-green-500",size:"sm",intent:"alert-solid",children:tE.downloading+tE.paused}):void 0},to[48]=tE,to[49]=tg,to[50]=null==tv||null==(X=tv.settings)||null==(V=X.library)?void 0:V.torrentProvider,to[51]=null==tv||null==(Z=tv.settings)||null==(Y=Z.torrent)?void 0:Y.defaultTorrentClient,to[52]=null==tv||null==(et=tv.settings)||null==(ee=et.torrent)?void 0:ee.hideTorrentList,to[53]=null==tv||null==(ea=tv.settings)||null==(en=ea.torrent)?void 0:en.showActiveTorrentCount,to[54]=eL):eL=to[54],to[55]!==eL?(eP=[eL],to[55]=eL,to[56]=eP):eP=to[56],to[57]!==tg||to[58]!==(null==tv||null==(b=tv.debridSettings)?void 0:b.enabled)||to[59]!==(null==tv||null==(y=tv.debridSettings)?void 0:y.provider)?(eR=(null==tv||null==(el=tv.debridSettings)?void 0:el.enabled)&&!!(null==tv||null==(er=tv.debridSettings)?void 0:er.provider)&&{iconType:ni.hgf,name:"Debrid",href:"/debrid",isCurrent:"/debrid"===tg},to[57]=tg,to[58]=null==tv||null==(eo=tv.debridSettings)?void 0:eo.enabled,to[59]=null==tv||null==(eu=tv.debridSettings)?void 0:eu.provider,to[60]=eR):eR=to[60],to[61]!==eR?(eU=[eR],to[61]=eR,to[62]=eU):eU=to[62];let tW="/scan-summaries"===tg;to[63]!==tW?(eG={iconType:ep.LIR,name:"Scan summaries",href:"/scan-summaries",isCurrent:tW},to[63]=tW,to[64]=eG):eG=to[64],to[65]!==tc||to[66]!==tC?(eB={iconType:O.CKj,name:"Search",onClick:()=>{tc.setOpen(!1),tC(!0)}},to[65]=tc,to[66]=tC,to[67]=eB):eB=to[67],to[68]!==eC||to[69]!==eA||to[70]!==eT||to[71]!==eE||to[72]!==eD||to[73]!==eO||to[74]!==eP||to[75]!==eU||to[76]!==eG||to[77]!==eB?(eq=[eC,eA,...eT,eE,eD,...eO,...eP,...eU,eG,eB].filter(Boolean),to[68]=eC,to[69]=eA,to[70]=eT,to[71]=eE,to[72]=eD,to[73]=eO,to[74]=eP,to[75]=eU,to[76]=eG,to[77]=eB,to[78]=eq):eq=to[78],to[79]!==tc?(eK=()=>tc.setOpen(!1),to[79]=tc,to[80]=eK):eK=to[80],to[81]!==tx||to[82]!==eq||to[83]!==eK?(ez=(0,a.jsx)(J.m,{className:"px-4",collapsed:tx,itemClass:"relative",items:eq,onLinkItemClick:eK}),to[81]=tx,to[82]=eq,to[83]=eK,to[84]=ez):ez=to[84],to[85]!==tx?(eW=(0,a.jsx)(tK,{isCollapsed:tx,handleExpandSidebar:nx,handleUnexpandedSidebar:np}),to[85]=tx,to[86]=eW):eW=to[86],to[87]!==tf?(eF="desktop"===no.env.NEXT_PUBLIC_PLATFORM&&(0,a.jsx)("div",{className:"w-full flex justify-center px-4",children:(0,a.jsx)(na,{side:"right",sideOffset:-8,className:"bg-transparent border-none",trigger:(0,a.jsx)(w.K0,{intent:"gray-basic",className:"!text-[--muted] hover:!text-[--foreground]",icon:(0,a.jsx)(ep._R2,{}),onClick:()=>{tf.back()}}),children:(0,a.jsx)(w.K0,{icon:(0,a.jsx)(ep.HNO,{}),intent:"gray-subtle",className:"opacity-50 hover:opacity-100",onClick:()=>{tf.forward()}})})}),to[87]=tf,to[88]=eF):eF=to[88],to[89]===Symbol.for("react.memo_cache_sentinel")?(eQ=(0,a.jsx)(tU,{place:"sidebar"}),to[89]=eQ):eQ=to[89],to[90]!==ez||to[91]!==eW||to[92]!==eF?(eV=(0,a.jsxs)("div",{children:[e_,ez,eW,eF,eQ]}),to[90]=ez,to[91]=eW,to[92]=eF,to[93]=eV):eV=to[93],to[94]!==tx?(e$="desktop"!==no.env.NEXT_PUBLIC_PLATFORM?(0,a.jsx)(t0,{collapsed:tx}):(0,a.jsx)(t6.gS,{collapsed:tx}),to[94]=tx,to[95]=e$):e$=to[95],to[96]!==tc?(eX=()=>tc.setOpen(!1),to[96]=tc,to[97]=eX):eX=to[97],to[98]!==tg?(eY=tg.includes("/extensions"),to[98]=tg,to[99]=eY):eY=to[99],to[100]!==(null==tO?void 0:tO.length)?(eZ=(null==tO?void 0:tO.length)?(0,a.jsx)(ed.E,{className:"absolute right-0 top-0 bg-red-500 animate-pulse",size:"sm",intent:"alert-solid",children:(null==tO?void 0:tO.length)||1}):void 0,to[100]=null==tO?void 0:tO.length,to[101]=eZ):eZ=to[101],to[102]!==eY||to[103]!==eZ?(eJ={iconType:M.DT2,name:"Extensions",href:"/extensions",isCurrent:eY,addon:eZ},to[102]=eY,to[103]=eZ,to[104]=eJ):eJ=to[104],to[105]!==tg?(e0=tg.includes("/sync"),to[105]=tg,to[106]=e0):e0=to[106],to[107]!==tM?(e1=tM?(0,a.jsx)(ed.E,{className:"absolute right-0 top-0 bg-blue-500",size:"sm",intent:"alert-solid",children:"1"}):void 0,to[107]=tM,to[108]=e1):e1=to[108],to[109]!==e0||to[110]!==e1?(e2={iconType:es.fps,name:"Offline",href:"/sync",isCurrent:e0,addon:e1},to[109]=e0,to[110]=e1,to[111]=e2):e2=to[111];let tF="/settings"===tg;return to[112]!==tF?(e3={iconType:O.VSk,name:"Settings",href:"/settings",isCurrent:tF},to[112]=tF,to[113]=e3):e3=to[113],to[114]!==tT||to[115]!==tc.isBelowBreakpoint?(e4=tc.isBelowBreakpoint?[{iconType:M.AMx,name:"Sign out",onClick:tT.open}]:[],to[114]=tT,to[115]=tc.isBelowBreakpoint,to[116]=e4):e4=to[116],to[117]!==eJ||to[118]!==e2||to[119]!==e3||to[120]!==e4?(e5=[eJ,e2,e3,...e4],to[117]=eJ,to[118]=e2,to[119]=e3,to[120]=e4,to[121]=e5):e5=to[121],to[122]!==tx||to[123]!==eX||to[124]!==e5?(e6=(0,a.jsx)("div",{children:(0,a.jsx)(J.m,{collapsed:tx,itemClass:"relative",onMouseEnter:nh,onMouseLeave:nm,onLinkItemClick:eX,items:e5})}),to[122]=tx,to[123]=eX,to[124]=e5,to[125]=e6):e6=to[125],to[126]!==tc||to[127]!==tA||to[128]!==tI||to[129]!==tx||to[130]!==ty?(e8=!ty&&(0,a.jsx)("div",{children:(0,a.jsx)(J.m,{collapsed:tx,itemClass:"relative",onMouseEnter:tA,onMouseLeave:tI,onLinkItemClick:()=>tc.setOpen(!1),items:[{iconType:O.dUr,name:"Login",onClick:nu}]})}),to[126]=tc,to[127]=tA,to[128]=tI,to[129]=tx,to[130]=ty,to[131]=e8):e8=to[131],to[132]!==tT||to[133]!==tc.isBelowBreakpoint||to[134]!==th||to[135]!==tu||to[136]!==ty?(e9=!!ty&&(0,a.jsx)("div",{className:"flex w-full gap-2 flex-col",children:(0,a.jsx)(ne.rI,{trigger:(0,a.jsxs)("div",{className:(0,f.cn)("w-full flex p-2.5 pt-1 items-center space-x-2",{hidden:tc.isBelowBreakpoint}),children:[(0,a.jsx)(t9,{size:"sm",className:"cursor-pointer",src:(null==ty||null==(em=ty.avatar)?void 0:em.medium)||""}),tu&&(0,a.jsx)("p",{className:"truncate",children:null==ty?void 0:ty.name})]}),open:th,onOpenChange:tp,children:(0,a.jsxs)(ne._2,{onClick:tT.open,children:[(0,a.jsx)(M.AMx,{})," Sign out"]})})}),to[132]=tT,to[133]=tc.isBelowBreakpoint,to[134]=th,to[135]=tu,to[136]=ty,to[137]=e9):e9=to[137],to[138]!==e$||to[139]!==e6||to[140]!==e8||to[141]!==e9?(tt=(0,a.jsxs)("div",{className:"flex w-full gap-2 flex-col px-4",children:[e$,e6,e8,e9]}),to[138]=e$,to[139]=e6,to[140]=e8,to[141]=e9,to[142]=tt):tt=to[142],to[143]!==tA||to[144]!==tI||to[145]!==ew||to[146]!==eS||to[147]!==eV||to[148]!==tt?(ta=(0,a.jsxs)(te.GK,{className:ew,onMouseEnter:tA,onMouseLeave:tI,children:[eS,eV,tt]}),to[143]=tA,to[144]=tI,to[145]=ew,to[146]=eS,to[147]=eV,to[148]=tt,to[149]=ta):ta=to[149],to[150]===Symbol.for("react.memo_cache_sentinel")?(tl=(0,a.jsx)("div",{className:"mt-5 text-center space-y-4",children:(0,a.jsx)(w.$n,{onClick:nd,intent:"primary-outline",children:"Login with AniList"})}),to[150]=tl):tl=to[150],to[151]!==tk.close||to[152]!==tk.isOpen?(ts=(0,a.jsx)(eh.a,{title:"Login",open:tk.isOpen,onOpenChange:tk.close,children:tl}),to[151]=tk.close,to[152]=tk.isOpen,to[153]=ts):ts=to[153],to[154]!==tT?(tr=(0,a.jsx)(ey.K,{...tT}),to[154]=tT,to[155]=tr):tr=to[155],to[156]!==ta||to[157]!==ts||to[158]!==tr?(ti=(0,a.jsxs)(a.Fragment,{children:[ta,ts,tr]}),to[156]=ta,to[157]=ts,to[158]=tr,to[159]=ti):ti=to[159],ti}function nd(){(0,nl.A)(ns.$M)}function nu(){return(0,nl.A)(ns.$M)}function nm(){}function nh(){}function np(){}function nx(){}var nf=n(45499),ng=n(70274);function nv(e){let{extensionId:t,info:n}=e;(0,D.useRouter)();let l=(0,D.usePathname)(),[s,r]=p.useState(!1),[i,o]=p.useState(""),[c,d]=p.useState(""),[u,m]=p.useState([]),[h,x]=p.useState(n.placeholder),{sendRenderCommandPaletteEvent:f}=(0,td.Zf)(),{sendCommandPaletteInputEvent:g}=(0,td.FS)(),{sendCommandPaletteOpenedEvent:v}=(0,td.aY)(),{sendCommandPaletteClosedEvent:b}=(0,td.vM)(),{sendCommandPaletteItemSelectedEvent:y}=(0,td.fP)();p.useEffect(()=>{if(n.keyboardShortcut)return eS().bind(n.keyboardShortcut,()=>{o(""),p.startTransition(()=>{r(!0)})}),()=>{eS().unbind(n.keyboardShortcut)}},[n.keyboardShortcut]),(0,ng.w5)(()=>{s||(o(""),b({},t)),s&&(v({},t),f({},t))},[s,t]),(0,td.Ce)(e=>{g({value:i},t)},t),(0,td.NM)(e=>{o(e.value)},t),(0,td.kF)(e=>{r(!0)},t),(0,td.mU)(e=>{r(!1)},t),(0,td.$n)(e=>{m(e.items),x(e.placeholder)},t);let j=p.useRef(null);function N(){let e=j.current;if(!e)return()=>{};let t=setTimeout(()=>{e.scrollTop=0;let t=e.querySelector("[cmdk-item]");if(t){let e=t.getAttribute("data-value");e&&d(e)}},100);return()=>clearTimeout(t)}p.useEffect(()=>{let e=N();return()=>e()},[i,l]);let w=p.useMemo(()=>{let e={};return u.filter(e=>"includes"===e.filterType?e.value.toLowerCase().includes(i.toLowerCase()):"startsWith"!==e.filterType||e.value.toLowerCase().startsWith(i.toLowerCase())).forEach(t=>{let n=t.heading||"";e[n]||(e[n]=[]),e[n].push(t)}),N(),e},[u,i]);return(0,a.jsxs)(nf.Gj,{open:s,onOpenChange:r,commandProps:{value:c,onValueChange:d},overlayClass:"bg-black/30",contentClass:"max-w-2xl",commandClass:"h-[300px]",children:[(0,a.jsx)(nf.G7,{placeholder:h||"",value:i,onValueChange:o}),(0,a.jsx)(nf.oI,{className:"mb-2",ref:j,children:(0,a.jsx)(tj,{registry:tf,children:Object.entries(w).map(e=>{let[n,l]=e;return(0,a.jsx)(nf.L$,{heading:n,children:l.map(e=>(0,a.jsx)(nf.h_,{value:e.value,onSelect:()=>{y({itemId:e.id},t)},className:"block",children:e.label?e.label:(0,a.jsx)(tb,{data:e.components})},e.id))},n)})})})]})}let nb=(0,g.eU)([]);function ny(){let e,t,n,s,r,o,c=(0,l.c)(11),[d,u]=(0,h.fp)(nb),{sendListCommandPalettesEvent:x}=(0,td.mL)();return(c[0]!==x?(e=()=>{x({},"")},c[0]=x,c[1]=e):e=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[2]=t):t=c[2],p.useEffect(e,t),c[3]!==u?(n=(e,t)=>{"q"!==e.keyboardShortcut&&"meta+j"!==e.keyboardShortcut&&u(n=>[...n.filter(e=>e.extensionId!==t),{extensionId:t,...e}].sort(nN))},c[3]=u,c[4]=n):n=c[4],(0,td.KQ)(n,""),c[5]!==u?(s={type:m.c.PLUGIN_UNLOADED,onMessage:e=>{u(t=>t.filter(t=>t.extensionId!==e))}},c[5]=u,c[6]=s):s=c[6],(0,i.oA)(s),d)?(c[7]!==d?(r=d.map(nj),c[7]=d,c[8]=r):r=c[8],c[9]!==r?(o=(0,a.jsx)(a.Fragment,{children:r}),c[9]=r,c[10]=o):o=c[10],o):null}function nj(e,t){return(0,a.jsx)(nv,{extensionId:e.extensionId,info:e},t)}function nN(e,t){return e.extensionId.localeCompare(t.extensionId,void 0,{numeric:!0})}function nw(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function nS(e,t){let n=document.getElementById(e.elementId);n&&n.removeEventListener(e.eventType,e.callback)}function n_(e,t,n,a){if(!(e instanceof HTMLElement))return;let l={};if(e.dataset.original)try{l=JSON.parse(e.dataset.original)}catch(e){l={}}l[t]||(l[t]={}),void 0===l[t][n]&&(l[t][n]=a,e.dataset.original=JSON.stringify(l))}function nC(e){return e.id||(e.id="plugin-element-".concat(nw())),e}function nk(e){}function nA(e,t){let n={};for(let t=0;t<e.attributes.length;t++){let a=e.attributes[t];n[a.name]=a.value}if(e.id)n.id=e.id;else{let t="plugin-element-".concat(nw());e.setAttribute("id",t),n.id=t}if(e instanceof HTMLElement)for(let t in e.dataset)Object.prototype.hasOwnProperty.call(e.dataset,t)&&(n["data-".concat(t)]=e.dataset[t]||"");return(null==t?void 0:t.identifyChildren)&&e.querySelectorAll("*").forEach(nI),{id:n.id,tagName:e.tagName.toLowerCase(),attributes:n,innerHTML:(null==t?void 0:t.withInnerHTML)?e.innerHTML:void 0,outerHTML:(null==t?void 0:t.withOuterHTML)?e.outerHTML:void 0,children:[]}}function nI(e){if(!e.id){let t="plugin-element-".concat(nw());e.setAttribute("id",t)}}function nT(e){let t,n,a,s,r,o,c,d,u,h,x,f,g,v=(0,l.c)(34),{extensionId:b,onUnloaded:y}=e,{handleDOMQuery:j,handleDOMQueryOne:N,handleDOMObserve:w,handleDOMStopObserve:S,handleDOMCreate:_,handleDOMManipulate:C,cleanup:k}=function(e){let t,n,a,s,r,o,c,d,u,m,h,x,f,g,v,b,y,j=(0,l.c)(38),{sendPluginMessage:N}=(0,i.Y0)();j[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Map,j[0]=t):t=j[0];let w=(0,p.useRef)(t);j[1]===Symbol.for("react.memo_cache_sentinel")?(n=new Map,j[1]=n):n=j[1];let S=(0,p.useRef)(n);j[2]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,j[2]=a):a=j[2];let _=(0,p.useRef)(a),C=(0,p.useRef)(null),k=(0,p.useRef)(!1),A=(0,p.useRef)(!1);j[3]===Symbol.for("react.memo_cache_sentinel")?(s=new Set,j[3]=s):s=j[3];let I=(0,p.useRef)(s);j[4]!==e||j[5]!==N?(r=(t,n)=>{k.current||N(t,n,e)},j[4]=e,j[5]=N,j[6]=r):r=j[6];let T=r;j[7]!==T?(o=()=>{k.current||A.current||(A.current=!0,T(td.sn.DOMReady,{}))},j[7]=T,j[8]=o):o=j[8];let E=o;j[9]!==T?(c=()=>{"undefined"!=typeof MutationObserver&&(C.current=new MutationObserver(e=>{if(k.current)return;let t=new Set;e.forEach(e=>{if("childList"===e.type&&e.addedNodes.forEach(e=>{e instanceof Element&&(t.add(e),e.querySelectorAll("*").forEach(e=>t.add(e)))}),"attributes"===e.type||"characterData"===e.type){let n=e.target instanceof Element?e.target:e.target.parentElement;n&&t.add(n)}}),w.current.forEach((e,n)=>{let a=[],l=S.current.get(n)||new Set;if(t.forEach(t=>{t.matches(e.selector)&&(t.id||(t.id="plugin-element-".concat(nw())),a.push(t))}),document.querySelectorAll(e.selector).forEach(e=>{e.id||(e.id="plugin-element-".concat(nw())),l.has(e.id)||a.includes(e)||a.push(e)}),a.length>0){let t=a.map(t=>(t.id||(t.id="plugin-element-".concat(nw())),nA(t,{withInnerHTML:e.withInnerHTML,withOuterHTML:e.withOuterHTML,identifyChildren:e.identifyChildren})));t.forEach(e=>l.add(e.id)),S.current.set(n,l),e.callback(a),T(td.sn.DOMObserveResult,{observerId:n,elements:t})}})}),C.current.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))},j[9]=T,j[10]=c):c=j[10];let D=c;j[11]!==T?(d=e=>{let{selector:t,requestId:n,withInnerHTML:a,identifyChildren:l,withOuterHTML:s}=e;if(k.current)return;let r=Array.from(document.querySelectorAll(t)).map(e=>nA(e,{withInnerHTML:a,identifyChildren:l,withOuterHTML:s}));T(td.sn.DOMQueryResult,{requestId:n,elements:r})},j[11]=T,j[12]=d):d=j[12];let M=d;j[13]!==T?(u=e=>{let{selector:t,requestId:n,withInnerHTML:a,identifyChildren:l,withOuterHTML:s}=e;if(k.current)return;let r=document.querySelector(t),i=r?nA(r,{withInnerHTML:a,identifyChildren:l,withOuterHTML:s}):null;T(td.sn.DOMQueryOneResult,{requestId:n,element:i})},j[13]=T,j[14]=u):u=j[14];let O=u;j[15]!==T?(m=e=>{let{selector:t,observerId:n,withInnerHTML:a,identifyChildren:l,withOuterHTML:s}=e;if(k.current)return;S.current.set(n,new Set),w.current.set(n,{selector:t,withInnerHTML:a,withOuterHTML:s,identifyChildren:l,callback:nk});let r=document.querySelectorAll(t);if(r.length>0){var i;let e=Array.from(r).map(nC),t=e.map(e=>nA(e,{withInnerHTML:a,identifyChildren:l,withOuterHTML:s})),o=S.current.get(n);t.forEach(e=>o.add(e.id)),null==(i=w.current.get(n))||i.callback(e),T(td.sn.DOMObserveResult,{observerId:n,elements:t})}},j[15]=T,j[16]=m):m=j[16];let L=m;j[17]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{let{observerId:t}=e;w.current.delete(t),S.current.delete(t)},j[17]=h):h=j[17];let P=h;j[18]!==T?(x=e=>{let{tagName:t,requestId:n}=e;if(k.current)return;let a=document.createElement(t);a.id="plugin-element-".concat(nw()),I.current.add(a.id);let l=document.getElementById("plugin-dom-container");l||((l=document.createElement("div")).id="plugin-dom-container",l.style.display="none",document.body.appendChild(l)),l.appendChild(a),T(td.sn.DOMCreateResult,{requestId:n,element:nA(a)})},j[18]=T,j[19]=x):x=j[19];let R=x;j[20]!==T?(f=e=>{if(k.current)return;let{elementId:t,action:n,params:a,requestId:l}=e,s=document.getElementById(t);if(!s)return void T(td.sn.DOMElementUpdated,{elementId:t,action:n,result:void 0,requestId:l});let r=null;switch(n){case"setAttribute":if(s instanceof HTMLElement&&a.name){let e=s.getAttribute(a.name);n_(s,"attribute",a.name,e)}s.setAttribute(a.name,a.value),r=!0;break;case"removeAttribute":if(s instanceof HTMLElement&&a.name){let e=s.getAttribute(a.name);n_(s,"attribute",a.name,e)}s.removeAttribute(a.name);break;case"setInnerHTML":s.innerHTML=a.html;break;case"setOuterHTML":s.outerHTML=a.html;case"appendChild":{let e=document.getElementById(a.childId);e&&s.appendChild(e);break}case"removeChild":{let e=document.getElementById(a.childId);e&&s.contains(e)&&s.removeChild(e);break}case"getText":r=s.textContent;break;case"setText":s instanceof HTMLElement&&n_(s,"text","textContent",s.textContent),s.textContent=a.text;break;case"getAttribute":r=s.getAttribute(a.name);break;case"getAttributes":r={};for(let e=0;e<s.attributes.length;e++){let t=s.attributes[e];r[t.name]=t.value}break;case"hasAttribute":r=s.hasAttribute(a.name);break;case"getProperty":r=s[a.name];break;case"setProperty":s instanceof HTMLElement&&a.name&&n_(s,"property",a.name,s[a.name]),s[a.name]=a.value;break;case"addClass":s.classList.add(a.className);break;case"removeClass":s instanceof HTMLElement&&a.className&&n_(s,"class",a.className,s.classList.contains(a.className)),s.classList.remove(a.className);break;case"hasClass":r=s.classList.contains(a.className);break;case"setStyle":s instanceof HTMLElement&&a.property&&n_(s,"style",a.property,s.style.getPropertyValue(a.property)),s.style.setProperty(a.property,a.value);break;case"setCssText":s instanceof HTMLElement&&a.cssText&&n_(s,"style","cssText",s.style.cssText),s.style.cssText=a.cssText;break;case"getStyle":if(a.property)r=s.style.getPropertyValue(a.property);else{r={};for(let e=0;e<s.style.length;e++){let t=s.style[e];r[t]=s.style.getPropertyValue(t)}}break;case"getComputedStyle":r=window.getComputedStyle(s).getPropertyValue(a.property);break;case"append":{let e=document.getElementById(a.childId);e&&s.appendChild(e);break}case"before":{let e=document.getElementById(a.siblingId);e&&s.parentNode&&s.parentNode.insertBefore(e,s);break}case"after":{let e=document.getElementById(a.siblingId);e&&s.parentNode&&s.parentNode.insertBefore(e,s.nextSibling);break}case"remove":s.remove();break;case"getParent":r=s.parentElement?nA(s.parentElement,{withInnerHTML:a.withInnerHTML,withOuterHTML:a.withOuterHTML,identifyChildren:a.identifyChildren}):null;break;case"getChildren":r=Array.from(s.children).map(e=>nA(e,{withInnerHTML:a.withInnerHTML,withOuterHTML:a.withOuterHTML,identifyChildren:a.identifyChildren}));break;case"query":{let e=Array.from(s.querySelectorAll(a.selector)).map(e=>nA(e,{withInnerHTML:a.withInnerHTML,identifyChildren:a.identifyChildren,withOuterHTML:a.withOuterHTML}));T(td.sn.DOMQueryResult,{requestId:a.requestId,elements:e});return}case"queryOne":{let e=s.querySelector(a.selector);s.querySelectorAll(a.selector);let t=e?nA(e,{withInnerHTML:a.withInnerHTML,identifyChildren:a.identifyChildren,withOuterHTML:a.withOuterHTML}):null;T(td.sn.DOMQueryOneResult,{requestId:a.requestId,element:t});return}case"addEventListener":{let e=a.listenerId,n=a.event;_.current.set(e,{elementId:t,eventType:n,callback:e=>{let a=function(e){let t={type:e.type,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,timeStamp:e.timeStamp};return e instanceof MouseEvent&&(t.clientX=e.clientX,t.clientY=e.clientY,t.screenX=e.screenX,t.screenY=e.screenY,t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,t.button=e.button,t.buttons=e.buttons),e instanceof KeyboardEvent&&(t.key=e.key,t.code=e.code,t.location=e.location,t.repeat=e.repeat,t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey),t}(e);T(td.sn.DOMEventTriggered,{elementId:t,eventType:n,event:a})}}),s.addEventListener(n,_.current.get(e).callback);break}case"removeEventListener":{let e=a.listenerId,t=a.event,n=_.current.get(e);n&&(s.removeEventListener(t,n.callback),_.current.delete(e));break}case"getDataAttribute":s instanceof HTMLElement&&(r=s.dataset[a.key]);break;case"getDataAttributes":r=s instanceof HTMLElement?{...s.dataset}:{};break;case"setDataAttribute":s instanceof HTMLElement&&(a.key&&n_(s,"dataset",a.key,s.dataset[a.key]),s.dataset[a.key]=a.value);break;case"removeDataAttribute":s instanceof HTMLElement&&(a.key&&n_(s,"dataset",a.key,s.dataset[a.key]),delete s.dataset[a.key]);break;case"hasDataAttribute":r=s instanceof HTMLElement&&a.key in s.dataset;break;case"hasStyle":r=""!==s.style.getPropertyValue(a.property);break;case"removeStyle":s instanceof HTMLElement&&a.property&&n_(s,"style",a.property,s.style.getPropertyValue(a.property)),s.style.removeProperty(a.property);break;default:console.warn("Unknown DOM action: ".concat(n))}T(td.sn.DOMElementUpdated,{elementId:t,action:n,result:r,requestId:l})},j[20]=T,j[21]=f):f=j[21];let U=f;j[22]!==e?(g=()=>{(0,eN.v)("DOMManager").info("Cleaning up DOMManager for extension",e),k.current=!0,A.current=!1,C.current&&(C.current.disconnect(),C.current=null),_.current.forEach(nS),I.current.forEach(e=>{let t=document.getElementById(e);t&&(Array.from(_.current.values()).filter(t=>t.elementId===e).forEach(e=>{t.removeEventListener(e.eventType,e.callback)}),t.remove())}),w.current.clear(),_.current.clear(),S.current.clear(),I.current.clear();let t=document.getElementById("plugin-dom-container");t&&(!t.hasChildNodes()||0===t.children.length)&&t.remove()},j[22]=e,j[23]=g):g=j[23];let H=g;return j[24]!==H||j[25]!==e||j[26]!==D||j[27]!==E?(v=()=>((0,eN.v)("DOMManager").info("DOMManager hook initialized for extension",e),"complete"===document.readyState?E():window.addEventListener("load",E),D(),()=>{H(),A.current||window.removeEventListener("load",E)}),j[24]=H,j[25]=e,j[26]=D,j[27]=E,j[28]=v):v=j[28],j[29]!==e?(b=[e],j[29]=e,j[30]=b):b=j[30],(0,p.useEffect)(v,b),j[31]!==H||j[32]!==R||j[33]!==U||j[34]!==L||j[35]!==M||j[36]!==O?(y={handleDOMQuery:M,handleDOMQueryOne:O,handleDOMObserve:L,handleDOMStopObserve:P,handleDOMCreate:R,handleDOMManipulate:U,cleanup:H},j[31]=H,j[32]=R,j[33]=U,j[34]=L,j[35]=M,j[36]=O,j[37]=y):y=j[37],y}(b);return v[0]!==k||v[1]!==b||v[2]!==y?(t={type:m.c.PLUGIN_UNLOADED,onMessage:e=>{e===b&&(k(),y())}},v[0]=k,v[1]=b,v[2]=y,v[3]=t):t=v[3],(0,i.oA)(t),v[4]!==j?(n=e=>{j(e)},v[4]=j,v[5]=n):n=v[5],v[6]!==b||v[7]!==n?(a={extensionId:b,type:td.UH.DOMQuery,onMessage:n},v[6]=b,v[7]=n,v[8]=a):a=v[8],(0,i.hn)(a),v[9]!==N?(s=e=>{N(e)},v[9]=N,v[10]=s):s=v[10],v[11]!==b||v[12]!==s?(r={extensionId:b,type:td.UH.DOMQueryOne,onMessage:s},v[11]=b,v[12]=s,v[13]=r):r=v[13],(0,i.hn)(r),v[14]!==w?(o=e=>{w(e)},v[14]=w,v[15]=o):o=v[15],v[16]!==b||v[17]!==o?(c={extensionId:b,type:td.UH.DOMObserve,onMessage:o},v[16]=b,v[17]=o,v[18]=c):c=v[18],(0,i.hn)(c),v[19]!==S?(d=e=>{S(e)},v[19]=S,v[20]=d):d=v[20],v[21]!==b||v[22]!==d?(u={extensionId:b,type:td.UH.DOMStopObserve,onMessage:d},v[21]=b,v[22]=d,v[23]=u):u=v[23],(0,i.hn)(u),v[24]!==_?(h=e=>{_(e)},v[24]=_,v[25]=h):h=v[25],v[26]!==b||v[27]!==h?(x={extensionId:b,type:td.UH.DOMCreate,onMessage:h},v[26]=b,v[27]=h,v[28]=x):x=v[28],(0,i.hn)(x),v[29]!==C?(f=e=>{C(e)},v[29]=C,v[30]=f):f=v[30],v[31]!==b||v[32]!==f?(g={extensionId:b,type:td.UH.DOMManipulate,onMessage:f},v[31]=b,v[32]=f,v[33]=g):g=v[33],(0,i.hn)(g),null}function nE(){let e,t,n,s,r,o,c,d,u,h,x=(0,l.c)(21),f=(0,D.useRouter)(),g=(0,D.usePathname)(),v=(0,D.useSearchParams)(),{sendScreenChangedEvent:b}=(0,td.d8)(),{data:y}=(0,Q.nj)();x[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],x[0]=e):e=x[0];let[j,N]=(0,p.useState)(e);return x[1]===Symbol.for("react.memo_cache_sentinel")?(t={type:m.c.PLUGIN_LOADED,onMessage:e=>{(0,p.startTransition)(()=>{N(t=>t.filter(t=>t!==e))})}},x[1]=t):t=x[1],(0,i.oA)(t),x[2]!==g||x[3]!==b?(n=()=>{b({pathname:g,query:window.location.search})},x[2]=g,x[3]=b,x[4]=n):n=x[4],x[5]!==g||x[6]!==v?(s=[g,v],x[5]=g,x[6]=v,x[7]=s):s=x[7],(0,p.useEffect)(n,s),x[8]!==g||x[9]!==b?(r=(e,t)=>{b({pathname:g,query:window.location.search},t)},x[8]=g,x[9]=b,x[10]=r):r=x[10],(0,td.Zp)(r,""),x[11]!==f?(o=e=>{["/entry","/anilist","/search","/manga","/settings","/auto-downloader","/debrid","/torrent-list","/schedule","/extensions","/sync","/discover","/scan-summaries"].some(t=>e.path.startsWith(t))&&f.push(e.path)},x[11]=f,x[12]=o):o=x[12],(0,td.KD)(o,""),x[13]!==f?(c=e=>{f.refresh()},x[13]=f,x[14]=c):c=x[14],(0,td.zO)(c,""),x[15]!==y||x[16]!==j?(d=null==y?void 0:y.filter(e=>"plugin"===e.type&&!j.includes(e.id)).map(e=>(0,a.jsx)(nT,{extensionId:e.id,onUnloaded:()=>N(t=>[...t,e.id])},e.id)),x[15]=y,x[16]=j,x[17]=d):d=x[17],x[18]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(ny,{}),x[18]=u):u=x[18],x[19]!==d?(h=(0,a.jsxs)(a.Fragment,{children:[d,u]}),x[19]=d,x[20]=h):h=x[20],h}var nD=n(96876),nM=n(91180),nO=n(37723),nL=n(46539),nP=n(78216),nR=n(73826);function nU(e){console.warn(e)}function nH(e){console.log(e)}function nG(e){e&&K.oR.error(e)}function nB(e){e&&K.oR.warning(e)}function nq(e){e&&K.oR.success(e)}function nK(e){e&&K.oR.info(e)}var nz=n(55340),nW=n(25264);function nF(){let e,t=(0,l.c)(2),n=(0,q.jE)();t[0]!==n?(e={type:m.c.INVALIDATE_QUERIES,onMessage:async e=>{await Promise.all(e.map(async e=>{await n.invalidateQueries({queryKey:[e]})}))}},t[0]=n,t[1]=e):e=t[1],(0,i.oA)(e)}let nQ=e=>{let t,n,o,c,d,u,f,g,v,y,j,N,w,S,_,C,k,A=(0,l.c)(18),{children:I}=e;return(0,nM.m)(),(0,nD.NZ)(),(0,ec.v7)(),!function(){let e,t,n,a=(0,l.c)(7),s=(0,D.usePathname)(),r=(0,h.Xr)(t4),o=(0,q.jE)(),{data:c}=(0,nO.s3)("/auto-downloader"!==s);a[0]!==o?(e={type:m.c.AUTO_DOWNLOADER_ITEM_ADDED,onMessage:e=>{o.invalidateQueries({queryKey:[H.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.key]})}},a[0]=o,a[1]=e):e=a[1],(0,i.oA)(e),a[2]!==c||a[3]!==r?(t=()=>{r(null!=c?c:[])},a[2]=c,a[3]=r,a[4]=t):t=a[4],a[5]!==c?(n=[c],a[5]=c,a[6]=n):n=a[6],(0,p.useEffect)(t,n)}(),!function(){let e,t,n=(0,l.c)(4),a=(0,q.jE)();n[0]!==a?(e={type:m.c.REFRESHED_ANILIST_ANIME_COLLECTION,onMessage:e=>{(async()=>{await a.invalidateQueries({queryKey:[H.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await a.invalidateQueries({queryKey:[H.S.ANILIST.GetAnimeCollection.key]}),await a.invalidateQueries({queryKey:[H.S.ANILIST.GetRawAnimeCollection.key]}),await a.invalidateQueries({queryKey:[H.S.ANIME_ENTRIES.GetAnimeEntry.key]}),await a.invalidateQueries({queryKey:[H.S.ANIME_ENTRIES.GetMissingEpisodes.key]})})()}},n[0]=a,n[1]=e):e=n[1],(0,i.oA)(e),n[2]!==a?(t={type:m.c.REFRESHED_ANILIST_MANGA_COLLECTION,onMessage:e=>{(async()=>{await a.invalidateQueries({queryKey:[H.S.MANGA.GetAnilistMangaCollection.key]}),await a.invalidateQueries({queryKey:[H.S.MANGA.GetMangaEntry.key]})})()}},n[2]=a,n[3]=t):t=n[3],(0,i.oA)(t)}(),!function(){let e,t,n,a,s,r,o=(0,l.c)(6);o[0]===Symbol.for("react.memo_cache_sentinel")?(e={type:m.c.INFO_TOAST,onMessage:nK},o[0]=e):e=o[0],(0,i.oA)(e),o[1]===Symbol.for("react.memo_cache_sentinel")?(t={type:m.c.SUCCESS_TOAST,onMessage:nq},o[1]=t):t=o[1],(0,i.oA)(t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n={type:m.c.WARNING_TOAST,onMessage:nB},o[2]=n):n=o[2],(0,i.oA)(n),o[3]===Symbol.for("react.memo_cache_sentinel")?(a={type:m.c.ERROR_TOAST,onMessage:nG},o[3]=a):a=o[3],(0,i.oA)(a),o[4]===Symbol.for("react.memo_cache_sentinel")?(s={type:m.c.CONSOLE_LOG,onMessage:nH},o[4]=s):s=o[4],(0,i.oA)(s),o[5]===Symbol.for("react.memo_cache_sentinel")?(r={type:m.c.CONSOLE_WARN,onMessage:nU},o[5]=r):r=o[5],(0,i.oA)(r)}(),!function(){let e,t,n,a=(0,l.c)(6),s=(0,q.jE)();a[0]!==s?(e={type:m.c.EXTENSIONS_RELOADED,onMessage:()=>{(async()=>{await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListAnimeTorrentProviderExtensions.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListMangaProviderExtensions.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListOnlinestreamProviderExtensions.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListExtensionData.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.GetAllExtensions.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.GetExtensionUserConfig.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.GetExtensionUpdateData.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListDevelopmentModeExtensions.key]})})()}},a[0]=s,a[1]=e):e=a[1],(0,i.oA)(e),a[2]!==s?(t={type:m.c.PLUGIN_UNLOADED,onMessage:()=>{(async()=>{await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.ListDevelopmentModeExtensions.key]})})()}},a[2]=s,a[3]=t):t=a[3],(0,i.oA)(t),a[4]!==s?(n={type:m.c.EXTENSION_UPDATES_FOUND,onMessage:async e=>{await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.GetExtensionUpdateData.key]}),await s.invalidateQueries({queryKey:[H.S.EXTENSIONS.GetAllExtensions.key]})}},a[4]=s,a[5]=n):n=a[5],(0,i.oA)(n)}(),!function(){let e,t,n=(0,l.c)(4),a=(0,q.jE)();n[0]!==a?(e={type:m.c.REFRESHED_MANGA_DOWNLOAD_DATA,onMessage:e=>{(async()=>{await a.invalidateQueries({queryKey:[H.S.MANGA_DOWNLOAD.GetMangaDownloadsList.key]})})()}},n[0]=a,n[1]=e):e=n[1],(0,i.oA)(e),n[2]!==a?(t={type:m.c.CHAPTER_DOWNLOAD_QUEUE_UPDATED,onMessage:e=>{(async()=>{await a.invalidateQueries({queryKey:[H.S.MANGA_DOWNLOAD.GetMangaDownloadData.key]}),await a.invalidateQueries({queryKey:[H.S.MANGA_DOWNLOAD.GetMangaDownloadQueue.key]}),await a.invalidateQueries({queryKey:[H.S.MANGA_DOWNLOAD.GetMangaDownloadsList.key]})})()}},n[2]=a,n[3]=t):t=n[3],(0,i.oA)(t)}(),!function(){let e,t=(0,l.c)(4),n=(0,h.md)(nR.O1),{externalPlayerLink:a}=(0,nP._V)(),{mutate:s}=(0,em.a8)();t[0]!==n||t[1]!==a||t[2]!==s?(e={type:m.c.EXTERNAL_PLAYER_OPEN_URL,onMessage:e=>{if(!(null==a?void 0:a.length))return void K.oR.error("External player link is not set.");K.oR.info("Opening media file in external player."),(0,eN.v)("EXTERNAL_PLAYER_LINK").info("Opening external player",e);let t=(0,nL.a)(a,e.url);(0,eN.v)("EXTERNAL_PLAYER_LINK").info("External player URL",t),(0,nl.A)(t),(0,eN.v)("EXTERNAL_PLAYER_LINK").info("Starting manual tracking",{mediaId:e.mediaId,episodeNumber:e.episodeNumber,clientId:n||""}),s({mediaId:e.mediaId,episodeNumber:e.episodeNumber,clientId:n||""})}},t[0]=n,t[1]=a,t[2]=s,t[3]=e):e=t[3],(0,i.oA)(e)}(),!function(){let e,t,n,a,s=(0,l.c)(9),r=(0,q.jE)();s[0]!==r?(e={type:m.c.SYNC_LOCAL_FINISHED,onMessage:e=>{r.invalidateQueries({queryKey:[H.S.SYNC.SyncGetTrackedMediaItems.key]})}},s[0]=r,s[1]=e):e=s[1],(0,i.oA)(e);let[o,c]=p.useState(null);s[2]!==o?(t={type:m.c.SYNC_LOCAL_QUEUE_STATE,onMessage:e=>{(0,eN.v)("SYNC").info("Queue state",o),c(e)}},s[2]=o,s[3]=t):t=s[3],(0,i.oA)(t);let{setSyncIsActive:d}=$();s[4]!==o||s[5]!==d?(n=()=>{d(!!o&&(Object.keys(o.animeTasks).length>0||Object.keys(o.mangaTasks).length>0))},s[4]=o,s[5]=d,s[6]=n):n=s[6],s[7]!==o?(a=[o],s[7]=o,s[8]=a):a=s[8],p.useEffect(n,a)}(),nF(),A[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(P,{}),g=(0,a.jsx)(x,{}),v=(0,a.jsx)(z,{}),y=(0,a.jsx)(r.U6,{}),j=(0,a.jsx)(s.B,{}),N=(0,a.jsx)(eB,{}),w=(0,a.jsx)(nW.d5,{}),S=(0,a.jsx)(nz.r,{}),_=(0,a.jsx)(W.M,{}),n=(0,a.jsx)(eE,{}),o=(0,a.jsx)(ev,{}),c=(0,a.jsx)(U.m7,{}),d=(0,a.jsx)(b,{}),u=(0,a.jsx)(tz.Rg,{}),f=(0,a.jsx)(nE,{}),A[0]=t,A[1]=n,A[2]=o,A[3]=c,A[4]=d,A[5]=u,A[6]=f,A[7]=g,A[8]=v,A[9]=y,A[10]=j,A[11]=N,A[12]=w,A[13]=S,A[14]=_):(t=A[0],n=A[1],o=A[2],c=A[3],d=A[4],u=A[5],f=A[6],g=A[7],v=A[8],y=A[9],j=A[10],N=A[11],w=A[12],S=A[13],_=A[14]),A[15]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(te.yR,{children:(0,a.jsx)(nc,{})}),A[15]=C):C=A[15],A[16]!==I?(k=(0,a.jsxs)(a.Fragment,{children:[t,g,v,y,j,N,w,S,_,n,o,c,d,u,f,(0,a.jsx)(te.Xv,{children:(0,a.jsxs)(te.e7,{withSidebar:!0,sidebarSize:"slim",children:[C,(0,a.jsx)(te.e7,{children:(0,a.jsx)(te.VZ,{children:I})})]})})]}),A[16]=I,A[17]=k):k=A[17],k};function nV(){var e,t,n,s,r,i;let o,c,d,u,m,h,x,g,v,b,y,j,N,w,S,_,C,k,A,I,T,E,M,L=(0,l.c)(63),P=(0,G.v1)(),R=(0,te.kb)(),U=(0,tn.Ky)(),[H,B]=p.useState(!1),q=U.expandSidebarOnHover?!R.isBelowBreakpoint&&!H:!R.isBelowBreakpoint,K=(0,D.usePathname)();L[0]!==R.isBelowBreakpoint||L[1]!==U.expandSidebarOnHover?(o=()=>{!R.isBelowBreakpoint&&U.expandSidebarOnHover&&B(!0)},L[0]=R.isBelowBreakpoint,L[1]=U.expandSidebarOnHover,L[2]=o):o=L[2];let z=o;L[3]!==H||L[4]!==U.expandSidebarOnHover?(c=()=>{H&&U.expandSidebarOnHover&&B(!1)},L[3]=H,L[4]=U.expandSidebarOnHover,L[5]=c):c=L[5];let W=c,F=!R.isBelowBreakpoint&&H&&"w-[260px]",Q=!R.isBelowBreakpoint&&!U.disableSidebarTransparency&&"bg-transparent",V=!R.isBelowBreakpoint&&!U.disableSidebarTransparency&&U.expandSidebarOnHover&&"hover:bg-[--background]";L[6]!==F||L[7]!==Q||L[8]!==V?(d=(0,f.cn)("h-full flex flex-col justify-between transition-gpu w-full transition-[width]",F,Q,V),L[6]=F,L[7]=Q,L[8]=V,L[9]=d):d=L[9],L[10]!==R.isBelowBreakpoint||L[11]!==U.disableSidebarTransparency||L[12]!==U.expandSidebarOnHover?(u=!R.isBelowBreakpoint&&U.expandSidebarOnHover&&U.disableSidebarTransparency&&(0,a.jsx)("div",{className:(0,f.cn)("fixed h-full translate-x-0 w-[50px] bg-gradient bg-gradient-to-r via-[--background] from-[--background] to-transparent","group-hover/main-sidebar:translate-x-[250px] transition opacity-0 duration-300 group-hover/main-sidebar:opacity-100")}),L[10]=R.isBelowBreakpoint,L[11]=U.disableSidebarTransparency,L[12]=U.expandSidebarOnHover,L[13]=u):u=L[13],L[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)("div",{className:"mb-4 p-4 pb-0 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo.png",alt:"logo",className:"w-15 h-10"})}),L[14]=m):m=L[14];let $="/offline"===K;L[15]!==$?(h={iconType:es.ItZ,name:"Library",href:"/offline",isCurrent:$},L[15]=$,L[16]=h):h=L[16],L[17]!==K||L[18]!==(null==P||null==(t=P.settings)||null==(e=t.library)?void 0:e.enableManga)?(x=(null==P||null==(s=P.settings)||null==(n=s.library)?void 0:n.enableManga)&&{iconType:e7.Svc,name:"Manga",href:"/offline/manga",isCurrent:K.startsWith("/offline/manga")},L[17]=K,L[18]=null==P||null==(i=P.settings)||null==(r=i.library)?void 0:r.enableManga,L[19]=x):x=L[19],L[20]!==x?(g=[x].filter(Boolean),L[20]=x,L[21]=g):g=L[21];let X=g;L[22]!==X||L[23]!==h?(v=[h,...X].filter(Boolean),L[22]=X,L[23]=h,L[24]=v):v=L[24],L[25]!==R?(b=()=>R.setOpen(!1),L[25]=R,L[26]=b):b=L[26],L[27]!==q||L[28]!==v||L[29]!==b?(y=(0,a.jsx)(J.m,{className:"px-4",collapsed:q,itemClass:"relative",items:v,onLinkItemClick:b}),L[27]=q,L[28]=v,L[29]=b,L[30]=y):y=L[30],L[31]!==q?(j=(0,a.jsx)(tK,{isCollapsed:q,handleExpandSidebar:nX,handleUnexpandedSidebar:n$}),L[31]=q,L[32]=j):j=L[32],L[33]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(tU,{place:"sidebar"}),L[33]=N):N=L[33],L[34]!==y||L[35]!==j?(w=(0,a.jsxs)("div",{children:[m,y,j,N]}),L[34]=y,L[35]=j,L[36]=w):w=L[36],L[37]!==R?(S=()=>R.setOpen(!1),L[37]=R,L[38]=S):S=L[38];let Y="/settings"===K;return L[39]!==Y?(_=[{iconType:O.VSk,name:"Settings",href:"/settings",isCurrent:Y}],L[39]=Y,L[40]=_):_=L[40],L[41]!==q||L[42]!==S||L[43]!==_?(C=(0,a.jsx)("div",{children:(0,a.jsx)(J.m,{collapsed:q,itemClass:"relative",onLinkItemClick:S,items:_})}),L[41]=q,L[42]=S,L[43]=_,L[44]=C):C=L[44],L[45]!==R.isBelowBreakpoint?(k=(0,f.cn)("w-full flex p-2.5 pt-1 items-center space-x-2",{hidden:R.isBelowBreakpoint}),L[45]=R.isBelowBreakpoint,L[46]=k):k=L[46],L[47]===Symbol.for("react.memo_cache_sentinel")?(A=(0,a.jsx)(t9,{size:"sm",className:"cursor-pointer"}),L[47]=A):A=L[47],L[48]!==H?(I=H&&(0,a.jsx)("p",{className:"truncate",children:"Offline"}),L[48]=H,L[49]=I):I=L[49],L[50]!==k||L[51]!==I?(T=(0,a.jsx)("div",{className:"flex w-full gap-2 flex-col",children:(0,a.jsxs)("div",{className:k,children:[A,I]})}),L[50]=k,L[51]=I,L[52]=T):T=L[52],L[53]!==C||L[54]!==T?(E=(0,a.jsxs)("div",{className:"flex w-full gap-2 flex-col px-4",children:[C,T]}),L[53]=C,L[54]=T,L[55]=E):E=L[55],L[56]!==z||L[57]!==W||L[58]!==w||L[59]!==E||L[60]!==d||L[61]!==u?(M=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(te.GK,{className:d,onMouseEnter:z,onMouseLeave:W,children:[u,w,E]})}),L[56]=z,L[57]=W,L[58]=w,L[59]=E,L[60]=d,L[61]=u,L[62]=M):M=L[62],M}function n$(){}function nX(){}var nY=n(42692),nZ=n(38310);function nJ(e){let t,n,s,r,i=(0,l.c)(8),{refetch:o,title:c}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(E.default,{src:"/logo_2.png",alt:"Loading...",priority:!0,width:180,height:180,className:"animate-pulse"}),i[0]=t):t=i[0];let u=null!=c?c:"S e a n i m e";return i[1]!==u?(n=(0,a.jsx)(nY.W,{className:"text-lg mt-2 text-[--muted] animate-pulse",words:u}),i[1]=u,i[2]=n):n=i[2],i[3]!==o?(s="desktop"===nZ.env.NEXT_PUBLIC_PLATFORM&&!!o&&(0,a.jsx)(w.$n,{onClick:n0,className:"mt-4",intent:"gray-outline",size:"sm",children:"Reload"}),i[3]=o,i[4]=s):s=i[4],i[5]!==n||i[6]!==s?(r=(0,a.jsxs)(d.p8,{showSpinner:!1,children:[t,n,s]}),i[5]=n,i[6]=s,i[7]=r):r=i[7],r}function n0(){return window.location.reload()}function n1(e){let t,n,s,r,i,o,c,d,u,m,h=(0,l.c)(16),{children:x}=e,f=(0,G.v1)(),g=(0,D.usePathname)(),v=(0,D.useRouter)();nF();let[y,j]=p.useState(!1);if(h[0]!==g||h[1]!==v||h[2]!==(null==f?void 0:f.isOffline)?(t=()=>(null==f?void 0:f.isOffline)?g.startsWith("/offline")||g.startsWith("/settings")||g.startsWith("/mediastream")||g.startsWith("/medialinks")?void j(!0):void v.push("/offline"):void j(!1),h[0]=g,h[1]=v,h[2]=null==f?void 0:f.isOffline,h[3]=t):t=h[3],h[4]!==g?(n=[g],h[4]=g,h[5]=n):n=h[5],p.useEffect(t,n),!y){let e;return h[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(nJ,{}),h[6]=e):e=h[6],e}return h[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(eE,{}),r=(0,a.jsx)(ev,{}),i=(0,a.jsx)(U.m7,{}),o=(0,a.jsx)(b,{}),c=(0,a.jsx)(tz.Rg,{}),d=(0,a.jsx)(nE,{}),h[7]=s,h[8]=r,h[9]=i,h[10]=o,h[11]=c,h[12]=d):(s=h[7],r=h[8],i=h[9],o=h[10],c=h[11],d=h[12]),h[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(te.yR,{children:(0,a.jsx)(nV,{})}),h[13]=u):u=h[13],h[14]!==x?(m=(0,a.jsxs)(a.Fragment,{children:[s,r,i,o,c,d,(0,a.jsx)(te.Xv,{children:(0,a.jsxs)(te.e7,{withSidebar:!0,sidebarSize:"slim",children:[u,(0,a.jsx)(te.e7,{children:(0,a.jsx)(te.VZ,{children:x})})]})})]}),h[14]=x,h[15]=m):m=h[15],m}var n2=n(86726),n3=n(7013),n4=n(15155),n5=n(35354),n6=n(28718),n8=n(73594),n7=n(62361),n9=n(40568);function ae(e){let{status:t}=e,n=(0,D.useRouter)(),{getDefaultVlcPath:l,getDefaultQBittorrentPath:s,getDefaultTransmissionPath:r}=(0,nr.iK)(),i=(0,G.LX)(),{mutate:o,data:d,isPending:u,isSuccess:m}=(0,n3.JW)();p.useEffect(()=>{!u&&(null==d?void 0:d.settings)&&(i(d),n.push("/"))},[d,u]);let h=p.useMemo(()=>l(t.os),[t.os]),x=p.useMemo(()=>s(t.os),[t.os]),f=p.useMemo(()=>r(t.os),[t.os]),g=p.useMemo(()=>(0,nr.Np)(t.os),[t.os]);return u?(0,a.jsx)(nJ,{}):d?void 0:(0,a.jsxs)("div",{className:"container max-w-5xl py-10",children:[(0,a.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo_2.png",alt:"logo",className:"w-36 h-auto"})}),(0,a.jsx)(c.Zp,{className:"relative p-4 bg-transparent border-none",children:(0,a.jsx)(te.KZ,{children:(0,a.jsxs)("div",{className:"space-y-4 p-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-center",children:"Getting started"}),(0,a.jsx)("p",{className:"italic text-[--muted] text-center",children:"These settings can be modified later."})]}),(0,a.jsx)(n5.lV,{schema:nr.nG,onSubmit:e=>{o({library:{libraryPath:e.libraryPath,autoUpdateProgress:!0,disableUpdateCheck:!1,torrentProvider:e.torrentProvider||nr.r5,autoScan:!1,disableAnimeCardTrailers:!1,enableManga:e.enableManga,enableOnlinestream:e.enableOnlinestream,dohProvider:nr.Mk,openTorrentClientOnStart:!1,openWebURLOnStart:!1,refreshLibraryOnStart:!1,autoPlayNextEpisode:!1,enableWatchContinuity:!1,libraryPaths:[],autoSyncOfflineLocalData:!1,includeOnlineStreamingInLibrary:!1,scannerMatchingThreshold:0,scannerMatchingAlgorithm:""},manga:{defaultMangaProvider:"",mangaAutoUpdateProgress:!1,mangaDirectoryPath:e.libraryPath||""},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||"",mpvSocket:e.mpvSocket||"",mpvPath:e.mpvPath||""},discord:{enableRichPresence:e.enableRichPresence,enableAnimeRichPresence:!0,enableMangaRichPresence:!0,richPresenceHideSeanimeRepositoryButton:!1,richPresenceShowAniListMediaButton:!1,richPresenceShowAniListProfileButton:!1},torrent:{defaultTorrentClient:e.defaultTorrentClient,qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername,qbittorrentTags:"",transmissionPath:e.transmissionPath,transmissionHost:e.transmissionHost,transmissionPort:e.transmissionPort,transmissionUsername:e.transmissionUsername,transmissionPassword:e.transmissionPassword,showActiveTorrentCount:!1,hideTorrentList:!1},anilist:{hideAudienceScore:!1,enableAdultContent:e.enableAdultContent,blurAdultContent:!1},enableTorrentStreaming:e.enableTorrentStreaming,enableTranscode:e.enableTranscode,notifications:{disableNotifications:!1,disableAutoDownloaderNotifications:!1,disableAutoScannerNotifications:!1},debridProvider:e.debridProvider,debridApiKey:e.debridApiKey})},defaultValues:{mediaPlayerHost:"127.0.0.1",vlcPort:8080,mpcPort:13579,defaultPlayer:"mpv",vlcPath:h,qbittorrentPath:x,qbittorrentHost:"127.0.0.1",qbittorrentPort:8081,transmissionPath:f,transmissionHost:"127.0.0.1",transmissionPort:9091,mpcPath:"C:/Program Files/MPC-HC/mpc-hc64.exe",torrentProvider:nr.r5,mpvSocket:g,enableRichPresence:!1,autoScan:!1,enableManga:!0,enableOnlinestream:!1,enableAdultContent:!0,enableTorrentStreaming:!1,enableTranscode:!1,debridProvider:"none",debridApiKey:""},stackClass:"space-y-8",children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h4",{className:"text-center",children:"Local anime library"})}),(0,a.jsx)(n5.D0.DirectorySelector,{name:"libraryPath",label:"Anime library path",leftIcon:(0,a.jsx)(n6.WNP,{}),shouldExist:!0,help:"Enter the full path. You can add more folders later."})]}),(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center",children:"Desktop Media Player"}),(0,a.jsx)("p",{className:"text-[--muted] text-center text-sm",children:"Used to play media on your host computer and track your progress automatically."}),(0,a.jsxs)("p",{className:"text-[--muted] text-center text-sm",children:["Used for ",(0,a.jsx)("span",{className:"font-bold",children:"anime library"}),", ",(0,a.jsx)("span",{className:"font-bold",children:"torrent streaming & debrid streaming"}),"."]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n5.D0.Select,{name:"defaultPlayer",label:"Default media player",required:!0,leftIcon:(0,a.jsx)(n6.R8s,{}),options:[{label:"MPV",value:"mpv"},{label:"VLC",value:"vlc"},{label:"MPC-HC",value:"mpc-hc"}]}),(0,a.jsxs)(n4.nD,{type:"single",className:"",triggerClass:"text-[--muted] dark:data-[state=open]:text-white px-0 dark:hover:bg-transparent hover:bg-transparent dark:hover:text-white hover:text-black",itemClass:"border-b",contentClass:"pb-8",collapsible:!0,children:[(0,a.jsxs)(n4.As,{value:"mpv",children:[(0,a.jsx)(n4.$m,{children:(0,a.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n8.UfV,{})," MPV"]})}),(0,a.jsx)(n4.ub,{className:"px-1 py-4 space-y-4",children:(0,a.jsx)("div",{className:"flex gap-4 flex-col md:flex-row",children:(0,a.jsx)(n5.D0.Text,{name:"mpvSocket",label:"Socket / Pipe"})})})]}),(0,a.jsxs)(n4.As,{value:"vlc",children:[(0,a.jsx)(n4.$m,{children:(0,a.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n6.FKC,{})," VLC"]})}),(0,a.jsxs)(n4.ub,{className:"px-1 py-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-[--muted]",children:"Leave these fields if you don't want to use VLC."}),(0,a.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row",children:[(0,a.jsx)(n5.D0.Text,{name:"mediaPlayerHost",label:"Host"}),(0,a.jsx)(n5.D0.Number,{name:"vlcPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,a.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row",children:[(0,a.jsx)(n5.D0.Text,{name:"vlcUsername",label:"Username"}),(0,a.jsx)(n5.D0.Text,{name:"vlcPassword",label:"Password"})]}),(0,a.jsx)(n5.D0.Text,{name:"vlcPath",label:"Executable",help:"Path to the VLC executable, this is used to launch the application."})]})]}),(0,a.jsxs)(n4.As,{value:"mpc-hc",children:[(0,a.jsx)(n4.$m,{children:(0,a.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n6.vVs,{})," MPC-HC"]})}),(0,a.jsxs)(n4.ub,{className:"px-1 py-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-[--muted]",children:"Leave these fields if you don't want to use MPC-HC."}),(0,a.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row",children:[(0,a.jsx)(n5.D0.Text,{name:"mediaPlayerHost",label:"Host"}),(0,a.jsx)(n5.D0.Number,{name:"mpcPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,a.jsx)("div",{className:"flex gap-4 flex-col md:flex-row",children:(0,a.jsx)(n5.D0.Text,{name:"mpcPath",label:"Executable",help:"Path to the MPC-HC executable, this is used to launch the application."})})]})]})]})]})]}),(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center",children:"Torrent Provider Extension"}),(0,a.jsx)("p",{className:"text-[--muted] text-center text-sm",children:"Built-in torrent provider extension used by the search engine and Auto Downloader."}),(0,a.jsxs)("p",{className:"text-[--muted] text-center text-sm",children:["Used for ",(0,a.jsx)("span",{className:"font-bold",children:"anime library"}),", ",(0,a.jsx)("span",{className:"font-bold",children:"torrent streaming & debrid streaming"}),"."]})]}),(0,a.jsx)(n5.D0.Select,{name:"torrentProvider",label:"Torrent Provider",required:!0,leftIcon:(0,a.jsx)(n9.j$e,{className:"text-orange-500"}),options:[{label:"AnimeTosho (recommended)",value:nr.xF.ANIMETOSHO},{label:"Nyaa",value:nr.xF.NYAA}]})]}),(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center",children:"Torrent Client"}),(0,a.jsx)("p",{className:"text-[--muted] text-center",children:"Torrent client used to download anime."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n5.D0.Select,{name:"defaultTorrentClient",label:"Default torrent client",leftIcon:(0,a.jsx)(n7.RlU,{className:"text-blue-400"}),options:[{label:"qBittorrent",value:"qbittorrent"},{label:"Transmission",value:"transmission"},{label:"None",value:"none"}]}),(0,a.jsxs)(n4.nD,{type:"single",className:"",triggerClass:"text-[--muted] dark:data-[state=open]:text-white px-0 dark:hover:bg-transparent hover:bg-transparent dark:hover:text-white hover:text-black",itemClass:"border-b",contentClass:"pb-8",collapsible:!0,children:[(0,a.jsxs)(n4.As,{value:"qbittorrent",children:[(0,a.jsx)(n4.$m,{children:(0,a.jsx)("h4",{className:"flex gap-2 items-center",children:"qBittorrent"})}),(0,a.jsxs)(n4.ub,{className:"px-1 py-4 space-y-4",children:[(0,a.jsx)(n5.D0.Text,{name:"qbittorrentHost",label:"Host"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)(n5.D0.Text,{name:"qbittorrentUsername",label:"Username"}),(0,a.jsx)(n5.D0.Text,{name:"qbittorrentPassword",label:"Password"}),(0,a.jsx)(n5.D0.Number,{name:"qbittorrentPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,a.jsx)(n5.D0.Text,{name:"qbittorrentPath",label:"Executable",help:"Path to the qBittorrent executable, this is used to launch the application."})]})]}),(0,a.jsxs)(n4.As,{value:"transmission",children:[(0,a.jsx)(n4.$m,{children:(0,a.jsx)("h4",{className:"flex gap-2 items-center",children:"Transmission"})}),(0,a.jsxs)(n4.ub,{className:"px-1 py-4 space-y-4",children:[(0,a.jsx)(n5.D0.Text,{name:"transmissionHost",label:"Host"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)(n5.D0.Text,{name:"transmissionUsername",label:"Username"}),(0,a.jsx)(n5.D0.Text,{name:"transmissionPassword",label:"Password"}),(0,a.jsx)(n5.D0.Number,{name:"transmissionPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,a.jsx)(n5.D0.Text,{name:"transmissionPath",label:"Executable",help:"Path to the Transmission executable, this is used to launch the application."})]})]})]})]})]}),(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center",children:"Debrid Service"}),(0,a.jsx)("p",{className:"text-[--muted] text-center",children:"Debrid service used to download or stream anime."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n5.D0.Select,{name:"debridProvider",label:"Debrid service",leftIcon:(0,a.jsx)(ni.hgf,{className:"text-yellow-500"}),options:[{label:"None",value:"none"},{label:"TorBox",value:"torbox"},{label:"Real-Debrid",value:"realdebrid"}]}),"none"!==e.watch("debridProvider")&&""!==e.watch("debridProvider")&&(0,a.jsx)(n5.D0.Text,{name:"debridApiKey",label:"API Key",help:"API key provided by the debrid service."})]})]}),(0,a.jsxs)(c.Zp,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center",children:"Features"}),(0,a.jsx)("p",{className:"text-[--muted] text-center",children:"Select additional features you want to use."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(n5.D0.Checkbox,{name:"enableManga",label:(0,a.jsx)("span",{children:"Manga"}),help:"Read and download manga chapters.",size:"lg",...at}),(0,a.jsx)(n5.D0.Checkbox,{name:"enableTranscode",label:(0,a.jsx)("span",{children:"Media streaming / Transcoding"}),help:"Stream downloaded episodes to other devices using transcoding or direct play. FFmpeg is required.",size:"lg",...at}),(0,a.jsx)(n5.D0.Checkbox,{name:"enableTorrentStreaming",label:(0,a.jsx)("span",{children:"Torrent streaming"}),help:"Stream torrents directly to your media player without having to wait for the download to complete.",size:"lg",...at}),(0,a.jsx)(n5.D0.Checkbox,{name:"enableOnlinestream",label:(0,a.jsx)("span",{children:"Online streaming"}),help:"Watch anime episodes from online sources.",size:"lg",...at}),(0,a.jsx)(n5.D0.Checkbox,{name:"enableRichPresence",label:(0,a.jsx)("span",{children:"Discord Rich Presence"}),help:"Show what you're watching/reading on Discord.",size:"lg",...at}),(0,a.jsx)(n5.D0.Checkbox,{name:"enableAdultContent",label:(0,a.jsx)("span",{children:"NSFW"}),help:(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"Show adult content in your library and search results."})}),size:"lg",...at})]})]}),(0,a.jsx)(n5.D0.Submit,{className:"w-full",role:"submit",showLoadingOverlayOnSuccess:!0,loading:u,children:"Continue"})]})})]})})}),(0,a.jsx)("p",{className:"text-[--muted] mt-5 text-center",children:"Made by 5rahim"})]})}let at={labelClass:(0,f.cn)("block cursor-pointer transition overflow-hidden w-full py-1 rounded-[--radius-md]","bg-gray-50 hover:bg-[--subtle] dark:bg-gray-950 border-dashed","data-[checked=false]:text-[--muted] hover:data-[checked=false]:opacity-50","data-[checked=true]:bg-white dark:data-[checked=true]:bg-gray-950","focus:ring-2 ring-brand-100 dark:ring-brand-900 ring-offset-1 ring-offset-[--background] focus-within:ring-2 transition","data-[checked=true]:ring-offset-0","data-[checked=true]:text-[--brand]"),containerClass:"flex items-center justify-between",className:(0,f.cn)("absolute top-0 right-0 z-10 rounded-tl-none rounded-br-none"),fieldClass:"border p-4 rounded-[--radius-md] relative",fieldHelpTextClass:"text-pretty"};var an=n(73329),aa=n.n(an),al=n(38310);function as(e){var t;let n,s,r,o,d,u=(0,l.c)(35),{host:h,children:x}=e,f=(0,D.usePathname)(),g=(0,D.useRouter)(),v=(0,G.v1)(),b=(0,G.LX)(),{data:y,isLoading:j,refetch:N}=(0,n2.wy)();u[0]!==y||u[1]!==b?(n=()=>{y&&b(y)},u[0]=y,u[1]=b,u[2]=n):n=u[2],u[3]!==y?(s=[y],u[3]=y,u[4]=s):s=u[4],p.useEffect(n,s),u[5]!==N?(r={type:m.c.ANILIST_DATA_LOADED,onMessage:()=>{(0,eN.v)("Data Wrapper").info("Anilist data loaded, refetching server status"),N()}},u[5]=N,u[6]=r):r=u[6],(0,i.oA)(r);let S=p.useRef(null);u[7]!==N||u[8]!==(null==v?void 0:v.serverReady)?(o=()=>((null==v?void 0:v.serverReady)||(S.current=setInterval(()=>{(0,eN.v)("Data Wrapper").info("Refetching server status"),N()},2e3)),()=>{(0,eN.v)("Data Wrapper").info("Clearing interval"),S.current&&(clearInterval(S.current),S.current=null)}),u[7]=N,u[8]=null==v?void 0:v.serverReady,u[9]=o):o=u[9];let _=null==v?void 0:v.serverReady;if(u[10]!==_?(d=[_],u[10]=_,u[11]=d):d=u[11],p.useEffect(o,d),j||!v){let e;return u[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(nJ,{}),u[12]=e):e=u[12],e}if(!(null==v?void 0:v.serverReady)){let e;return u[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(nJ,{title:"L o a d i n g"}),u[13]=e):e=u[13],e}if(f.startsWith("/auth/callback"))return x;if(!(null==v?void 0:v.settings)){let e;return u[14]!==v?(e=(0,a.jsx)(ae,{status:v}),u[14]=v,u[15]=e):e=u[15],e}if(null==v?void 0:v.updating){let e;return u[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{className:"container max-w-3xl py-10",children:[(0,a.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo_2.png",alt:"logo",className:"w-36 h-auto"})}),(0,a.jsx)("p",{className:"text-center text-lg",children:"Seanime is currently updating. Refresh the page once the update is complete and the connection has been reestablished."})]}),u[16]=e):e=u[16],e}if(!(null==v||null==(t=v.mediastreamSettings)?void 0:t.transcodeEnabled)&&f.startsWith("/mediastream")){let e;return u[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(eR.D,{title:"Transcoding not enabled"}),u[17]=e):e=u[17],e}if((null==v?void 0:v.user)||"127.0.0.1:43211"!==h||"desktop"===al.env.NEXT_PUBLIC_PLATFORM){if(!(null==v?void 0:v.user)){let e,t,n,l,s,r,i,o;return u[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo.png",alt:"logo",className:"w-24 h-auto"})}),t=(0,a.jsx)("h3",{children:"Welcome!"}),u[25]=e,u[26]=t):(e=u[25],t=u[26]),u[27]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(aa(),{href:ns.tL,target:"_blank",children:(0,a.jsx)(w.$n,{leftIcon:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",children:(0,a.jsx)("path",{d:"M6.361 2.943 0 21.056h4.942l1.077-3.133H11.4l1.052 3.133H22.9c.71 0 1.1-.392 1.1-1.101V17.53c0-.71-.39-1.101-1.1-1.101h-6.483V4.045c0-.71-.392-1.102-1.101-1.102h-2.422c-.71 0-1.101.392-1.101 1.102v1.064l-.758-2.166zm2.324 5.948 1.688 5.018H7.144z"})}),intent:"white",size:"md",children:"Get AniList token"})}),u[27]=n):n=u[27],u[28]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n5.Jo)(ar),u[28]=l):l=u[28],u[29]!==g?(s=e=>{g.push("/auth/callback#access_token="+e.token.trim())},u[29]=g,u[30]=s):s=u[30],u[31]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(n5.D0.Textarea,{name:"token",label:"Enter the token",fieldClass:"px-4"}),i=(0,a.jsx)(n5.D0.Submit,{showLoadingOverlayOnSuccess:!0,children:"Continue"}),u[31]=r,u[32]=i):(r=u[31],i=u[32]),u[33]!==s?(o=(0,a.jsx)("div",{className:"container max-w-3xl py-10",children:(0,a.jsx)(c.Zp,{className:"md:py-10",children:(0,a.jsx)(te.KZ,{children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[e,t,n,(0,a.jsxs)(n5.lV,{schema:l,onSubmit:s,children:[r,i]})]})})})}),u[33]=s,u[34]=o):o=u[34],o}}else{let e,t,n,l,s;return u[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,a.jsx)("img",{src:"/logo.png",alt:"logo",className:"w-24 h-auto"})}),t=(0,a.jsx)("h3",{children:"Welcome!"}),u[18]=e,u[19]=t):(e=u[18],t=u[19]),u[20]!==(null==v?void 0:v.anilistClientId)?(n=()=>{let e=(null==v?void 0:v.anilistClientId)?"https://anilist.co/api/v2/oauth/authorize?client_id=".concat(null==v?void 0:v.anilistClientId,"&response_type=token"):ns.$M;window.open(e,"_self")},u[20]=null==v?void 0:v.anilistClientId,u[21]=n):n=u[21],u[22]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",children:(0,a.jsx)("path",{d:"M6.361 2.943 0 21.056h4.942l1.077-3.133H11.4l1.052 3.133H22.9c.71 0 1.1-.392 1.1-1.101V17.53c0-.71-.39-1.101-1.1-1.101h-6.483V4.045c0-.71-.392-1.102-1.101-1.102h-2.422c-.71 0-1.101.392-1.101 1.102v1.064l-.758-2.166zm2.324 5.948 1.688 5.018H7.144z"})}),u[22]=l):l=u[22],u[23]!==n?(s=(0,a.jsx)("div",{className:"container max-w-3xl py-10",children:(0,a.jsx)(c.Zp,{className:"md:py-10",children:(0,a.jsx)(te.KZ,{children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[e,t,(0,a.jsx)(w.$n,{onClick:n,leftIcon:l,intent:"primary",size:"xl",children:"Log in with AniList"})]})})})}),u[23]=n,u[24]=s):s=u[24],s}return x}function ar(e){let{z:t}=e;return t.object({token:t.string().min(1,"Token is required")})}function ai(e){let t,n,s,r,i,o=(0,l.c)(14),{children:c}=e,d=(0,G.v1)(),[u,m]=p.useState("");if(o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{var e,t;m((null==(t=window)||null==(e=t.location)?void 0:e.host)||"")},n=[],o[0]=t,o[1]=n):(t=o[0],n=o[1]),p.useEffect(t,n),null==d?void 0:d.isOffline){let e,t,n;return o[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(tq,{}),o[2]=e):e=o[2],o[3]!==c?(t=(0,a.jsx)(n1,{children:(0,a.jsxs)("div",{"data-offline-layout-container":!0,className:"h-auto",children:[e,(0,a.jsx)("div",{"data-offline-layout-content":!0,children:c})]})}),o[3]=c,o[4]=t):t=o[4],o[5]!==u||o[6]!==t?(n=(0,a.jsx)(as,{host:u,children:t}),o[5]=u,o[6]=t,o[7]=n):n=o[7],n}return o[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(tq,{}),o[8]=s):s=o[8],o[9]!==c?(r=(0,a.jsx)(nQ,{children:(0,a.jsxs)("div",{"data-main-layout-container":!0,className:"h-auto",children:[s,(0,a.jsx)("div",{"data-main-layout-content":!0,children:c})]})}),o[9]=c,o[10]=r):r=o[10],o[11]!==u||o[12]!==r?(i=(0,a.jsx)(as,{host:u,children:r}),o[11]=u,o[12]=r,o[13]=i):i=o[13],i}let ao="force-static"}},e=>{var t=t=>e(e.s=t);e.O(0,[7518,3873,2150,3380,844,9204,6711,585,5897,5479,4506,6446,8087,9910,5760,7753,8429,7949,8481,2362,512,4613,2202,4777,5271,7825,2592,8095,4791,3351,7401,5513,7654,8981,4809,1518,3309,6643,5162,2,1341,3786,8430,4343,295,8316,3106,9582,6094,1332,6069,2148,5354,2223,1520,582,857,6883,1691,9979,2796,1642,3628,8441,6891,7358],()=>t(55192)),_N_E=e.O()}]);