(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8031],{34618:(e,a,n)=>{"use strict";n.d(a,{X:()=>i});let i={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"аҧсуа бызшәа"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"አማርኛ"},an:{name:"Aragonese",nativeName:"aragon\xe9s"},ar:{name:"Arabic",nativeName:"العربية"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},be:{name:"Belarusian",nativeName:"беларуская мова"},bg:{name:"Bulgarian",nativeName:"български език"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"বাংলা"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal\xe0"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},cs:{name:"Czech",nativeName:"čeština"},cu:{name:"Old Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"Dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"ދިވެހި"},dz:{name:"Dzongkha",nativeName:"རྫོང་ཁ"},ee:{name:"Ewe",nativeName:"Eʋegbe"},el:{name:"Greek",nativeName:"Ελληνικά"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espa\xf1ol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"فارسی"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"F\xf8royskt"},fr:{name:"French",nativeName:"Fran\xe7ais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"G\xe0idhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran\xed",nativeName:"Ava\xf1e'ẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hi:{name:"Hindi",nativeName:"हिन्दी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Krey\xf2l ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"Հայերեն"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"I\xf1upiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"\xcdslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"ქართული"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"қазақ тілі"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"ខេមរភាសា"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"Korean",nativeName:"한국어"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी"},ku:{name:"Kurdish",nativeName:"Kurd\xee"},kv:{name:"Komi",nativeName:"коми кыв"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"Кыргызча"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"L\xebtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Ling\xe1la"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latviešu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mi:{name:"Māori",nativeName:"te reo Māori"},mk:{name:"Macedonian",nativeName:"македонски јазик"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mn:{name:"Mongolian",nativeName:"Монгол хэл"},mr:{name:"Marathi",nativeName:"मराठी"},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"ဗမာစာ"},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokm\xe5l",nativeName:"Norsk bokm\xe5l"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din\xe9 bizaad"},ny:{name:"Chichewa",nativeName:"chiCheŵa"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон \xe6взаг"},pa:{name:"Panjabi",nativeName:"ਪੰਜਾਬੀ"},pi:{name:"Pāli",nativeName:"पाऴि"},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Portugu\xeas"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Rom\xe2nă"},ru:{name:"Russian",nativeName:"Русский"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी"},se:{name:"Northern Sami",nativeName:"Davvis\xe1megiella"},sg:{name:"Sango",nativeName:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},si:{name:"Sinhala",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovenian",nativeName:"slovenščina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"српски језик"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},tk:{name:"Turkmen",nativeName:"T\xfcrkmen\xe7e"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"T\xfcrk\xe7e"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татар теле"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"Українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"Ўзбек"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volap\xfck",nativeName:"Volap\xfck"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yor\xf9b\xe1"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ"},zh:{name:"Chinese",nativeName:"中文"},zu:{name:"Zulu",nativeName:"isiZulu"},"pt-br":{name:"Portuguese (Brazil)",nativeName:"Portugu\xeas (Brasil)"},"zh-hans":{name:"Chinese (Simplified)",nativeName:"中文（简体）"},"zh-hant":{name:"Chinese (Traditional)",nativeName:"中文（繁體）"},"zh-cn":{name:"Chinese (China)",nativeName:"中文（中国）"},"zh-tw":{name:"Chinese (Traditional)",nativeName:"中文（台灣）"},"zh-hk":{name:"Chinese (Hong Kong)",nativeName:"中文（香港）"},"zh-mo":{name:"Chinese (Macau)",nativeName:"中文（澳門）"},"zh-sg":{name:"Chinese (Singapore)",nativeName:"中文（新加坡）"},"zh-my":{name:"Chinese (Malaysia)",nativeName:"中文（马来西亚）"},"es-419":{name:"Spanish (Latin America)",nativeName:"Espa\xf1ol (Latinoam\xe9rica)"},"es-es":{name:"Spanish (Spain)",nativeName:"Espa\xf1ol (Espa\xf1a)"},"es-mx":{name:"Spanish (Mexico)",nativeName:"Espa\xf1ol (M\xe9xico)"},"es-ar":{name:"Spanish (Argentina)",nativeName:"Espa\xf1ol (Argentina)"},"es-cl":{name:"Spanish (Chile)",nativeName:"Espa\xf1ol (Chile)"}}},34920:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>eu,dynamic:()=>ec});var i=n(95155),t=n(38900),l=n(75193),r=n(29260),s=n(24449),m=n(19749),o=n(25305),d=n(90168),c=n(37054),u=n(5249),v=n(84127),h=n(91360),g=n(91332),N=n(12115),p=n(67187),x=n(10653);function f(e){var a,n,t,l,r,s,N,f,b,j,y,S,w,k,I,C,z,M,K,B,P,L;let T,D,A,F,E,O,R,V,q,G,_,H,J=(0,m.c)(47),{entry:W,details:$}=e,Z=(0,g.Ky)();if(!(null==W?void 0:W.media))return null;J[0]!==(null==$?void 0:$.genres)||J[1]!==(null==$?void 0:$.rankings)||J[2]!==(null==(a=W.media)?void 0:a.meanScore)||J[3]!==Z.mediaPageBannerInfoBoxSize?(T=()=>{var e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:(0,h.cn)("flex gap-2 flex-wrap items-center",Z.mediaPageBannerInfoBoxSize===g.Pw.Fluid&&"justify-center lg:justify-start lg:max-w-[65vw]"),children:[(0,i.jsx)(o.H2,{meanScore:null==(e=W.media)?void 0:e.meanScore,badgeClass:"bg-transparent"}),(0,i.jsx)(o.vZ,{genres:null==$?void 0:$.genres,type:"manga"})]}),(0,i.jsx)(o.Kt,{rankings:null==$?void 0:$.rankings})]})},J[0]=null==$?void 0:$.genres,J[1]=null==$?void 0:$.rankings,J[2]=null==(L=W.media)?void 0:L.meanScore,J[3]=Z.mediaPageBannerInfoBoxSize,J[4]=T):T=J[4];let X=T,Q=null==(n=W.media)?void 0:n.bannerImage,U=null==(l=W.media)||null==(t=l.coverImage)?void 0:t.extraLarge,Y=(null==(s=W.media)||null==(r=s.coverImage)?void 0:r.extraLarge)||(null==(f=W.media)||null==(N=f.coverImage)?void 0:N.large),ee=null==(j=W.media)||null==(b=j.title)?void 0:b.userPreferred,ea=null==(S=W.media)||null==(y=S.title)?void 0:y.english,en=null==(k=W.media)||null==(w=k.title)?void 0:w.romaji,ei=null==(I=W.media)?void 0:I.startDate,et=null==(C=W.media)?void 0:C.season,el=null==(M=W.media)||null==(z=M.coverImage)?void 0:z.color,er=null==(K=W.media)?void 0:K.chapters,es=null==(B=W.media)?void 0:B.status,em=null==(P=W.media)?void 0:P.description;J[5]!==X||J[6]!==Z.mediaPageBannerInfoBoxSize?(D=Z.mediaPageBannerInfoBoxSize===g.Pw.Fluid&&(0,i.jsx)(X,{}),J[5]=X,J[6]=Z.mediaPageBannerInfoBoxSize,J[7]=D):D=J[7],J[8]!==W.listData||J[9]!==W.media||J[10]!==er||J[11]!==es||J[12]!==em||J[13]!==D||J[14]!==Y||J[15]!==ee||J[16]!==ea||J[17]!==en||J[18]!==ei||J[19]!==et||J[20]!==el?(A=(0,i.jsx)(d.xN,{coverImage:Y,title:ee,englishTitle:ea,romajiTitle:en,startDate:ei,season:et,color:el,progressTotal:er,status:es,description:em,listData:W.listData,media:W.media,type:"manga",children:D}),J[8]=W.listData,J[9]=W.media,J[10]=er,J[11]=es,J[12]=em,J[13]=D,J[14]=Y,J[15]=ee,J[16]=ea,J[17]=en,J[18]=ei,J[19]=et,J[20]=el,J[21]=A):A=J[21],J[22]!==X||J[23]!==Z.mediaPageBannerInfoBoxSize?(F=Z.mediaPageBannerInfoBoxSize!==g.Pw.Fluid&&(0,i.jsx)(X,{}),J[22]=X,J[23]=Z.mediaPageBannerInfoBoxSize,J[24]=F):F=J[24];let eo="https://anilist.co/manga/".concat(W.mediaId);return J[25]===Symbol.for("react.memo_cache_sentinel")?(E=(0,i.jsx)(v.K0,{intent:"gray-link",className:"px-0",icon:(0,i.jsx)(p.vFL,{className:"text-lg"})}),J[25]=E):E=J[25],J[26]!==eo?(O=(0,i.jsx)(u.i,{href:eo,target:"_blank",children:E}),J[26]=eo,J[27]=O):O=J[27],J[28]!==Z.mediaPageBannerInfoBoxSize?(R=Z.mediaPageBannerInfoBoxSize!==g.Pw.Fluid&&(0,i.jsx)("div",{className:"flex-1 hidden lg:flex"}),J[28]=Z.mediaPageBannerInfoBoxSize,J[29]=R):R=J[29],J[30]!==W.mediaId?(V=(0,i.jsx)(c.p,{mediaId:W.mediaId,type:"manga",size:"md"}),J[30]=W.mediaId,J[31]=V):V=J[31],J[32]!==W.media?(q=(0,i.jsx)(x.qh,{media:W.media}),J[32]=W.media,J[33]=q):q=J[33],J[34]!==O||J[35]!==R||J[36]!==V||J[37]!==q?(G=(0,i.jsxs)("div",{className:"w-full flex flex-wrap gap-4 items-center","data-manga-meta-section-buttons-container":!0,children:[O,R,V,q]}),J[34]=O,J[35]=R,J[36]=V,J[37]=q,J[38]=G):G=J[38],J[39]!==A||J[40]!==F||J[41]!==G?(_=(0,i.jsxs)(d.In,{children:[A,F,G]}),J[39]=A,J[40]=F,J[41]=G,J[42]=_):_=J[42],J[43]!==Q||J[44]!==U||J[45]!==_?(H=(0,i.jsx)(d.ZM,{backgroundImage:Q,coverImage:U,children:_}),J[43]=Q,J[44]=U,J[45]=_,J[46]=H):H=J[46],H}var b=n(83563),j=n(3692);function y(e){let a,n,t,l=(0,m.c)(7),{rowSelectedChapters:r,onDownloadSelected:s}=e;l[0]!==s||l[1]!==r?(a=()=>{s(r||[])},l[0]=s,l[1]=r,l[2]=a):a=l[2];let o=a;if((null==r?void 0:r.length)===0)return null;l[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(j.WCW,{}),l[3]=n):n=l[3];let d=null==r?void 0:r.length;return l[4]!==o||l[5]!==d?(t=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(v.$n,{onClick:o,intent:"white",size:"sm",leftIcon:n,className:"animate-pulse","data-download-selected-chapters-button":!0,children:["Download selected chapters (",d,")"]})}),l[4]=o,l[5]=d,l[6]=t):t=l[6],t}var S=n(17205),w=n(11983),k=n(39076),I=n(24780),C=n(50548),z=n(59271),M=n(63352),K=n(90764),B=n(70376),P=n(27647),L=n(41452);function T(e){let{entry:a,data:n,...t}=e,{selectedProvider:l}=(0,I.c2)(a.mediaId),r=(0,w.sC)(),[s,m]=N.useState(!1),{mutate:o,isPending:d}=(0,S.Ym)(String(a.mediaId),l),c=(0,k.$0)(),u=N.useMemo(()=>s?c.filter(e=>e.queued):c,[n,c,s]),h=N.useMemo(()=>{let e=new Map;for(let a of null!=u?u:[])e.set(a.chapterId,(0,C.QO)(a.chapterNumber));return e},[u]),g=N.useMemo(()=>(0,K.$f)(()=>[{accessorKey:"chapterNumber",header:"Chapter",size:90,cell:e=>(0,i.jsxs)("span",{children:["Chapter ",e.getValue()]})},{id:"number",header:"Number",size:10,enableSorting:!0,accessorFn:e=>h.get(e.chapterId)},{accessorKey:"provider",header:"Provider",size:10},{accessorKey:"chapterId",header:"Chapter ID",size:20,cell:e=>(0,i.jsx)("span",{className:"text-[--muted] text-sm italic",children:e.getValue()})},{id:"_actions",size:10,enableSorting:!1,enableGlobalFilter:!1,cell:e=>{let{row:n}=e;return(0,i.jsxs)("div",{className:"flex justify-end gap-2 items-center w-full",children:[n.original.queued&&(0,i.jsx)("p",{className:"text-[--muted]",children:"Queued"}),n.original.downloaded&&(0,i.jsx)("p",{className:"text-[--muted] px-1",children:(0,i.jsx)(L.uyw,{className:"text-2xl"})}),n.original.downloaded&&(0,i.jsx)(v.K0,{intent:"gray-subtle",size:"sm",onClick:()=>{N.startTransition(()=>{r({chapterId:n.original.chapterId,chapterNumber:n.original.chapterNumber,provider:n.original.provider,mediaId:Number(a.mediaId)})})},icon:(0,i.jsx)(P.mGD,{})})]})}}]),[u,null==a?void 0:a.mediaId,h]),[p,x]=N.useState({}),[f,b]=N.useState([]),j=N.useCallback(e=>{b(e.data)},[]),y=N.useCallback(()=>{f.length&&(o({downloadIds:f.map(e=>({mediaId:a.mediaId,provider:e.provider,chapterId:e.chapterId,chapterNumber:e.chapterNumber}))},{onSuccess:()=>{}}),x({}),b([]))},[f]);return n&&(0!==Object.keys(n.downloaded).length||0!==Object.keys(n.queued).length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{className:"pt-8",children:"Downloaded chapters"}),(0,i.jsxs)("div",{"data-downloaded-chapter-list-container":!0,className:"space-y-4 border rounded-[--radius-md] bg-[--paper] p-4",children:[(0,i.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,i.jsx)(M.Sc,{label:"Show queued",value:s,onValueChange:e=>m(e),fieldClass:"w-fit",...z.bV})}),!!f.length&&(0,i.jsx)("div",{className:"",children:(0,i.jsxs)(v.$n,{onClick:y,intent:"alert",size:"sm",leftIcon:(0,i.jsx)(B.id1,{}),className:"",loading:d,children:["Delete selected chapters (",null==f?void 0:f.length,")"]})}),(0,i.jsx)(K.zh,{columns:g,data:u,rowCount:u.length,isLoading:!1,rowSelectionPrimaryKey:"chapterId",enableRowSelection:e=>e.original.downloaded,initialState:{pagination:{pageIndex:0,pageSize:10},sorting:[{id:"number",desc:!1}]},state:{rowSelection:p},hideColumns:[{below:1e3,hide:["chapterId","number"]},{below:600,hide:["provider"]}],onSortingChange:console.log,onRowSelect:j,onRowSelectionChange:x,className:""})]})]}):null}var D=n(75733),A=n(35656),F=n(36808),E=n(35354),O=n(2091),R=n(76049),V=n(98836),q=n(97400),G=n(35089),_=n(6066),H=n(75780);function J(e){let a,n,t=(0,m.c)(5),{children:l,entry:r}=e;return t[0]!==r?(a=(0,i.jsx)($,{entry:r}),t[0]=r,t[1]=a):a=t[1],t[2]!==l||t[3]!==a?(n=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(R.a,{"data-manga-manual-mapping-modal":!0,title:"Manual match",trigger:l,contentClass:"max-w-4xl",children:a})}),t[2]=l,t[3]=a,t[4]=n):n=t[4],n}let W=(0,E.Jo)(e=>{let{z:a}=e;return a.object({query:a.string().min(1)})});function $(e){let a,n,l,r,s,o,d=(0,m.c)(29),{entry:c}=e;(0,_.useRouter)();let{selectedProvider:u}=(0,I.c2)(c.mediaId),g=u||void 0;d[0]!==c.mediaId||d[1]!==g?(a={provider:g,mediaId:c.mediaId},d[0]=c.mediaId,d[1]=g,d[2]=a):a=d[2];let{data:p,isLoading:x}=(0,t.ke)(a),{mutate:f,data:b,isPending:j,reset:y}=(0,t.w4)(c.mediaId,u);d[3]!==f||d[4]!==u?(n=function(e){u&&f({provider:u,query:e.query})},d[3]=f,d[4]=u,d[5]=n):n=d[5];let S=n,{mutate:w,isPending:k}=(0,t.aw)(),{mutate:C,isPending:z}=(0,t.Uy)(),[M,K]=N.useState(null);d[6]!==c.mediaId||d[7]!==M||d[8]!==w||d[9]!==y||d[10]!==u?(l={title:"Manual match",description:"Are you sure you want to match this manga to the search result?",actionText:"Confirm",actionIntent:"success",onConfirm:()=>{M&&u&&(w({provider:u,mediaId:c.mediaId,mangaId:M}),y(),K(null))}},d[6]=c.mediaId,d[7]=M,d[8]=w,d[9]=y,d[10]=u,d[11]=l):l=d[11];let B=(0,D.J)(l);return d[12]!==B||d[13]!==c.mediaId||d[14]!==p||d[15]!==S||d[16]!==k||d[17]!==z||d[18]!==x||d[19]!==j||d[20]!==b||d[21]!==u||d[22]!==C?(r=x?(0,i.jsx)(O.kt,{}):(0,i.jsxs)(F.KZ,{children:[(0,i.jsx)("div",{className:"text-center",children:(null==p?void 0:p.mangaId)?(0,i.jsxs)(F.KZ,{children:[(0,i.jsxs)("p",{children:["Current mapping: ",(0,i.jsx)("span",{children:p.mangaId})]}),(0,i.jsx)(v.$n,{intent:"alert-subtle",loading:z,onClick:()=>{u&&C({provider:u,mediaId:c.mediaId})},children:"Remove mapping"})]}):(0,i.jsx)("p",{className:"text-[--muted] italic",children:"No manual match"})}),(0,i.jsx)(V.w,{}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:"Search from provider"})}),(0,i.jsx)(E.lV,{schema:W,onSubmit:S,children:(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)(E.D0.Text,{name:"query",placeholder:"Search",leftIcon:(0,i.jsx)(H.CKj,{className:"text-xl text-[--muted]"}),fieldClass:"w-full"}),(0,i.jsx)(E.D0.Submit,{intent:"white",loading:k||j||x,className:"",children:"Search"})]})}),j?(0,i.jsx)(O.kt,{}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:null==b?void 0:b.map(e=>(0,i.jsxs)("div",{className:(0,h.cn)("group/sr-item col-span-1 aspect-[6/7] rounded-[--radius-md] relative bg-[--background] cursor-pointer transition-opacity"),onClick:()=>{K(e.id),N.startTransition(()=>{B.open()})},children:[(0,i.jsx)(G.default,{src:e.image||"/no-cover.png",placeholder:(0,A.r)(700,475),sizes:"10rem",fill:!0,alt:"",className:(0,h.cn)("object-center object-cover lg:opacity-50 rounded-[--radius-md] transition-opacity lg:group-hover/sr-item:opacity-100")}),(0,i.jsx)(q.m_,{trigger:(0,i.jsxs)("p",{className:"line-clamp-2 text-sm absolute m-2 bottom-0 font-semibold z-[10]",children:[e.title," ",e.year&&"(".concat(e.year,")")]}),className:"z-[10]",children:(0,i.jsxs)("p",{children:[e.title," ",e.year&&"(".concat(e.year,")")]})}),(0,i.jsx)("div",{className:"z-[5] absolute rounded-br-md rounded-bl-md bottom-0 w-full h-[80%] bg-gradient-to-t from-[--background] to-transparent"})]},e.id))})})]}),d[12]=B,d[13]=c.mediaId,d[14]=p,d[15]=S,d[16]=k,d[17]=z,d[18]=x,d[19]=j,d[20]=b,d[21]=u,d[22]=C,d[23]=r):r=d[23],d[24]!==B?(s=(0,i.jsx)(D.K,{...B}),d[24]=B,d[25]=s):s=d[25],d[26]!==r||d[27]!==s?(o=(0,i.jsxs)(i.Fragment,{children:[r,s]}),d[26]=r,d[27]=s,d[28]=o):o=d[28],o}var Z=n(39575),X=n(17946),Q=n(29724);function U(e,a){return e.label.localeCompare(a.label)}function Y(e){return{label:e.name,value:e.id}}var ee=n(34618),ea=n(62477),en=n.n(ea),ei=n(85420),et=n.n(ei),el=n(78106),er=n(30033),es=n(73594),em=n(38628);function eo(e){var a,n,l,r,s,o;let{mediaId:d,entry:c,details:u,downloadData:h,downloadDataLoading:g,...p}=e,{selectedExtension:x,providerExtensionsLoading:f,providerOptions:S,selectedProvider:B,setSelectedProvider:A,selectedFilters:F,setSelectedLanguage:E,setSelectedScanlator:R,languageOptions:V,scanlatorOptions:q,chapterContainer:G,chapterContainerLoading:_,chapterContainerError:H}=function(e){let{providerExtensions:a,providerOptions:n,providerExtensionsLoading:i}=function(e){let a,n,i,t,l,r=(0,m.c)(17),{data:s,isLoading:o}=(0,X.LW)(),[d,c]=(0,Q.fp)(I.yb);return r[0]!==e||r[1]!==s||r[2]!==d||r[3]!==c?(a=()=>{(null==s?void 0:s.length)&&d&&e&&!s.some(a=>a.id===d[e])&&s.length>0&&c({...d,[e]:s[0].id})},r[0]=e,r[1]=s,r[2]=d,r[3]=c,r[4]=a):a=r[4],r[5]!==e||r[6]!==s||r[7]!==d?(n=[s,d,e],r[5]=e,r[6]=s,r[7]=d,r[8]=n):n=r[8],N.useLayoutEffect(a,n),r[9]!==s?(i=null!=s?s:[],r[9]=s,r[10]=i):i=r[10],r[11]!==i?(t=i.map(Y).sort(U),r[11]=i,r[12]=t):t=r[12],r[13]!==s||r[14]!==o||r[15]!==t?(l={providerExtensions:s,providerExtensionsLoading:o,providerOptions:t},r[13]=s,r[14]=o,r[15]=t,r[16]=l):l=r[16],l}(e),{selectedExtension:l,selectedProvider:r,setSelectedProvider:s}=(0,I.c2)(e),{data:o,isLoading:d,isError:c}=(0,t.er)({mediaId:Number(e),provider:r||void 0}),u=N.useMemo(()=>{var e,a,n;return l&&(null==(e=l.settings)?void 0:e.supportsMultiScanlator)?en()((null==o||null==(n=o.chapters)||null==(a=n.map(e=>e.scanlator))?void 0:a.filter(Boolean))||[]).map(e=>({value:e,label:e})):[]},[l,o]),v=N.useMemo(()=>{var e,a,n;return l&&(null==(e=l.settings)?void 0:e.supportsMultiLanguage)?((null==o||null==(n=o.chapters)||null==(a=n.map(e=>{let a=e.language;return a?{language:a,scanlator:e.scanlator}:null}))?void 0:a.filter(Boolean))||[]).map(e=>{var a;return{value:e,label:(null==(a=ee.X[e.language])?void 0:a.nativeName)||e}}):[]},[l,o]),{setSelectedScanlator:h,setSelectedLanguage:g,selectedFilters:p}=(0,I.Kx)(e,l,r,!d),x=N.useMemo(()=>{var e;if(!o)return o;let a=null==(e=o.chapters)?void 0:e.filter(e=>{var a,n;return(null==l||null==(a=l.settings)||!a.supportsMultiLanguage||!p.language||e.language===p.language)&&(null==l||null==(n=l.settings)||!n.supportsMultiScanlator||!p.scanlators[0]||e.scanlator===p.scanlators[0])});return{...o,chapters:a}},[o,l,p]),f=N.useMemo(()=>{var e;return et()((null==(e=v.filter(e=>{var a,n;return null==p||null==(n=p.scanlators)||null==(a=n[0])||!a.length||e.value.scanlator===p.scanlators[0]}))?void 0:e.map(e=>({value:e.value.language,label:e.label})))||[],"value")},[v,p]),b=N.useMemo(()=>{var e;return et()((null==(e=u.filter(e=>{var a;return null==p||null==(a=p.language)||!a.length||v.filter(a=>a.value.scanlator===e.value&&a.value.language===p.language).length>0}))?void 0:e.map(e=>({value:e.value,label:e.label})))||[],"value")},[u,p,v]);return{selectedExtension:l,providerExtensions:a,providerExtensionsLoading:i,providerOptions:n,selectedProvider:r,setSelectedProvider:s,selectedFilters:p,setSelectedLanguage:g,setSelectedScanlator:h,languageOptions:f,scanlatorOptions:b,chapterContainer:x,chapterContainerLoading:d,chapterContainerError:c}}(d),W=N.useMemo(()=>{var e;let a=new Map;for(let n of null!=(e=null==G?void 0:G.chapters)?e:[])a.set(n.id,(0,C.QO)(n.chapter));return a},[null==G?void 0:G.chapters]),[$,ea]=N.useState(!1),[ei,eo]=N.useState(!1),ed=(0,Q.Xr)(w.f1),{mutate:ec,isPending:eu}=(0,t.dk)(),{downloadChapters:ev,isSendingDownloadRequest:eh}=(0,k.Vb)(d),{isChapterQueued:eg,isChapterDownloaded:eN}=(0,C.hE)(h,g),{inject:ep,remove:ex}=(0,b.H)(),ef=N.useCallback(e=>{var a,n;if(!c.listData||!W.has(e.id)||!(null==(a=c.listData)?void 0:a.progress))return!0;let i=W.get(e.id);return!!i&&i>(null==(n=c.listData)?void 0:n.progress)},[W,G,c]),eb=(0,D.J)({title:"Reload sources",actionIntent:"primary",actionText:"Reload",description:"This action will empty the cache for this manga and fetch the latest data from the selected source.",onConfirm:()=>{d&&ec({mediaId:Number(d)})}}),ej=N.useMemo(()=>(0,K.$f)(()=>{var e,a;return[{accessorKey:"title",header:"Name",size:90},...(null==x||null==(e=x.settings)?void 0:e.supportsMultiScanlator)?[{id:"scanlator",header:"Scanlator",size:40,accessorFn:e=>e.scanlator,enableSorting:!0}]:[],...(null==x||null==(a=x.settings)?void 0:a.supportsMultiLanguage)?[{id:"language",header:"Language",size:20,accessorFn:e=>{var a;return(null==(a=ee.X[e.language])?void 0:a.nativeName)||e.language},enableSorting:!0}]:[],{id:"number",header:"Number",size:10,enableSorting:!0,accessorFn:e=>W.get(e.id)},{id:"_actions",size:10,enableSorting:!1,enableGlobalFilter:!1,cell:e=>{let{row:a}=e;return(0,i.jsxs)("div",{className:"flex justify-end gap-2 items-center w-full",children:[!eN(a.original)&&!eg(a.original)&&(0,i.jsx)(v.K0,{intent:"gray-basic",size:"sm",disabled:eh,onClick:()=>ev([a.original]),icon:(0,i.jsx)(L.Qpb,{className:"text-2xl"})}),eg(a.original)&&(0,i.jsx)("p",{className:"text-[--muted]",children:"Queued"}),eN(a.original)&&(0,i.jsx)("p",{className:"text-[--muted] px-1",children:(0,i.jsx)(L.uyw,{className:"text-2xl"})}),(0,i.jsx)(v.K0,{intent:"gray-subtle",size:"sm",onClick:()=>ed({chapterId:a.original.id,chapterNumber:a.original.chapter,provider:a.original.provider,mediaId:Number(d)}),icon:(0,i.jsx)(P.mGD,{})})]})}}]}),[W,x,eh,eN,h,d]),ey=N.useMemo(()=>{var e,a;return null!=(a=null==G||null==(e=G.chapters)?void 0:e.filter(e=>ef(e)))?a:[]},[G,c]),eS=N.useMemo(()=>{var e,a;return null!=(a=null==G||null==(e=G.chapters)?void 0:e.toReversed())?a:[]},[G]);N.useEffect(()=>{ea(!!ey.length)},[ey]);let ew=N.useMemo(()=>{let e=$?ey:eS;return ei&&(e=e.filter(e=>eN(e)||eg(e))),e},[$,ey,eS,ei,eN,eg,h,x]),{rowSelectedChapters:ek,onRowSelectionChange:eI,rowSelection:eC,setRowSelection:ez,resetRowSelection:eM}=(0,C.v0)();return(N.useEffect(()=>{eM()},[ew]),N.useEffect(()=>{var e;if(!(null==G||null==(e=G.chapters)?void 0:e.length))return;let a=ey[0],n=ey.slice(0,10);return ep("manga-chapters",{items:[...a?[{data:a,id:"next-chapter-".concat(a.id),value:"".concat(a.chapter),heading:"Next Chapter",priority:2,render:()=>(0,i.jsxs)("div",{className:"flex gap-1 items-center w-full",children:[(0,i.jsxs)("p",{className:"max-w-[70%] truncate",children:["Chapter ",a.chapter]}),a.scanlator&&(0,i.jsxs)("p",{className:"text-[--muted]",children:["(",a.scanlator,")"]})]}),onSelect:e=>{let{ctx:n}=e;ed({chapterId:a.id,chapterNumber:a.chapter,provider:a.provider,mediaId:Number(d)}),n.close()}}]:[],...n.map(e=>({data:e,id:"chapter-".concat(e.id),value:"".concat(e.chapter),heading:"Upcoming Chapters",priority:1,render:()=>(0,i.jsxs)("div",{className:"flex gap-1 items-center w-full",children:[(0,i.jsxs)("p",{className:"max-w-[70%] truncate",children:["Chapter ",e.chapter]}),e.scanlator&&(0,i.jsxs)("p",{className:"text-[--muted]",children:["(",e.scanlator,")"]})]}),onSelect:a=>{let{ctx:n}=a;ed({chapterId:e.id,chapterNumber:e.chapter,provider:e.provider,mediaId:Number(d)}),n.close()}}))],filter:e=>{var a;let{item:n,input:i}=e;return!i||n.value.toLowerCase().includes(i.toLowerCase())||((null==(a=n.data.title)?void 0:a.toLowerCase())||"").includes(i.toLowerCase())},priority:100}),()=>ex("manga-chapters")},[null==G?void 0:G.chapters,ey,d]),f)?(0,i.jsx)(O.kt,{}):(0,i.jsxs)("div",{className:"space-y-4","data-chapter-list-container":!0,"data-selected-filters":JSON.stringify(F),"data-selected-provider":JSON.stringify(B),children:[(0,i.jsxs)("div",{"data-chapter-list-header-container":!0,className:"flex flex-wrap gap-2 items-center",children:[(0,i.jsx)(er.l,{fieldClass:"w-fit",options:S,value:B||"",onValueChange:e=>A({mId:d,provider:e}),leftAddon:"Source",size:"sm",disabled:eu}),(0,i.jsx)(v.$n,{leftIcon:(0,i.jsx)(j.Swo,{}),intent:"gray-outline",onClick:()=>eb.open(),loading:eu,size:"sm",children:"Reload sources"}),(0,i.jsx)(J,{entry:c,children:(0,i.jsx)(v.$n,{leftIcon:(0,i.jsx)(es._iu,{className:"text-lg"}),intent:"gray-outline",size:"sm",children:"Manual match"})})]}),((null==x||null==(a=x.settings)?void 0:a.supportsMultiLanguage)||(null==x||null==(n=x.settings)?void 0:n.supportsMultiScanlator))&&(0,i.jsxs)("div",{"data-chapter-list-header-filters-container":!0,className:"flex gap-2 items-center",children:[(null==x||null==(l=x.settings)?void 0:l.supportsMultiScanlator)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(er.l,{fieldClass:"w-64",options:q,placeholder:"All",value:F.scanlators[0]||"",onValueChange:e=>R({mId:d,scanlators:[e]}),leftAddon:"Scanlator"})}),(null==x||null==(r=x.settings)?void 0:r.supportsMultiLanguage)&&(0,i.jsx)(er.l,{fieldClass:"w-64",options:V,placeholder:"All",value:F.language,onValueChange:e=>E({mId:d,language:e}),leftAddon:"Language"})]}),_||eu?(0,i.jsx)(O.kt,{}):H?(0,i.jsx)(el.D,{title:"Oops!",children:(0,i.jsx)("p",{children:"No chapters found"})}):(0,i.jsxs)(i.Fragment,{children:[(null==G||null==(s=G.chapters)?void 0:s.length)===0&&(0,i.jsx)(el.D,{title:"No chapters found",children:(0,i.jsx)("p",{children:"Try another source"})}),!!(null==G||null==(o=G.chapters)?void 0:o.length)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{"data-chapter-list-header-container":!0,className:"flex gap-2 items-center w-full pb-2",children:[(0,i.jsx)("h2",{className:"px-1",children:"Chapters"}),(0,i.jsx)("div",{className:"flex flex-1"}),(0,i.jsx)("div",{children:!!(null==ey?void 0:ey.length)&&(0,i.jsx)(v.$n,{intent:"white",rounded:!0,leftIcon:(0,i.jsx)(em.cg8,{}),onClick:()=>{ed({chapterId:ey[0].id,chapterNumber:ey[0].chapter,provider:ey[0].provider,mediaId:Number(d)})},children:"Continue reading"})})]}),(0,i.jsxs)("div",{"data-chapter-list-bulk-actions-container":!0,className:"space-y-4 border rounded-[--radius-md] bg-[--paper] p-4",children:[(0,i.jsxs)("div",{"data-chapter-list-bulk-actions-checkboxes-container":!0,className:"flex flex-wrap items-center gap-4",children:[(0,i.jsx)(M.Sc,{label:"Show unread",value:$,onValueChange:e=>ea(e),fieldClass:"w-fit",...z.bV}),(0,i.jsx)(M.Sc,{label:(0,i.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,i.jsx)(em.ItZ,{})," Show downloaded"]}),value:ei,onValueChange:e=>eo(e),fieldClass:"w-fit",...z.bV})]}),(0,i.jsx)(y,{rowSelectedChapters:ek,onDownloadSelected:e=>{ev(e),eM()}}),(0,i.jsx)(K.zh,{columns:ej,data:ew,rowCount:ew.length,isLoading:_,rowSelectionPrimaryKey:"id",enableRowSelection:e=>!eN(e.original)&&!eg(e.original),initialState:{pagination:{pageIndex:0,pageSize:10}},state:{rowSelection:eC},hideColumns:[{below:1e3,hide:["number"]},{below:600,hide:["scanlator","language"]}],onRowSelect:eI,onRowSelectionChange:ez,className:"",tableClass:"table-fixed lg:table-fixed"})]})]}),G&&(0,i.jsx)(Z.A,{entry:c,chapterContainer:G,chapterIdToNumbersMap:W})]}),(0,i.jsx)(T,{entry:c,data:h}),(0,i.jsx)(D.K,{...eb})]})}var ed=n(45754);let ec="force-static";function eu(){let e=(0,_.useRouter)(),a=(0,_.useSearchParams)().get("id"),{data:n,isLoading:m}=(0,t.Kq)(a),{data:o,isLoading:d}=(0,t.Or)(a),{downloadData:c,downloadDataLoading:u}=(0,k.Sv)(a);return(N.useEffect(()=>{a&&(m||n)||e.push("/")},[n,m]),N.useEffect(()=>{try{var e,a,i,t;(null==n||null==(a=n.media)||null==(e=a.title)?void 0:e.userPreferred)&&(document.title="".concat(null==n||null==(t=n.media)||null==(i=t.title)?void 0:i.userPreferred," | Seanime"))}catch(e){}},[n]),!n||m||d)?(0,i.jsx)(r.C,{}):(0,i.jsxs)("div",{"data-manga-entry-page":!0,"data-media":JSON.stringify(n.media),"data-manga-entry-list-data":JSON.stringify(n.listData),children:[(0,i.jsx)(f,{entry:n,details:o}),(0,i.jsx)("div",{"data-manga-entry-page-content-container":!0,className:"px-4 md:px-8 relative z-[8]",children:(0,i.jsxs)(ed.f,{"data-manga-entry-page-content":!0,className:"relative 2xl:order-first pb-10 pt-4 space-y-10",initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",damping:10,stiffness:80,delay:.6},children:[(0,i.jsxs)("div",{"data-manga-entry-page-grid":!0,className:"grid gap-8 xl:grid-cols-[1fr,480px] 2xl:grid-cols-[1fr,650px]",children:[(0,i.jsx)("div",{className:"space-y-2",children:(0,i.jsx)(eo,{entry:n,mediaId:a,details:o,downloadData:c,downloadDataLoading:u})}),(0,i.jsx)("div",{"data-manga-entry-page-characters-section-container":!0,className:"pt-12",children:(0,i.jsx)(l.A,{details:o,isMangaPage:!0})})]}),(0,i.jsx)(s.v,{entry:n,details:o})]},"chapter-list")})]})}},85420:(e,a,n)=>{var i=n(27141),t=n(9997);e.exports=function(e,a){return e&&e.length?t(e,i(a,2)):[]}},98537:(e,a,n)=>{Promise.resolve().then(n.bind(n,34920))}},e=>{var a=a=>e(e.s=a);e.O(0,[7518,3873,3380,844,2150,6711,9204,585,5897,5479,4506,6446,8087,9910,5760,7753,8429,7949,8481,2362,512,4613,2202,4777,7672,7825,2592,8095,4791,3351,7401,8211,7654,1597,1518,4809,4500,7814,9499,2571,8154,2,1341,1920,4343,295,9582,6094,2148,5764,5354,6069,7492,8193,1520,582,857,6883,1691,9979,2796,9575,8441,6891,7358],()=>a(98537)),_N_E=e.O()}]);