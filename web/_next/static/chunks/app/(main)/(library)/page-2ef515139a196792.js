(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9981],{51089:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>eY,dynamic:()=>eJ});var t=n(95155),a=n(19749),i=n(64629),s=n(9478),r=n(83563),o=n(75733),c=n(36808),d=n(84127),u=n(76049),m=n(42500),h=n(29724),x=n(12115),f=n(70376),b=n(69554);let p=(0,m.eU)(!1);function g(){let e,l,n,i,m,g,C,w,S,k,_,L,I,A,P,E,D,F=(0,a.c)(46),[T,O]=(0,h.fp)(p),{mutate:R,isPending:K}=(0,s.pZ)();F[0]!==R||F[1]!==O?(e=function(){R({action:"lock"},{onSuccess:()=>{O(!1),b.oR.success("Files locked")}})},F[0]=R,F[1]=O,F[2]=e):e=F[2];let U=e;F[3]!==R||F[4]!==O?(l=function(){R({action:"unlock"},{onSuccess:()=>{O(!1),b.oR.success("Files unlocked")}})},F[3]=R,F[4]=O,F[5]=l):l=F[5];let V=l,{mutate:z,isPending:$}=(0,s.uO)();F[6]!==z||F[7]!==O?(n=function(){z(void 0,{onSuccess:()=>{O(!1)}})},F[6]=z,F[7]=O,F[8]=n):n=F[8];let B=n;F[9]!==B?(i={title:"Remove empty directories",description:"This action will remove all empty directories in the library. Are you sure you want to continue?",onConfirm:()=>{B()}},F[9]=B,F[10]=i):i=F[10];let M=(0,o.J)(i),{inject:G,remove:W}=(0,r.H)();F[11]!==U||F[12]!==V||F[13]!==G||F[14]!==W?(m=()=>(G("anime-library-bulk-actions",{priority:1,items:[{id:"lock-files",value:"lock",heading:"Library",render:N,onSelect:e=>{U()}},{id:"unlock-files",value:"unlock",heading:"Library",render:y,onSelect:e=>{V()}}],filter:j,shouldShow:v,showBasedOnInput:"startsWith"}),()=>W("anime-library-bulk-actions")),F[11]=U,F[12]=V,F[13]=G,F[14]=W,F[15]=m):m=F[15],F[16]===Symbol.for("react.memo_cache_sentinel")?(g=[],F[16]=g):g=F[16],x.useEffect(m,g),F[17]!==O?(C=()=>O(!1),F[17]=O,F[18]=C):C=F[18],F[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(f.E2M,{className:"text-2xl"}),F[19]=w):w=F[19];let X=K||$;F[20]!==U||F[21]!==X?(S=(0,t.jsx)(d.$n,{leftIcon:w,intent:"gray-outline",className:"w-full",disabled:X,onClick:U,children:"Lock all files"}),F[20]=U,F[21]=X,F[22]=S):S=F[22],F[23]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(f.iXN,{className:"text-2xl"}),F[23]=k):k=F[23];let Z=K||$;return F[24]!==V||F[25]!==Z?(_=(0,t.jsx)(d.$n,{leftIcon:k,intent:"gray-outline",className:"w-full",disabled:Z,onClick:V,children:"Unlock all files"}),F[24]=V,F[25]=Z,F[26]=_):_=F[26],F[27]!==_||F[28]!==S?(L=(0,t.jsxs)("div",{className:"flex gap-2 flex-col md:flex-row",children:[S,_]}),F[27]=_,F[28]=S,F[29]=L):L=F[29],F[30]!==M?(I=()=>M.open(),F[30]=M,F[31]=I):I=F[31],F[32]!==K||F[33]!==$||F[34]!==I?(A=(0,t.jsx)(d.$n,{intent:"gray-outline",className:"w-full",disabled:K,loading:$,onClick:I,children:"Remove empty directories"}),F[32]=K,F[33]=$,F[34]=I,F[35]=A):A=F[35],F[36]!==L||F[37]!==A?(P=(0,t.jsxs)(c.KZ,{spacing:"sm",children:[L,A]}),F[36]=L,F[37]=A,F[38]=P):P=F[38],F[39]!==M?(E=(0,t.jsx)(o.K,{...M}),F[39]=M,F[40]=E):E=F[40],F[41]!==T||F[42]!==P||F[43]!==E||F[44]!==C?(D=(0,t.jsxs)(u.a,{open:T,onOpenChange:C,title:"Bulk actions",contentClass:"space-y-4",children:[P,E]}),F[41]=T,F[42]=P,F[43]=E,F[44]=C,F[45]=D):D=F[45],D}function v(e){let{ctx:l}=e;return"/"===l.router.pathname}function j(e){let{item:l,input:n}=e;return!n||l.value.toLowerCase().includes(n.toLowerCase())}function y(){return(0,t.jsx)("p",{children:"Unlock all files"})}function N(){return(0,t.jsx)("p",{children:"Lock all files"})}var C=n(1382),w=n(58092),S=n(78106),k=n(63352),_=n(15388),L=n(12556),I=n(80893);let A=(0,m.eU)(!1);function P(e){let l,n,i,r,o,u,m,f,b,p,g=(0,a.c)(26),{files:v}=e,[j,y]=(0,h.fp)(A);(0,w.E)();let{mutate:N,isPending:C}=(0,s.bU)();g[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],g[0]=l):l=g[0];let[P,T]=x.useState(l);g[1]!==v?(n=()=>{var e;T(null!=(e=null==v?void 0:v.map(F))?e:[])},i=[v],g[1]=v,g[2]=n,g[3]=i):(n=g[2],i=g[3]),x.useLayoutEffect(n,i),g[4]!==P||g[5]!==N?(r=function(){P.length>0&&N({paths:P,action:"unignore"},{onSuccess:D})},g[4]=P,g[5]=N,g[6]=r):r=g[6];let O=r;return g[7]!==y?(o=()=>y(!1),g[7]=y,g[8]=o):o=g[8],g[9]!==v.length||g[10]!==O||g[11]!==C?(u=v.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("div",{className:"flex flex-1"}),(0,t.jsx)(d.$n,{leftIcon:(0,t.jsx)(I.dxg,{className:"text-lg"}),intent:"white",size:"sm",rounded:!0,loading:C,onClick:O,children:"Un-ignore selection"})]}),g[9]=v.length,g[10]=O,g[11]=C,g[12]=u):u=g[12],g[13]!==v.length?(m=0===v.length&&(0,t.jsx)(S.D,{title:null,children:"No ignored files"}),g[13]=v.length,g[14]=m):m=g[14],g[15]!==v||g[16]!==P?(f=v.length>0&&(0,t.jsxs)("div",{className:"bg-gray-950 border p-2 px-2 divide-y divide-[--border] rounded-[--radius-md] max-h-[85vh] max-w-full overflow-x-auto overflow-y-auto text-sm",children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(k.Sc,{label:"Select all files",value:P.length===(null==v?void 0:v.length)||0!==P.length&&"indeterminate",onValueChange:e=>{"boolean"==typeof e&&T(e=>{var l;return e.length===(null==v?void 0:v.length)?[]:null!=(l=null==v?void 0:v.map(E))?l:[]})},fieldClass:"w-[fit-content]"})}),v.map((e,l)=>(0,t.jsx)("div",{className:"p-2 ",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(k.Sc,{label:"".concat(L.V.basename(e.path)),value:P.includes(e.path),onValueChange:l=>{"boolean"==typeof l&&T(n=>l?[...n,e.path]:n.filter(l=>l!==e.path))},fieldClass:"w-[fit-content]"})})},"".concat(e.path,"-").concat(l)))]}),g[15]=v,g[16]=P,g[17]=f):f=g[17],g[18]!==u||g[19]!==m||g[20]!==f?(b=(0,t.jsxs)(c.KZ,{className:"mt-4",children:[u,m,f]}),g[18]=u,g[19]=m,g[20]=f,g[21]=b):b=g[21],g[22]!==j||g[23]!==o||g[24]!==b?(p=(0,t.jsx)(_._s,{open:j,onOpenChange:o,size:"xl",title:"Ignored files",children:b}),g[22]=j,g[23]=o,g[24]=b,g[25]=p):p=g[25],p}function E(e){return e.path}function D(){b.oR.success("Files un-ignored")}function F(e){return e.path}var T=n(10109),O=n(97400),R=n(2311);function K(e){let l,n,i,s=(0,a.c)(6),{mutate:r,isPending:o}=(0,T.Lq)();return s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(R.Lpt,{className:"text-2xl"}),s[0]=l):l=s[0],s[1]!==r?(n=()=>r(),s[1]=r,s[2]=n):n=s[2],s[3]!==o||s[4]!==n?(i=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(O.m_,{trigger:(0,t.jsx)(d.K0,{"data-play-random-episode-button":!0,intent:"white-subtle",icon:l,loading:o,onClick:n}),children:"Play random anime"})}),s[3]=o,s[4]=n,s[5]=i):i=s[5],i}var U=n(7613),V=n(29648),z=n(68205),$=n(2159),B=n(5249);let M=(0,m.eU)(!1);function G(e){let{unknownGroups:l}=e,[n,a]=(0,h.fp)(M),{mutate:i,isPending:s}=(0,z.v)(),{mutate:r,isPending:o}=(0,$.qt)(),u=(0,x.useCallback)(()=>{i({mediaIds:l.map(e=>e.mediaId)})},[l]);x.useEffect(()=>{0===l.length&&a(!1)},[l]);let m=(0,x.useCallback)(e=>{r({mediaId:e,action:"unmatch"},{onSuccess:()=>{b.oR.success("Media unmatched")}})},[]);return 0===l.length?null:(0,t.jsx)(_._s,{"data-unknown-media-manager-drawer":!0,open:n,onOpenChange:e=>{s||a(e)},size:"xl",title:"Resolve hidden media",children:(0,t.jsxs)(c.KZ,{className:"mt-4",children:[(0,t.jsxs)("p",{className:"",children:["Seanime matched ",l.length," group",1===l.length?"":"s"," to media that ",1===l.length?"is":"are"," absent from your AniList collection.",(0,t.jsx)("br",{}),"Add the media to be able to see the entry in your library or unmatch them if incorrect."]}),(0,t.jsx)(d.$n,{leftIcon:(0,t.jsx)(I.Gn0,{}),onClick:u,loading:s,disabled:o,children:"Add all to AniList"}),(0,t.jsx)("div",{className:"divide divide-y divide-[--border] space-y-4",children:l.map(e=>{var l;return(0,t.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,t.jsxs)("h4",{className:"font-semibold flex gap-2 items-center",children:[(0,t.jsxs)("span",{children:["Anilist ID:"," "]}),(0,t.jsxs)(B.i,{href:"https://anilist.co/anime/".concat(e.mediaId),target:"_blank",className:"underline text-brand-200 flex gap-1.5 items-center",children:[e.mediaId," ",(0,t.jsx)(f.zaF,{})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(d.$n,{size:"sm",intent:"primary-subtle",disabled:s,onClick:()=>i({mediaIds:[e.mediaId]}),leftIcon:(0,t.jsx)(f.Ca6,{}),children:"Add to AniList"}),(0,t.jsx)(d.$n,{size:"sm",intent:"warning-subtle",disabled:o,onClick:()=>m(e.mediaId),children:"Unmatch"})]})]}),(0,t.jsx)("div",{className:"bg-gray-900 border p-2 px-2 rounded-[--radius-md] space-y-1 max-h-40 max-w-full overflow-x-auto overflow-y-auto text-sm",children:null==(l=e.localFiles)?void 0:l.sort((e,l)=>{var n,t,a,i;return Number(null!=(a=null==(n=e.parsedInfo)?void 0:n.episode)?a:0)-Number(null!=(i=null==(t=l.parsedInfo)?void 0:t.episode)?i:0)}).map(e=>{var l;return(0,t.jsx)("p",{className:"text-[--muted] line-clamp-1 tracking-wide",children:(null==(l=e.parsedInfo)?void 0:l.original)||e.path},e.path)})})]},e.mediaId)})})]})})}var W=n(91360),X=n(2091),Z=n(76136),H=n(52885),Q=n(35089),q=n(3692),J=n(28718),Y=n(75780);let ee=(0,m.eU)(!1);function el(e){var l,n,a,i,r,o,u,m,f;let{unmatchedGroups:p}=e,[g,v]=(0,h.fp)(ee),[j,y]=x.useState(0),N=p.length-1,[C,S]=x.useState(null==p?void 0:p[0]),[A,P]=x.useState([]),[E,D]=x.useState(0),{mutate:F}=(0,w.E)(),{data:T,mutate:O,isPending:R,reset:K}=(0,$.XD)(),{mutate:U,isPending:V}=(0,s.bU)(),{mutate:z,isPending:M}=(0,$.Zx)(),G=V||M,[el,en]=x.useState(0),et=x.useCallback(e=>{e&&!isNaN(Number(e))&&(D(Number(e)),en(e=>e+1))},[]);x.useLayoutEffect(()=>{var e,l;P(null!=(l=null==C||null==(e=C.localFiles)?void 0:e.map(e=>e.path))?l:[])},[C]),x.useEffect(()=>{y(0),S(p[0])},[g,p]),x.useEffect(()=>{S(p[j]),D(0),K()},[j,p]);let ea=x.useCallback(()=>(0,t.jsx)(Z.Q,{value:E,onValueChange:e=>D(e),formatOptions:{useGrouping:!1}}),[null==C?void 0:C.dir,el]);function ei(){0===j&&1===p.length&&v(!1),D(0),K(),y(0),S(p[0])}let es=x.useCallback(()=>{O({dir:C.dir})},[null==C?void 0:C.dir,O]);return(x.useEffect(()=>{C||v(!1)},[C]),C)?(0,t.jsx)(_._s,{"data-unmatched-file-manager-drawer":!0,open:g,onOpenChange:()=>v(!1),size:"xl",title:"Unmatched files",children:(0,t.jsxs)(c.KZ,{className:"mt-4",children:[(0,t.jsxs)("div",{className:(0,W.cn)("flex w-full justify-between",{hidden:p.length<=1}),children:[(0,t.jsx)(d.$n,{intent:"gray-subtle",leftIcon:(0,t.jsx)(q.QVr,{}),disabled:0===j,onClick:()=>{y(e=>e-1)},className:(0,W.cn)("transition-opacity",{"opacity-0":0===j}),children:"Previous"}),(0,t.jsxs)("p",{children:[j+1," / ",N+1]}),(0,t.jsx)(d.$n,{intent:"gray-subtle",rightIcon:(0,t.jsx)(q.Z0P,{}),disabled:j>=N,onClick:()=>{y(e=>e+1)},className:(0,W.cn)("transition-opacity",{"opacity-0":j>=N}),children:"Next"})]}),(0,t.jsxs)("div",{className:"bg-gray-900 border  p-2 px-4 rounded-[--radius-md] line-clamp-1 flex gap-2 items-center cursor-pointer transition hover:bg-opacity-80",onClick:()=>F({path:C.dir}),children:[(0,t.jsx)(J.WNP,{className:"text-2xl"}),C.dir]}),(0,t.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:(0,t.jsxs)("div",{className:"flex gap-2 items-center w-full",children:[(0,t.jsx)("p",{className:"flex-none text-lg mr-2 font-semibold",children:"Anilist ID"}),(0,t.jsx)(ea,{}),(0,t.jsx)(d.$n,{intent:"white",onClick:function(){C&&E>0&&A.length>0&&z({paths:A,mediaId:E},{onSuccess:()=>{ei()}})},disabled:G,children:"Match selection"})]})}),(0,t.jsxs)("div",{className:"bg-gray-950 border p-2 px-2 divide-y divide-[--border] rounded-[--radius-md] max-h-[50vh] max-w-full overflow-x-auto overflow-y-auto text-sm",children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(k.Sc,{label:"Select all files",value:A.length===(null==C||null==(l=C.localFiles)?void 0:l.length)||0!==A.length&&"indeterminate",onValueChange:e=>{"boolean"==typeof e&&P(e=>{var l,n,t;return e.length===(null==C||null==(l=C.localFiles)?void 0:l.length)?[]:null!=(t=null==C||null==(n=C.localFiles)?void 0:n.map(e=>e.path))?t:[]})},fieldClass:"w-[fit-content]"})}),null==(n=C.localFiles)?void 0:n.sort((e,l)=>{var n,t,a,i;return Number(null!=(a=null==(n=e.parsedInfo)?void 0:n.episode)?a:0)-Number(null!=(i=null==(t=l.parsedInfo)?void 0:t.episode)?i:0)}).map((e,l)=>(0,t.jsx)("div",{className:"p-2 ",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(k.Sc,{label:"".concat(L.V.basename(e.path)),value:A.includes(e.path),onValueChange:l=>{"boolean"==typeof l&&P(n=>l?[...n,e.path]:n.filter(l=>l!==e.path))},labelClass:"text-sm tracking-wide data-[checked=false]:opacity-50",fieldClass:"w-[fit-content]"})})},"".concat(e.path,"-").concat(l)))]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,t.jsx)(d.$n,{leftIcon:(0,t.jsx)(Y.CKj,{}),intent:"primary-subtle",onClick:es,children:"Fetch suggestions"}),(0,t.jsx)(B.i,{target:"_blank",href:"https://anilist.co/search/anime?search=".concat(encodeURIComponent((null==C||null==(r=C.localFiles)||null==(i=r[0])||null==(a=i.parsedInfo)?void 0:a.title)||(null==C||null==(f=C.localFiles)||null==(m=f[0])||null==(u=m.parsedFolderInfo)||null==(o=u[0])?void 0:o.title)||"")),children:(0,t.jsx)(d.$n,{intent:"white-link",children:"Search on AniList"})}),(0,t.jsx)("div",{className:"flex flex-1"}),(0,t.jsx)(d.$n,{leftIcon:(0,t.jsx)(I.dxg,{className:"text-lg"}),intent:"warning-subtle",size:"sm",rounded:!0,disabled:G,onClick:function(){A.length>0&&U({paths:A,action:"ignore"},{onSuccess:()=>{ei(),b.oR.success("Files ignored")}})},children:"Ignore selection"})]}),R&&(0,t.jsx)(X.kt,{}),!R&&!!(null==T?void 0:T.length)&&(0,t.jsx)(H.z,{defaultValue:"1",fieldClass:"w-full",fieldLabelClass:"text-md",label:"Select Anime",value:String(E),onValueChange:et,options:null==T?void 0:T.map(e=>{var l,n,a,i,s,r,o;return{label:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base md:text-md font-medium !-mt-1.5 line-clamp-1",children:(null==(l=e.title)?void 0:l.userPreferred)||(null==(n=e.title)?void 0:n.english)||(null==(a=e.title)?void 0:a.romaji)||"N/A"}),(0,t.jsxs)("div",{className:"mt-2 flex w-full gap-4",children:[(null==(i=e.coverImage)?void 0:i.medium)&&(0,t.jsx)("div",{className:"h-28 w-28 flex-none rounded-[--radius-md] object-cover object-center relative overflow-hidden",children:(0,t.jsx)(Q.default,{src:e.coverImage.medium,alt:"",fill:!0,quality:100,priority:!0,sizes:"10rem",className:"object-cover object-center"})}),(0,t.jsxs)("div",{className:"text-[--muted]",children:[(0,t.jsxs)("p",{children:["Type: ",(0,t.jsx)("span",{className:"text-gray-200 font-semibold",children:e.format})]}),(0,t.jsxs)("p",{children:["Aired: ",(null==(s=e.startDate)?void 0:s.year)?new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(new Date((null==(r=e.startDate)?void 0:r.year)||0,(null==(o=e.startDate)?void 0:o.month)||0)):"-"]}),(0,t.jsxs)("p",{children:["Status: ",e.status]}),(0,t.jsx)(B.i,{href:"https://anilist.co/anime/".concat(e.id),target:"_blank",children:(0,t.jsx)(d.$n,{intent:"primary-link",size:"sm",className:"px-0",children:"Open on AniList"})})]})]})]}),value:String(e.id)||""}}),stackClass:"grid grid-cols-1 md:grid-cols-2 gap-2 space-y-0",itemContainerClass:(0,W.cn)("items-start cursor-pointer transition border-transparent rounded-[--radius] p-4 w-full","bg-gray-50 hover:bg-[--subtle] dark:bg-gray-900","data-[state=checked]:bg-white dark:data-[state=checked]:bg-gray-950","focus:ring-2 ring-brand-100 dark:ring-brand-900 ring-offset-1 ring-offset-[--background] focus-within:ring-2 transition","border border-transparent data-[state=checked]:border-[--brand] data-[state=checked]:ring-offset-0"),itemClass:(0,W.cn)("border-transparent absolute top-2 right-2 bg-transparent dark:bg-transparent dark:data-[state=unchecked]:bg-transparent","data-[state=unchecked]:bg-transparent data-[state=unchecked]:hover:bg-transparent dark:data-[state=unchecked]:hover:bg-transparent","focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent"),itemIndicatorClass:"hidden",itemLabelClass:"font-medium flex flex-col items-center data-[state=checked]:text-[--brand] cursor-pointer"})]})}):null}let en=(0,m.eU)("base");var et=n(37817),ea=n(17934),ei=n(91332),es=n(38628),er=n(41452),eo=n(28002),ec=n(10653);function ed(e){var l,n,i,s,r,o,c,u,m,x,b,g,v,j,y,N;let C,S,k,_,L,P,E,D,F=(0,a.c)(32),{unmatchedLocalFiles:T,unknownGroups:R,hasEntries:z}=e,$=(0,ei.Ky)(),G=(0,h.Xr)(p),X=(0,et.v1)(),Z=(0,h.Xr)(V.ho),H=(0,h.Xr)(ee),Q=(0,h.Xr)(A),q=(0,h.Xr)(M),J=(0,h.Xr)(U.t),[el,ed]=(0,h.fp)(en),{mutate:em}=(0,w.E)();return F[0]!==z||F[1]!==$.hideTopNavbar||F[2]!==$.libraryScreenBannerType?(C=$.libraryScreenBannerType===ei.H4.Dynamic&&z&&(0,t.jsx)("div",{className:(0,W.cn)("h-28",$.hideTopNavbar&&"h-40"),"data-library-toolbar-top-padding":!0}),F[0]=z,F[1]=$.hideTopNavbar,F[2]=$.libraryScreenBannerType,F[3]=C):C=F[3],F[4]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("div",{className:"flex flex-1","data-library-toolbar-spacer":!0}),F[4]=S):S=F[4],F[5]!==z||F[6]!==el||F[7]!==ed||F[8]!==J||F[9]!==Z||F[10]!==(null==X||null==(n=X.settings)||null==(l=n.library)?void 0:l.libraryPath)?(k=!!(null==X||null==(o=X.settings)||null==(r=o.library)?void 0:r.libraryPath)&&z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.m_,{trigger:(0,t.jsx)(d.K0,{"data-library-toolbar-switch-view-button":!0,intent:"base"===el?"white-subtle":"primary",icon:(0,t.jsx)(es.ItZ,{className:"text-2xl"}),onClick:()=>ed(eu)}),children:"Switch view"}),(0,t.jsx)(O.m_,{trigger:(0,t.jsx)(d.K0,{"data-library-toolbar-playlists-button":!0,intent:"white-subtle",icon:(0,t.jsx)(er.wHW,{className:"text-2xl"}),onClick:()=>J(!0)}),children:"Playlists"}),(0,t.jsx)(K,{}),(0,t.jsx)(d.$n,{"data-library-toolbar-scan-button":!0,intent:z?"primary-subtle":"primary",leftIcon:z?(0,t.jsx)(I.yPB,{className:"text-xl"}):(0,t.jsx)(Y.CKj,{className:"text-xl"}),onClick:()=>Z(!0),hideTextOnSmallScreen:!0,children:z?"Refresh library":"Scan your library"})]}),F[5]=z,F[6]=el,F[7]=ed,F[8]=J,F[9]=Z,F[10]=null==X||null==(u=X.settings)||null==(c=u.library)?void 0:c.libraryPath,F[11]=k):k=F[11],F[12]!==H||F[13]!==T.length?(_=T.length>0&&(0,t.jsxs)(d.$n,{"data-library-toolbar-unmatched-button":!0,intent:"alert",leftIcon:(0,t.jsx)(es.Q9o,{}),className:"animate-bounce",onClick:()=>H(!0),children:["Resolve unmatched (",T.length,")"]}),F[12]=H,F[13]=T.length,F[14]=_):_=F[14],F[15]!==q||F[16]!==R.length?(L=R.length>0&&(0,t.jsxs)(d.$n,{"data-library-toolbar-unknown-button":!0,intent:"warning",leftIcon:(0,t.jsx)(es.Q9o,{}),className:"animate-bounce",onClick:()=>q(!0),children:["Resolve hidden media (",R.length,")"]}),F[15]=q,F[16]=R.length,F[17]=L):L=F[17],F[18]!==z||F[19]!==em||F[20]!==G||F[21]!==Q||F[22]!==(null==X||null==(s=X.settings)||null==(i=s.library)?void 0:i.libraryPath)?(P=!!(null==X||null==(x=X.settings)||null==(m=x.library)?void 0:m.libraryPath)&&(0,t.jsxs)(ea.rI,{trigger:(0,t.jsx)(d.K0,{"data-library-toolbar-dropdown-menu-trigger":!0,icon:(0,t.jsx)(f.voe,{}),intent:"gray-basic"}),children:[(0,t.jsxs)(ea._2,{"data-library-toolbar-open-directory-button":!0,disabled:!(null==X||null==(g=X.settings)||null==(b=g.library)?void 0:b.libraryPath),className:(0,W.cn)("cursor-pointer",{"!text-[--muted]":!(null==X||null==(j=X.settings)||null==(v=j.library)?void 0:v.libraryPath)}),onClick:()=>{var e,l,n;em({path:null!=(n=null==X||null==(l=X.settings)||null==(e=l.library)?void 0:e.libraryPath)?n:""})},children:[(0,t.jsx)(f.gNt,{}),(0,t.jsx)("span",{children:"Open directory"})]}),(0,t.jsxs)(ea._2,{"data-library-toolbar-bulk-actions-button":!0,onClick:()=>G(!0),disabled:!z,className:(0,W.cn)({"!text-[--muted]":!z}),children:[(0,t.jsx)(f.S6K,{}),(0,t.jsx)("span",{children:"Bulk actions"})]}),(0,t.jsxs)(ea._2,{"data-library-toolbar-ignored-files-button":!0,onClick:()=>Q(!0),className:(0,W.cn)({"!text-[--muted]":!z}),children:[(0,t.jsx)(I.dxg,{}),(0,t.jsx)("span",{children:"Ignored files"})]}),(0,t.jsx)(B.i,{href:"/scan-summaries",children:(0,t.jsxs)(ea._2,{"data-library-toolbar-scan-summaries-button":!0,children:[(0,t.jsx)(eo.LIR,{}),(0,t.jsx)("span",{children:"Scan summaries"})]})}),(0,t.jsx)(ec.QV,{})]}),F[18]=z,F[19]=em,F[20]=G,F[21]=Q,F[22]=null==X||null==(N=X.settings)||null==(y=N.library)?void 0:y.libraryPath,F[23]=P):P=F[23],F[24]!==k||F[25]!==_||F[26]!==L||F[27]!==P?(E=(0,t.jsxs)("div",{className:"flex flex-wrap w-full justify-end gap-2 p-4 relative z-[10]","data-library-toolbar-container":!0,children:[S,k,_,L,P]}),F[24]=k,F[25]=_,F[26]=L,F[27]=P,F[28]=E):E=F[28],F[29]!==C||F[30]!==E?(D=(0,t.jsxs)(t.Fragment,{children:[C,E]}),F[29]=C,F[30]=E,F[31]=D):D=F[31],D}function eu(e){return"detailed"===e?"base":"detailed"}var em=n(90984),eh=n(83394),ex=n(14370),ef=n(85210),eb=n(47555);let ep={...ef.Bq,sorting:"TITLE"},eg=(0,eb.E)(ep),ev=(0,eb.E)("-"),ej=(0,eb.E)("");var ey=n(36945),eN=n(61585),eC=n(52947),ew=n(62394),eS=n(45754),ek=n(30033),e_=n(60695),eL=n(23391),eI=n(53712),eA=n(80743),eP=n(78711),eE=n(78453),eD=n(43994),eF=n(40568);function eT(e){let l,n,i,s,r,o,c,u,m,f,b,p,g,v,j,y,N,C,w,S,k,_,L,I,A,P,E,D,F,T=(0,a.c)(57),{isLoading:O,hasEntries:R}=e;(0,ei.Ky)();let K=(0,h.Xr)(en),{stats:U,libraryCollectionList:V,libraryGenres:$}=function(){var e,l,n,t,a,i,s,r,o,c;let d=(0,et.v1)(),{animeLibraryCollectionDefaultSorting:u}=(0,ei.Ky)(),{data:m}=(0,eh.H_)(),{data:f,isLoading:b}=(0,z.l)(),[p,g]=(0,h.fp)(eg),v=(0,ex.d)(p,500),j=(0,h.md)(ej);x.useLayoutEffect(()=>{let e={...p};e.sorting=u,g(e)},[f,u]);let y=x.useMemo(()=>{if(!f||!f.lists)return[];let e=f.lists.map(e=>{var l,n;if(!e)return e;let t=(0,ef.TI)(e.entries,p,null==d||null==(n=d.settings)||null==(l=n.anilist)?void 0:l.enableAdultContent,f.continueWatchingList,m);return{type:e.type,status:e.status,entries:t}});return[e.find(e=>"CURRENT"===e.type),e.find(e=>"PAUSED"===e.type),e.find(e=>"PLANNING"===e.type),e.find(e=>"COMPLETED"===e.type),e.find(e=>"DROPPED"===e.type)].filter(Boolean)},[f,v,null==d||null==(l=d.settings)||null==(e=l.anilist)?void 0:e.enableAdultContent,m]),N=x.useMemo(()=>y.map(e=>{if(!e)return e;let l=(0,ef.Qw)(e.entries,j);return{type:e.type,status:e.status,entries:l}}).filter(Boolean),[y,j]),C=x.useMemo(()=>{var e,l,n,t;return(null==f?void 0:f.continueWatchingList)?!(null==d||null==(l=d.settings)||null==(e=l.anilist)?void 0:e.enableAdultContent)||(null==d||null==(t=d.settings)||null==(n=t.anilist)?void 0:n.blurAdultContent)?f.continueWatchingList.filter(e=>{var l;return(null==(l=e.baseAnime)?void 0:l.isAdult)===!1}):f.continueWatchingList:[]},[null==f?void 0:f.continueWatchingList,null==d||null==(t=d.settings)||null==(n=t.anilist)?void 0:n.enableAdultContent,null==d||null==(i=d.settings)||null==(a=i.anilist)?void 0:a.blurAdultContent]),w=x.useMemo(()=>{var e;return null==(e=[...new Set(null==N?void 0:N.flatMap(e=>{var l,n;return null!=(n=null==(l=e.entries)?void 0:l.flatMap(e=>{var l;return null==(l=e.media)?void 0:l.genres}))?n:[]}))].filter(Boolean))?void 0:e.sort((e,l)=>e.localeCompare(l))},[N]);return{isLoading:b,stats:null==f?void 0:f.stats,libraryCollectionList:N,libraryGenres:w,continueWatchingList:C,unmatchedLocalFiles:null!=(s=null==f?void 0:f.unmatchedLocalFiles)?s:[],ignoredLocalFiles:null!=(r=null==f?void 0:f.ignoredLocalFiles)?r:[],unmatchedGroups:null!=(o=null==f?void 0:f.unmatchedGroups)?o:[],unknownGroups:null!=(c=null==f?void 0:f.unknownGroups)?c:[]}}();if(O){let e;return T[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(X.kt,{}),T[0]=e):e=T[0],e}if(!R)return null;T[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(eE.nXt,{}),T[1]=l):l=T[1],T[2]!==K?(n=(0,t.jsx)(d.K0,{icon:l,rounded:!0,intent:"white-outline",size:"sm",onClick:()=>K("base")}),T[2]=K,T[3]=n):n=T[3],T[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("h3",{className:"text-ellipsis truncate",children:"Library"}),T[4]=i):i=T[4],T[5]!==n?(s=(0,t.jsxs)("div",{className:"flex gap-4 items-center relative w-fit",children:[n,i]}),T[5]=n,T[6]=s):s=T[6],T[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(eU,{}),T[7]=r):r=T[7],T[8]!==s?(o=(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between","data-detailed-library-view-header-container":!0,children:[s,r]}),T[8]=s,T[9]=o):o=T[9];let B=null==U?void 0:U.totalSize;T[10]!==B?(c=(0,t.jsx)("h3",{children:B}),T[10]=B,T[11]=c):c=T[11],T[12]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("p",{children:"Library"}),T[12]=u):u=T[12],T[13]!==c?(m=(0,t.jsxs)("div",{children:[c,u]}),T[13]=c,T[14]=m):m=T[14];let M=null==U?void 0:U.totalFiles;T[15]!==M?(f=(0,t.jsx)("h3",{children:M}),T[15]=M,T[16]=f):f=T[16],T[17]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("p",{children:"Files"}),T[17]=b):b=T[17],T[18]!==f?(p=(0,t.jsxs)("div",{children:[f,b]}),T[18]=f,T[19]=p):p=T[19];let G=null==U?void 0:U.totalEntries;T[20]!==G?(g=(0,t.jsx)("h3",{children:G}),T[20]=G,T[21]=g):g=T[21],T[22]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("p",{children:"Entries"}),T[22]=v):v=T[22],T[23]!==g?(j=(0,t.jsxs)("div",{children:[g,v]}),T[23]=g,T[24]=j):j=T[24];let W=null==U?void 0:U.totalShows;T[25]!==W?(y=(0,t.jsx)("h3",{children:W}),T[25]=W,T[26]=y):y=T[26],T[27]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("p",{children:"TV Shows"}),T[27]=N):N=T[27],T[28]!==y?(C=(0,t.jsxs)("div",{children:[y,N]}),T[28]=y,T[29]=C):C=T[29];let Z=null==U?void 0:U.totalMovies;T[30]!==Z?(w=(0,t.jsx)("h3",{children:Z}),T[30]=Z,T[31]=w):w=T[31],T[32]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("p",{children:"Movies"}),T[32]=S):S=T[32],T[33]!==w?(k=(0,t.jsxs)("div",{children:[w,S]}),T[33]=w,T[34]=k):k=T[34];let H=null==U?void 0:U.totalSpecials;return T[35]!==H?(_=(0,t.jsx)("h3",{children:H}),T[35]=H,T[36]=_):_=T[36],T[37]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsx)("p",{children:"Specials"}),T[37]=L):L=T[37],T[38]!==_?(I=(0,t.jsxs)("div",{children:[_,L]}),T[38]=_,T[39]=I):I=T[39],T[40]!==p||T[41]!==j||T[42]!==C||T[43]!==k||T[44]!==I||T[45]!==m?(A=(0,t.jsxs)("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-4 [&>div]:text-center [&>div>p]:text-[--muted]","data-detailed-library-view-stats-container":!0,children:[m,p,j,C,k,I]}),T[40]=p,T[41]=j,T[42]=C,T[43]=k,T[44]=I,T[45]=m,T[46]=A):A=T[46],T[47]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)(eV,{}),T[47]=P):P=T[47],T[48]!==$?(E=(0,t.jsx)(eM,{genres:$}),T[48]=$,T[49]=E):E=T[49],T[50]!==V?(D=V.map(eO),T[50]=V,T[51]=D):D=T[51],T[52]!==A||T[53]!==E||T[54]!==D||T[55]!==o?(F=(0,t.jsxs)(eS.f,{className:"p-4 space-y-8 relative z-[4]","data-detailed-library-view-container":!0,children:[o,A,P,E,D]}),T[52]=A,T[53]=E,T[54]=D,T[55]=o,T[56]=F):F=T[56],F}function eO(e){var l;return(null==(l=e.entries)?void 0:l.length)?(0,t.jsx)(eR,{list:e},e.type):null}let eR=x.memo(e=>{var l,n,i,s;let r,o,c,d,u,m,f=(0,a.c)(16),{list:b}=e,p=(0,h.md)(ev);if("-"!==p&&p!==b.type)return null;let g=b.type;f[0]!==b.type?(r=(0,eA.me)(b.type),f[0]=b.type,f[1]=r):r=f[1];let v=null!=(i=null==b||null==(l=b.entries)?void 0:l.length)?i:0;f[2]!==v?(o=(0,t.jsx)("span",{className:"text-[--muted] font-medium ml-3",children:v}),f[2]=v,f[3]=o):o=f[3],f[4]!==r||f[5]!==o?(c=(0,t.jsxs)("h2",{children:[r," ",o]}),f[4]=r,f[5]=o,f[6]=c):c=f[6];let j=(null==b||null==(n=b.entries)?void 0:n.length)||0;return f[7]!==b.entries?(d=null==(s=b.entries)?void 0:s.map(eW),f[7]=b.entries,f[8]=d):d=f[8],f[9]!==j||f[10]!==d?(u=(0,t.jsx)(ey.xt,{itemCount:j,children:d}),f[9]=j,f[10]=d,f[11]=u):u=f[11],f[12]!==b.type||f[13]!==c||f[14]!==u?(m=(0,t.jsxs)(x.Fragment,{children:[c,u]},g),f[12]=b.type,f[13]=c,f[14]=u,f[15]=m):m=f[15],m}),eK=x.memo(e=>{let l,n=(0,a.c)(4),{entry:i}=e;return n[0]!==i.libraryData||n[1]!==i.listData||n[2]!==i.media?(l=(0,t.jsx)(eN.V,{media:i.media,listData:i.listData,libraryData:i.libraryData,showListDataButton:!0,withAudienceScore:!1,type:"anime"}),n[0]=i.libraryData,n[1]=i.listData,n[2]=i.media,n[3]=l):l=n[3],l}),eU=()=>{let e,l,n,i,s,r=(0,a.c)(9),[o,c]=x.useState(""),d=(0,h.Xr)(ej),u=(0,ex.d)(o,500);return r[0]!==o||r[1]!==d?(e=()=>{d(o)},r[0]=o,r[1]=d,r[2]=e):e=r[2],r[3]!==u?(l=[u],r[3]=u,r[4]=l):l=r[4],x.useEffect(e,l),r[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(Y.CKj,{}),r[5]=n):n=r[5],r[6]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{c(e)},r[6]=i):i=r[6],r[7]!==o?(s=(0,t.jsx)("div",{className:"w-full md:w-[300px]",children:(0,t.jsx)(eI.k,{leftIcon:n,value:o,onValueChange:i,className:"rounded-full bg-gray-900/50"})}),r[7]=o,r[8]=s):s=r[8],s};function eV(){var e,l,n,i,s,r;let o,u,m,x,b,p,g,v,j,y,N,C,w,S,k,_,L,I,A,P,E,D,F,T,O,R,K,U,V,z,$,B,M,G,X,Z,H,Q,J,Y,ee,el=(0,a.c)(108),en=(0,et.v1)(),[ea,ei]=(0,h.fp)(eg),[es,eo]=(0,h.fp)(ev),ec="-"===es;el[0]!==eo?(o=()=>eo("-"),el[0]=eo,el[1]=o):o=el[1],el[2]!==ec||el[3]!==o?(u={name:"All",isCurrent:ec,onClick:o},el[2]=ec,el[3]=o,el[4]=u):u=el[4];let ed="CURRENT"===es;el[5]!==eo?(m=()=>eo("CURRENT"),el[5]=eo,el[6]=m):m=el[6],el[7]!==ed||el[8]!==m?(x={name:"Watching",isCurrent:ed,onClick:m},el[7]=ed,el[8]=m,el[9]=x):x=el[9];let eu="PLANNING"===es;el[10]!==eo?(b=()=>eo("PLANNING"),el[10]=eo,el[11]=b):b=el[11],el[12]!==eu||el[13]!==b?(p={name:"Planning",isCurrent:eu,onClick:b},el[12]=eu,el[13]=b,el[14]=p):p=el[14];let em="PAUSED"===es;el[15]!==eo?(g=()=>eo("PAUSED"),el[15]=eo,el[16]=g):g=el[16],el[17]!==g||el[18]!==em?(v={name:"Paused",isCurrent:em,onClick:g},el[17]=g,el[18]=em,el[19]=v):v=el[19];let eh="COMPLETED"===es;el[20]!==eo?(j=()=>eo("COMPLETED"),el[20]=eo,el[21]=j):j=el[21],el[22]!==eh||el[23]!==j?(y={name:"Completed",isCurrent:eh,onClick:j},el[22]=eh,el[23]=j,el[24]=y):y=el[24];let ex="DROPPED"===es;el[25]!==eo?(N=()=>eo("DROPPED"),el[25]=eo,el[26]=N):N=el[26],el[27]!==ex||el[28]!==N?(C={name:"Dropped",isCurrent:ex,onClick:N},el[27]=ex,el[28]=N,el[29]=C):C=el[29],el[30]!==v||el[31]!==y||el[32]!==C||el[33]!==u||el[34]!==x||el[35]!==p?(w=(0,t.jsx)("div",{className:"flex w-full justify-center",children:(0,t.jsx)(eL.tH,{className:"h-10 w-fit pb-6",triggerClass:"px-4 py-1",items:[u,x,p,v,y,C]})}),el[30]=v,el[31]=y,el[32]=C,el[33]=u,el[34]=x,el[35]=p,el[36]=w):w=el[36];let eb="TITLE"!==ea.sorting&&"text-indigo-300 font-bold text-xl";el[37]!==eb?(S=(0,W.cn)(eb),el[37]=eb,el[38]=S):S=el[38],el[39]!==S?(k=(0,t.jsx)(q.EDF,{className:S}),el[39]=S,el[40]=k):k=el[40];let ej=ea.sorting||"TITLE";el[41]!==ei?(_=e=>ei(l=>{l.sorting=e}),el[41]=ei,el[42]=_):_=el[42],el[43]!==k||el[44]!==ej||el[45]!==_?(L=(0,t.jsx)(ek.l,{label:"Sorting",leftAddon:k,className:"w-full",fieldClass:"flex items-center",inputContainerClass:"w-full",options:ef.wi,value:ej,onValueChange:_,fieldLabelClass:"hidden"}),el[43]=k,el[44]=ej,el[45]=_,el[46]=L):L=el[46];let ey=null!==ea.format&&""!==ea.format&&"text-indigo-300 font-bold text-xl";el[47]!==ey?(I=(0,W.cn)(ey),el[47]=ey,el[48]=I):I=el[48],el[49]!==I?(A=(0,t.jsx)(er.xjJ,{className:I}),el[49]=I,el[50]=A):A=el[50];let eN=ea.format||"";el[51]!==ei?(P=e=>ei(l=>{l.format=e}),el[51]=ei,el[52]=P):P=el[52],el[53]!==A||el[54]!==eN||el[55]!==P?(E=(0,t.jsx)(ek.l,{leftAddon:A,label:"Format",placeholder:"All formats",className:"w-full",fieldClass:"w-full",options:ew.xh,value:eN,onValueChange:P,fieldLabelClass:"hidden"}),el[53]=A,el[54]=eN,el[55]=P,el[56]=E):E=el[56];let eC=null!==ea.status&&""!==ea.status&&"text-indigo-300 font-bold text-xl";el[57]!==eC?(D=(0,W.cn)(eC),el[57]=eC,el[58]=D):D=el[58],el[59]!==D?(F=(0,t.jsx)(eF.PgI,{className:D}),el[59]=D,el[60]=F):F=el[60],el[61]===Symbol.for("react.memo_cache_sentinel")?(T=[...ew._v],el[61]=T):T=el[61];let eS=ea.status||"";el[62]!==ei?(O=e=>ei(l=>{l.status=e}),el[62]=ei,el[63]=O):O=el[63],el[64]!==F||el[65]!==eS||el[66]!==O?(R=(0,t.jsx)(ek.l,{leftAddon:F,label:"Status",placeholder:"All statuses",className:"w-full",fieldClass:"w-full",options:T,value:eS,onValueChange:O,fieldLabelClass:"hidden"}),el[64]=F,el[65]=eS,el[66]=O,el[67]=R):R=el[67];let eI=null!==ea.season&&""!==ea.season&&"text-indigo-300 font-bold text-xl";el[68]!==eI?(K=(0,W.cn)(eI),el[68]=eI,el[69]=K):K=el[69],el[70]!==K?(U=(0,t.jsx)(eD.Cfp,{className:K}),el[70]=K,el[71]=U):U=el[71],el[72]===Symbol.for("react.memo_cache_sentinel")?(V=ew.lW.map(eB),el[72]=V):V=el[72];let eA=ea.season||"";el[73]!==ei?(z=e=>ei(l=>{l.season=e}),el[73]=ei,el[74]=z):z=el[74],el[75]!==U||el[76]!==eA||el[77]!==z?($=(0,t.jsx)(ek.l,{leftAddon:U,label:"Season",placeholder:"All seasons",className:"w-full",fieldClass:"w-full flex items-center",inputContainerClass:"w-full",options:V,value:eA,onValueChange:z,fieldLabelClass:"hidden"}),el[75]=U,el[76]=eA,el[77]=z,el[78]=$):$=el[78];let eP=null!==ea.year&&""!==ea.year&&"text-indigo-300 font-bold text-xl";el[79]!==eP?(B=(0,W.cn)(eP),el[79]=eP,el[80]=B):B=el[80],el[81]!==B?(M=(0,t.jsx)(eD.IdP,{className:B}),el[81]=B,el[82]=M):M=el[82],el[83]===Symbol.for("react.memo_cache_sentinel")?(G=[...Array(70)].map(e$).map(ez),el[83]=G):G=el[83];let eE=ea.year||"";return el[84]!==ei?(X=e=>ei(l=>{l.year=e}),el[84]=ei,el[85]=X):X=el[85],el[86]!==M||el[87]!==eE||el[88]!==X?(Z=(0,t.jsx)(ek.l,{leftAddon:M,label:"Year",placeholder:"Timeless",className:"w-full",fieldClass:"w-full",options:G,value:eE,onValueChange:X,fieldLabelClass:"hidden"}),el[86]=M,el[87]=eE,el[88]=X,el[89]=Z):Z=el[89],el[90]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsx)(f.id1,{}),el[90]=H):H=el[90],el[91]!==ei?(Q=(0,t.jsx)("div",{className:"flex gap-4 items-center w-full",children:(0,t.jsx)(d.K0,{icon:H,intent:"alert-subtle",className:"flex-none",onClick:()=>{ei(ep)}})}),el[91]=ei,el[92]=Q):Q=el[92],el[93]!==ea.isAdult||el[94]!==(null==en||null==(l=en.settings)||null==(e=l.anilist)?void 0:e.enableAdultContent)||el[95]!==ei?(J=(null==en||null==(i=en.settings)||null==(n=i.anilist)?void 0:n.enableAdultContent)&&(0,t.jsx)("div",{className:"flex h-full items-center",children:(0,t.jsx)(e_.d,{label:"Adult",value:ea.isAdult,onValueChange:e=>ei(l=>{l.isAdult=e}),fieldLabelClass:"hidden"})}),el[93]=ea.isAdult,el[94]=null==en||null==(r=en.settings)||null==(s=r.anilist)?void 0:s.enableAdultContent,el[95]=ei,el[96]=J):J=el[96],el[97]!==L||el[98]!==E||el[99]!==R||el[100]!==$||el[101]!==Z||el[102]!==Q||el[103]!==J?(Y=(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 2xl:grid-cols-[1fr_1fr_1fr_1fr_1fr_auto_auto] gap-4","data-detailed-library-view-search-options-grid":!0,children:[L,E,R,$,Z,Q,J]}),el[97]=L,el[98]=E,el[99]=R,el[100]=$,el[101]=Z,el[102]=Q,el[103]=J,el[104]=Y):Y=el[104],el[105]!==w||el[106]!==Y?(ee=(0,t.jsxs)(c.KZ,{className:"px-4 xl:px-0","data-detailed-library-view-search-options-container":!0,children:[w,Y]}),el[105]=w,el[106]=Y,el[107]=ee):ee=el[107],ee}function ez(e){return{value:String(e),label:String(e)}}function e$(e,l){return(0,eP.C)(new Date)-l}function eB(e){return{value:e.toUpperCase(),label:e}}function eM(e){var l;let n,i,s,r=(0,a.c)(13),{genres:o}=e,[c,d]=(0,h.fp)(eg),u=!(null==(l=c.genre)?void 0:l.length);if(r[0]!==d?(n=()=>d(eG),r[0]=d,r[1]=n):n=r[1],r[2]!==u||r[3]!==n?(i={name:"All",isCurrent:u,onClick:n},r[2]=u,r[3]=n,r[4]=i):i=r[4],r[5]!==o||r[6]!==c.genre||r[7]!==d||r[8]!==i){let e;r[10]!==c.genre||r[11]!==d?(e=e=>{var l,n;return{name:e,isCurrent:null!=(n=null==(l=c.genre)?void 0:l.includes(e))&&n,onClick:()=>d(l=>{var n,t;(null==(n=l.genre)?void 0:n.includes(e))?l.genre=null==(t=l.genre)?void 0:t.filter(l=>l!==e):l.genre=[...l.genre||[],e]})}},r[10]=c.genre,r[11]=d,r[12]=e):e=r[12],s=(0,t.jsx)(eC.H,{items:[i,...o.map(e)]}),r[5]=o,r[6]=c.genre,r[7]=d,r[8]=i,r[9]=s}else s=r[9];return s}function eG(e){e.genre=[]}function eW(e){return(0,t.jsx)(eK,{entry:e},e.mediaId)}var eX=n(30420),eZ=n(90124);function eH(e){var l,n,i,s,r,o,c,u,m,x,f,b,p,g,v,j,y,N;let C,w,k,_,L=(0,a.c)(10),{isLoading:I,hasEntries:A}=e,P=(0,et.v1)(),E=(0,h.Xr)(V.ho);return A||I?null:(L[0]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(eX.I,{}),L[0]=C):C=L[0],L[1]!==(null==P||null==(l=P.debridSettings)?void 0:l.enabled)||L[2]!==(null==P||null==(i=P.settings)||null==(n=i.library)?void 0:n.enableOnlinestream)||L[3]!==(null==P||null==(r=P.settings)||null==(s=r.library)?void 0:s.libraryPath)||L[4]!==(null==P||null==(o=P.torrentstreamSettings)?void 0:o.enabled)||L[5]!==E?(w=(0,t.jsx)("div",{className:"text-center space-y-4",children:(0,t.jsx)("div",{className:"w-fit mx-auto space-y-4",children:(null==P||null==(u=P.settings)||null==(c=u.library)?void 0:c.libraryPath)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Empty library"}),(0,t.jsx)(d.$n,{intent:"primary-outline",leftIcon:(0,t.jsx)(Y.CKj,{}),size:"xl",rounded:!0,onClick:()=>E(!0),children:"Scan your library"})]}):(0,t.jsx)(S.D,{title:"Nothing to see",className:"",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{children:["Set your ",(0,t.jsxs)("span",{className:"",children:["library path under ",(0,t.jsxs)("span",{className:"text-[--muted]",children:["Settings ",">"," Anime library"]})," to start scanning your library"]}),"."]}),(null==P||null==(x=P.settings)||null==(m=x.library)?void 0:m.enableOnlinestream)&&(0,t.jsxs)("p",{children:["Or, enable ",(0,t.jsx)("span",{className:"text-[--muted] text-base",children:"Include in library"})," under ",(0,t.jsxs)("span",{className:"text-[--muted]",children:["Settings ",">"," Online Streaming"]})," to show non-downloaded anime here."]}),(null==P||null==(f=P.torrentstreamSettings)?void 0:f.enabled)&&(0,t.jsxs)("p",{children:["Or, enable ",(0,t.jsx)("span",{className:"text-[--muted] text-base",children:"Include in library"})," under ",(0,t.jsxs)("span",{className:"text-[--muted]",children:["Settings ",">"," Torrent Streaming"]})," to show non-downloaded anime here."]}),(null==P||null==(b=P.debridSettings)?void 0:b.enabled)&&(0,t.jsxs)("p",{children:["Or, enable ",(0,t.jsx)("span",{className:"text-[--muted] text-base",children:"Include in library"})," under ",(0,t.jsxs)("span",{className:"text-[--muted]",children:["Settings ",">"," Debrid Service"]})," to show non-downloaded anime here."]})]})})})}),L[1]=null==P||null==(p=P.debridSettings)?void 0:p.enabled,L[2]=null==P||null==(v=P.settings)||null==(g=v.library)?void 0:g.enableOnlinestream,L[3]=null==P||null==(y=P.settings)||null==(j=y.library)?void 0:j.libraryPath,L[4]=null==P||null==(N=P.torrentstreamSettings)?void 0:N.enabled,L[5]=E,L[6]=w):w=L[6],L[7]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h3",{children:"Trending this season"}),(0,t.jsx)(eZ.tl,{})]}),L[7]=k):k=L[7],L[8]!==w?(_=(0,t.jsxs)(t.Fragment,{children:[C,(0,t.jsxs)(eS.f,{className:"p-4 sm:p-8 pt-0 space-y-8 relative z-[4]","data-empty-library-view-container":!0,children:[w,k]})]}),L[8]=w,L[9]=_):_=L[9],_)}n(2969);var eQ=n(58443),eq=n(43826);let eJ="force-static";function eY(){let e,l,n,s,r,o,c,d,u,m,x,f,b,p,v=(0,a.c)(52),{libraryGenres:j,libraryCollectionList:y,filteredLibraryCollectionList:N,isLoading:w,continueWatchingList:S,unmatchedLocalFiles:k,ignoredLocalFiles:_,unmatchedGroups:L,unknownGroups:I}=(0,em.VI)(),[A]=(0,h.fp)(en),E=(0,ei.Ky)();return v[0]!==y?(l=null==y?void 0:y.some(e0),v[0]=y,v[1]=l):l=v[1],e=l,v[2]!==e||v[3]!==E?(n=e&&E.libraryScreenBannerType===ei.H4.Custom&&(0,t.jsx)(C.z,{isLibraryScreen:!0}),v[2]=e,v[3]=E,v[4]=n):n=v[4],v[5]!==S||v[6]!==e||v[7]!==E?(s=e&&E.libraryScreenBannerType===ei.H4.Dynamic&&(0,t.jsx)(i.F,{list:S}),v[5]=S,v[6]=e,v[7]=E,v[8]=s):s=v[8],v[9]!==e||v[10]!==_||v[11]!==w||v[12]!==y||v[13]!==I||v[14]!==k?(r=(0,t.jsx)(ed,{collectionList:y,unmatchedLocalFiles:k,ignoredLocalFiles:_,unknownGroups:I,isLoading:w,hasEntries:e}),v[9]=e,v[10]=_,v[11]=w,v[12]=y,v[13]=I,v[14]=k,v[15]=r):r=v[15],v[16]!==e||v[17]!==w?(o=(0,t.jsx)(eH,{isLoading:w,hasEntries:e}),v[16]=e,v[17]=w,v[18]=o):o=v[18],v[19]!==S||v[20]!==N||v[21]!==e||v[22]!==w||v[23]!==y||v[24]!==j||v[25]!==A?(c="base"===A&&(0,t.jsx)(eS.f,{className:"relative 2xl:order-first pb-10 pt-4",initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.25},children:(0,t.jsx)(eQ.v,{genres:j,collectionList:y,filteredCollectionList:N,continueWatchingList:S,isLoading:w,hasEntries:e})},"base"),v[19]=S,v[20]=N,v[21]=e,v[22]=w,v[23]=y,v[24]=j,v[25]=A,v[26]=c):c=v[26],v[27]!==S||v[28]!==e||v[29]!==w||v[30]!==y||v[31]!==A?(d="detailed"===A&&(0,t.jsx)(eS.f,{className:"relative 2xl:order-first pb-10 pt-4",initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,scale:.99},transition:{duration:.25},children:(0,t.jsx)(eT,{collectionList:y,continueWatchingList:S,isLoading:w,hasEntries:e})},"detailed"),v[27]=S,v[28]=e,v[29]=w,v[30]=y,v[31]=A,v[32]=d):d=v[32],v[33]!==c||v[34]!==d?(u=(0,t.jsxs)(eq.N,{mode:"wait",children:[c,d]}),v[33]=c,v[34]=d,v[35]=u):u=v[35],v[36]!==L?(m=(0,t.jsx)(el,{unmatchedGroups:L}),v[36]=L,v[37]=m):m=v[37],v[38]!==I?(x=(0,t.jsx)(G,{unknownGroups:I}),v[38]=I,v[39]=x):x=v[39],v[40]!==_?(f=(0,t.jsx)(P,{files:_}),v[40]=_,v[41]=f):f=v[41],v[42]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)(g,{}),v[42]=b):b=v[42],v[43]!==x||v[44]!==f||v[45]!==n||v[46]!==s||v[47]!==r||v[48]!==o||v[49]!==u||v[50]!==m?(p=(0,t.jsxs)("div",{"data-library-page-container":!0,children:[n,s,r,o,u,m,x,f,b]}),v[43]=x,v[44]=f,v[45]=n,v[46]=s,v[47]=r,v[48]=o,v[49]=u,v[50]=m,v[51]=p):p=v[51],p}function e0(e){var l;return!!(null==(l=e.entries)?void 0:l.length)}},51100:(e,l,n)=>{Promise.resolve().then(n.bind(n,51089))}},e=>{var l=l=>e(e.s=l);e.O(0,[7518,3873,2150,3380,844,9204,6711,585,5897,5479,4506,6446,8087,9910,5760,7753,8429,7949,8481,2362,512,4613,2202,7825,2592,8095,4791,3351,7401,5513,7654,8981,4809,1518,3309,6643,5162,2,1341,3786,8430,4343,295,8316,9582,6094,1332,6069,2148,5354,2223,1520,582,857,6883,1691,9979,7736,6660,3628,9965,8441,6891,7358],()=>l(51100)),_N_E=e.O()}]);